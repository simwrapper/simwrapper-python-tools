(function(){"use strict";function Ae(l){let i=l.length;for(;--i>=0;)l[i]=0}const yn=3,En=258,Ht=29,wn=256+1+Ht,Lt=30,xn=512,mn=new Array((wn+2)*2);Ae(mn);const Rn=new Array(Lt*2);Ae(Rn);const vn=new Array(xn);Ae(vn);const Cn=new Array(En-yn+1);Ae(Cn);const Nn=new Array(Ht);Ae(Nn);const Sn=new Array(Lt);Ae(Sn);var Fe=(l,i,e,u)=>{let d=l&65535|0,o=l>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do d=d+i[u++]|0,o=o+d|0;while(--s);d%=65521,o%=65521}return d|o<<16|0};const Tn=()=>{let l,i=[];for(var e=0;e<256;e++){l=e;for(var u=0;u<8;u++)l=l&1?3988292384^l>>>1:l>>>1;i[e]=l}return i},On=new Uint32Array(Tn());var ae=(l,i,e,u)=>{const d=On,o=u+e;l^=-1;for(let s=u;s<o;s++)l=l>>>8^d[(l^i[s])&255];return l^-1},Pt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ft={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const kn=(l,i)=>Object.prototype.hasOwnProperty.call(l,i);var $n=function(l){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const e=i.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const u in e)kn(e,u)&&(l[u]=e[u])}}return l},In=l=>{let i=0;for(let u=0,d=l.length;u<d;u++)i+=l[u].length;const e=new Uint8Array(i);for(let u=0,d=0,o=l.length;u<o;u++){let s=l[u];e.set(s,d),d+=s.length}return e},Mt={assign:$n,flattenChunks:In};let Bt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bt=!1}const ye=new Uint8Array(256);for(let l=0;l<256;l++)ye[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;ye[254]=ye[254]=1;var Hn=l=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let i,e,u,d,o,s=l.length,n=0;for(d=0;d<s;d++)e=l.charCodeAt(d),(e&64512)===55296&&d+1<s&&(u=l.charCodeAt(d+1),(u&64512)===56320&&(e=65536+(e-55296<<10)+(u-56320),d++)),n+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(n),o=0,d=0;o<n;d++)e=l.charCodeAt(d),(e&64512)===55296&&d+1<s&&(u=l.charCodeAt(d+1),(u&64512)===56320&&(e=65536+(e-55296<<10)+(u-56320),d++)),e<128?i[o++]=e:e<2048?(i[o++]=192|e>>>6,i[o++]=128|e&63):e<65536?(i[o++]=224|e>>>12,i[o++]=128|e>>>6&63,i[o++]=128|e&63):(i[o++]=240|e>>>18,i[o++]=128|e>>>12&63,i[o++]=128|e>>>6&63,i[o++]=128|e&63);return i};const Ln=(l,i)=>{if(i<65534&&l.subarray&&Bt)return String.fromCharCode.apply(null,l.length===i?l:l.subarray(0,i));let e="";for(let u=0;u<i;u++)e+=String.fromCharCode(l[u]);return e};var Pn=(l,i)=>{const e=i||l.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,i));let u,d;const o=new Array(e*2);for(d=0,u=0;u<e;){let s=l[u++];if(s<128){o[d++]=s;continue}let n=ye[s];if(n>4){o[d++]=65533,u+=n-1;continue}for(s&=n===2?31:n===3?15:7;n>1&&u<e;)s=s<<6|l[u++]&63,n--;if(n>1){o[d++]=65533;continue}s<65536?o[d++]=s:(s-=65536,o[d++]=55296|s>>10&1023,o[d++]=56320|s&1023)}return Ln(o,d)},Fn=(l,i)=>{i=i||l.length,i>l.length&&(i=l.length);let e=i-1;for(;e>=0&&(l[e]&192)===128;)e--;return e<0||e===0?i:e+ye[l[e]]>i?e:i},Me={string2buf:Hn,buf2string:Pn,utf8border:Fn};function Mn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bn=Mn;const ve=16209,Un=16191;var Gn=function(i,e){let u,d,o,s,n,a,t,r,b,f,g,x,N,v,c,y,p,E,h,_,A,C,w,R;const $=i.state;u=i.next_in,w=i.input,d=u+(i.avail_in-5),o=i.next_out,R=i.output,s=o-(e-i.avail_out),n=o+(i.avail_out-257),a=$.dmax,t=$.wsize,r=$.whave,b=$.wnext,f=$.window,g=$.hold,x=$.bits,N=$.lencode,v=$.distcode,c=(1<<$.lenbits)-1,y=(1<<$.distbits)-1;e:do{x<15&&(g+=w[u++]<<x,x+=8,g+=w[u++]<<x,x+=8),p=N[g&c];t:for(;;){if(E=p>>>24,g>>>=E,x-=E,E=p>>>16&255,E===0)R[o++]=p&65535;else if(E&16){h=p&65535,E&=15,E&&(x<E&&(g+=w[u++]<<x,x+=8),h+=g&(1<<E)-1,g>>>=E,x-=E),x<15&&(g+=w[u++]<<x,x+=8,g+=w[u++]<<x,x+=8),p=v[g&y];r:for(;;){if(E=p>>>24,g>>>=E,x-=E,E=p>>>16&255,E&16){if(_=p&65535,E&=15,x<E&&(g+=w[u++]<<x,x+=8,x<E&&(g+=w[u++]<<x,x+=8)),_+=g&(1<<E)-1,_>a){i.msg="invalid distance too far back",$.mode=ve;break e}if(g>>>=E,x-=E,E=o-s,_>E){if(E=_-E,E>r&&$.sane){i.msg="invalid distance too far back",$.mode=ve;break e}if(A=0,C=f,b===0){if(A+=t-E,E<h){h-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}}else if(b<E){if(A+=t+b-E,E-=b,E<h){h-=E;do R[o++]=f[A++];while(--E);if(A=0,b<h){E=b,h-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}}}else if(A+=b-E,E<h){h-=E;do R[o++]=f[A++];while(--E);A=o-_,C=R}for(;h>2;)R[o++]=C[A++],R[o++]=C[A++],R[o++]=C[A++],h-=3;h&&(R[o++]=C[A++],h>1&&(R[o++]=C[A++]))}else{A=o-_;do R[o++]=R[A++],R[o++]=R[A++],R[o++]=R[A++],h-=3;while(h>2);h&&(R[o++]=R[A++],h>1&&(R[o++]=R[A++]))}}else if((E&64)===0){p=v[(p&65535)+(g&(1<<E)-1)];continue r}else{i.msg="invalid distance code",$.mode=ve;break e}break}}else if((E&64)===0){p=N[(p&65535)+(g&(1<<E)-1)];continue t}else if(E&32){$.mode=Un;break e}else{i.msg="invalid literal/length code",$.mode=ve;break e}break}}while(u<d&&o<n);h=x>>3,u-=h,x-=h<<3,g&=(1<<x)-1,i.next_in=u,i.next_out=o,i.avail_in=u<d?5+(d-u):5-(u-d),i.avail_out=o<n?257+(n-o):257-(o-n),$.hold=g,$.bits=x};const _e=15,Ut=852,Gt=592,qt=0,Be=1,Zt=2,qn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ee=(l,i,e,u,d,o,s,n)=>{const a=n.bits;let t=0,r=0,b=0,f=0,g=0,x=0,N=0,v=0,c=0,y=0,p,E,h,_,A,C=null,w;const R=new Uint16Array(_e+1),$=new Uint16Array(_e+1);let O=null,m,P,H;for(t=0;t<=_e;t++)R[t]=0;for(r=0;r<u;r++)R[i[e+r]]++;for(g=a,f=_e;f>=1&&R[f]===0;f--);if(g>f&&(g=f),f===0)return d[o++]=1<<24|64<<16|0,d[o++]=1<<24|64<<16|0,n.bits=1,0;for(b=1;b<f&&R[b]===0;b++);for(g<b&&(g=b),v=1,t=1;t<=_e;t++)if(v<<=1,v-=R[t],v<0)return-1;if(v>0&&(l===qt||f!==1))return-1;for($[1]=0,t=1;t<_e;t++)$[t+1]=$[t]+R[t];for(r=0;r<u;r++)i[e+r]!==0&&(s[$[i[e+r]]++]=r);if(l===qt?(C=O=s,w=20):l===Be?(C=qn,O=Zn,w=257):(C=zn,O=Xn,w=0),y=0,r=0,t=b,A=o,x=g,N=0,h=-1,c=1<<g,_=c-1,l===Be&&c>Ut||l===Zt&&c>Gt)return 1;for(;;){m=t-N,s[r]+1<w?(P=0,H=s[r]):s[r]>=w?(P=O[s[r]-w],H=C[s[r]-w]):(P=96,H=0),p=1<<t-N,E=1<<x,b=E;do E-=p,d[A+(y>>N)+E]=m<<24|P<<16|H|0;while(E!==0);for(p=1<<t-1;y&p;)p>>=1;if(p!==0?(y&=p-1,y+=p):y=0,r++,--R[t]===0){if(t===f)break;t=i[e+s[r]]}if(t>g&&(y&_)!==h){for(N===0&&(N=g),A+=b,x=t-N,v=1<<x;x+N<f&&(v-=R[x+N],!(v<=0));)x++,v<<=1;if(c+=1<<x,l===Be&&c>Ut||l===Zt&&c>Gt)return 1;h=y&_,d[h]=g<<24|x<<16|A-o|0}}return y!==0&&(d[A+y]=t-N<<24|64<<16|0),n.bits=g,0};const Kn=0,zt=1,Xt=2,{Z_FINISH:Kt,Z_BLOCK:Wn,Z_TREES:Ce,Z_OK:ge,Z_STREAM_END:Vn,Z_NEED_DICT:jn,Z_STREAM_ERROR:se,Z_DATA_ERROR:Wt,Z_MEM_ERROR:Vt,Z_BUF_ERROR:Qn,Z_DEFLATED:jt}=Ft,Ne=16180,Qt=16181,Yt=16182,Jt=16183,Dt=16184,er=16185,tr=16186,rr=16187,nr=16188,sr=16189,Se=16190,le=16191,Ue=16192,ir=16193,Ge=16194,or=16195,ar=16196,lr=16197,ur=16198,Te=16199,Oe=16200,fr=16201,cr=16202,hr=16203,dr=16204,pr=16205,qe=16206,gr=16207,br=16208,W=16209,Ar=16210,_r=16211,Yn=852,Jn=592,Dn=15,yr=l=>(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24);function es(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const be=l=>{if(!l)return 1;const i=l.state;return!i||i.strm!==l||i.mode<Ne||i.mode>_r?1:0},Er=l=>{if(be(l))return se;const i=l.state;return l.total_in=l.total_out=i.total=0,l.msg="",i.wrap&&(l.adler=i.wrap&1),i.mode=Ne,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(Yn),i.distcode=i.distdyn=new Int32Array(Jn),i.sane=1,i.back=-1,ge},wr=l=>{if(be(l))return se;const i=l.state;return i.wsize=0,i.whave=0,i.wnext=0,Er(l)},xr=(l,i)=>{let e;if(be(l))return se;const u=l.state;return i<0?(e=0,i=-i):(e=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?se:(u.window!==null&&u.wbits!==i&&(u.window=null),u.wrap=e,u.wbits=i,wr(l))},mr=(l,i)=>{if(!l)return se;const e=new es;l.state=e,e.strm=l,e.window=null,e.mode=Ne;const u=xr(l,i);return u!==ge&&(l.state=null),u},ts=l=>mr(l,Dn);let Rr=!0,Ze,ze;const rs=l=>{if(Rr){Ze=new Int32Array(512),ze=new Int32Array(32);let i=0;for(;i<144;)l.lens[i++]=8;for(;i<256;)l.lens[i++]=9;for(;i<280;)l.lens[i++]=7;for(;i<288;)l.lens[i++]=8;for(Ee(zt,l.lens,0,288,Ze,0,l.work,{bits:9}),i=0;i<32;)l.lens[i++]=5;Ee(Xt,l.lens,0,32,ze,0,l.work,{bits:5}),Rr=!1}l.lencode=Ze,l.lenbits=9,l.distcode=ze,l.distbits=5},vr=(l,i,e,u)=>{let d;const o=l.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),u>=o.wsize?(o.window.set(i.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(d=o.wsize-o.wnext,d>u&&(d=u),o.window.set(i.subarray(e-u,e-u+d),o.wnext),u-=d,u?(o.window.set(i.subarray(e-u,e),0),o.wnext=u,o.whave=o.wsize):(o.wnext+=d,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=d))),0},ns=(l,i)=>{let e,u,d,o,s,n,a,t,r,b,f,g,x,N,v=0,c,y,p,E,h,_,A,C;const w=new Uint8Array(4);let R,$;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(be(l)||!l.output||!l.input&&l.avail_in!==0)return se;e=l.state,e.mode===le&&(e.mode=Ue),s=l.next_out,d=l.output,a=l.avail_out,o=l.next_in,u=l.input,n=l.avail_in,t=e.hold,r=e.bits,b=n,f=a,C=ge;e:for(;;)switch(e.mode){case Ne:if(e.wrap===0){e.mode=Ue;break}for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&2&&t===35615){e.wbits===0&&(e.wbits=15),e.check=0,w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0),t=0,r=0,e.mode=Qt;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((t&255)<<8)+(t>>8))%31){l.msg="incorrect header check",e.mode=W;break}if((t&15)!==jt){l.msg="unknown compression method",e.mode=W;break}if(t>>>=4,r-=4,A=(t&15)+8,e.wbits===0&&(e.wbits=A),A>15||A>e.wbits){l.msg="invalid window size",e.mode=W;break}e.dmax=1<<e.wbits,e.flags=0,l.adler=e.check=1,e.mode=t&512?sr:le,t=0,r=0;break;case Qt:for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.flags=t,(e.flags&255)!==jt){l.msg="unknown compression method",e.mode=W;break}if(e.flags&57344){l.msg="unknown header flags set",e.mode=W;break}e.head&&(e.head.text=t>>8&1),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0,e.mode=Yt;case Yt:for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.head&&(e.head.time=t),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,w[2]=t>>>16&255,w[3]=t>>>24&255,e.check=ae(e.check,w,4,0)),t=0,r=0,e.mode=Jt;case Jt:for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.head&&(e.head.xflags=t&255,e.head.os=t>>8),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0,e.mode=Dt;case Dt:if(e.flags&1024){for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.length=t,e.head&&(e.head.extra_len=t),e.flags&512&&e.wrap&4&&(w[0]=t&255,w[1]=t>>>8&255,e.check=ae(e.check,w,2,0)),t=0,r=0}else e.head&&(e.head.extra=null);e.mode=er;case er:if(e.flags&1024&&(g=e.length,g>n&&(g=n),g&&(e.head&&(A=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(u.subarray(o,o+g),A)),e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,g,o)),n-=g,o+=g,e.length-=g),e.length))break e;e.length=0,e.mode=tr;case tr:if(e.flags&2048){if(n===0)break e;g=0;do A=u[o+g++],e.head&&A&&e.length<65536&&(e.head.name+=String.fromCharCode(A));while(A&&g<n);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,g,o)),n-=g,o+=g,A)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=rr;case rr:if(e.flags&4096){if(n===0)break e;g=0;do A=u[o+g++],e.head&&A&&e.length<65536&&(e.head.comment+=String.fromCharCode(A));while(A&&g<n);if(e.flags&512&&e.wrap&4&&(e.check=ae(e.check,u,g,o)),n-=g,o+=g,A)break e}else e.head&&(e.head.comment=null);e.mode=nr;case nr:if(e.flags&512){for(;r<16;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&4&&t!==(e.check&65535)){l.msg="header crc mismatch",e.mode=W;break}t=0,r=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),l.adler=e.check=0,e.mode=le;break;case sr:for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}l.adler=e.check=yr(t),t=0,r=0,e.mode=Se;case Se:if(e.havedict===0)return l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,jn;l.adler=e.check=1,e.mode=le;case le:if(i===Wn||i===Ce)break e;case Ue:if(e.last){t>>>=r&7,r-=r&7,e.mode=qe;break}for(;r<3;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}switch(e.last=t&1,t>>>=1,r-=1,t&3){case 0:e.mode=ir;break;case 1:if(rs(e),e.mode=Te,i===Ce){t>>>=2,r-=2;break e}break;case 2:e.mode=ar;break;case 3:l.msg="invalid block type",e.mode=W}t>>>=2,r-=2;break;case ir:for(t>>>=r&7,r-=r&7;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if((t&65535)!==(t>>>16^65535)){l.msg="invalid stored block lengths",e.mode=W;break}if(e.length=t&65535,t=0,r=0,e.mode=Ge,i===Ce)break e;case Ge:e.mode=or;case or:if(g=e.length,g){if(g>n&&(g=n),g>a&&(g=a),g===0)break e;d.set(u.subarray(o,o+g),s),n-=g,o+=g,a-=g,s+=g,e.length-=g;break}e.mode=le;break;case ar:for(;r<14;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.nlen=(t&31)+257,t>>>=5,r-=5,e.ndist=(t&31)+1,t>>>=5,r-=5,e.ncode=(t&15)+4,t>>>=4,r-=4,e.nlen>286||e.ndist>30){l.msg="too many length or distance symbols",e.mode=W;break}e.have=0,e.mode=lr;case lr:for(;e.have<e.ncode;){for(;r<3;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.lens[O[e.have++]]=t&7,t>>>=3,r-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,R={bits:e.lenbits},C=Ee(Kn,e.lens,0,19,e.lencode,0,e.work,R),e.lenbits=R.bits,C){l.msg="invalid code lengths set",e.mode=W;break}e.have=0,e.mode=ur;case ur:for(;e.have<e.nlen+e.ndist;){for(;v=e.lencode[t&(1<<e.lenbits)-1],c=v>>>24,y=v>>>16&255,p=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(p<16)t>>>=c,r-=c,e.lens[e.have++]=p;else{if(p===16){for($=c+2;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(t>>>=c,r-=c,e.have===0){l.msg="invalid bit length repeat",e.mode=W;break}A=e.lens[e.have-1],g=3+(t&3),t>>>=2,r-=2}else if(p===17){for($=c+3;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=c,r-=c,A=0,g=3+(t&7),t>>>=3,r-=3}else{for($=c+7;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=c,r-=c,A=0,g=11+(t&127),t>>>=7,r-=7}if(e.have+g>e.nlen+e.ndist){l.msg="invalid bit length repeat",e.mode=W;break}for(;g--;)e.lens[e.have++]=A}}if(e.mode===W)break;if(e.lens[256]===0){l.msg="invalid code -- missing end-of-block",e.mode=W;break}if(e.lenbits=9,R={bits:e.lenbits},C=Ee(zt,e.lens,0,e.nlen,e.lencode,0,e.work,R),e.lenbits=R.bits,C){l.msg="invalid literal/lengths set",e.mode=W;break}if(e.distbits=6,e.distcode=e.distdyn,R={bits:e.distbits},C=Ee(Xt,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,R),e.distbits=R.bits,C){l.msg="invalid distances set",e.mode=W;break}if(e.mode=Te,i===Ce)break e;case Te:e.mode=Oe;case Oe:if(n>=6&&a>=258){l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,Gn(l,f),s=l.next_out,d=l.output,a=l.avail_out,o=l.next_in,u=l.input,n=l.avail_in,t=e.hold,r=e.bits,e.mode===le&&(e.back=-1);break}for(e.back=0;v=e.lencode[t&(1<<e.lenbits)-1],c=v>>>24,y=v>>>16&255,p=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(y&&(y&240)===0){for(E=c,h=y,_=p;v=e.lencode[_+((t&(1<<E+h)-1)>>E)],c=v>>>24,y=v>>>16&255,p=v&65535,!(E+c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=E,r-=E,e.back+=E}if(t>>>=c,r-=c,e.back+=c,e.length=p,y===0){e.mode=pr;break}if(y&32){e.back=-1,e.mode=le;break}if(y&64){l.msg="invalid literal/length code",e.mode=W;break}e.extra=y&15,e.mode=fr;case fr:if(e.extra){for($=e.extra;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.length+=t&(1<<e.extra)-1,t>>>=e.extra,r-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=cr;case cr:for(;v=e.distcode[t&(1<<e.distbits)-1],c=v>>>24,y=v>>>16&255,p=v&65535,!(c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if((y&240)===0){for(E=c,h=y,_=p;v=e.distcode[_+((t&(1<<E+h)-1)>>E)],c=v>>>24,y=v>>>16&255,p=v&65535,!(E+c<=r);){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}t>>>=E,r-=E,e.back+=E}if(t>>>=c,r-=c,e.back+=c,y&64){l.msg="invalid distance code",e.mode=W;break}e.offset=p,e.extra=y&15,e.mode=hr;case hr:if(e.extra){for($=e.extra;r<$;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}e.offset+=t&(1<<e.extra)-1,t>>>=e.extra,r-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){l.msg="invalid distance too far back",e.mode=W;break}e.mode=dr;case dr:if(a===0)break e;if(g=f-a,e.offset>g){if(g=e.offset-g,g>e.whave&&e.sane){l.msg="invalid distance too far back",e.mode=W;break}g>e.wnext?(g-=e.wnext,x=e.wsize-g):x=e.wnext-g,g>e.length&&(g=e.length),N=e.window}else N=d,x=s-e.offset,g=e.length;g>a&&(g=a),a-=g,e.length-=g;do d[s++]=N[x++];while(--g);e.length===0&&(e.mode=Oe);break;case pr:if(a===0)break e;d[s++]=e.length,a--,e.mode=Oe;break;case qe:if(e.wrap){for(;r<32;){if(n===0)break e;n--,t|=u[o++]<<r,r+=8}if(f-=a,l.total_out+=f,e.total+=f,e.wrap&4&&f&&(l.adler=e.check=e.flags?ae(e.check,d,f,s-f):Fe(e.check,d,f,s-f)),f=a,e.wrap&4&&(e.flags?t:yr(t))!==e.check){l.msg="incorrect data check",e.mode=W;break}t=0,r=0}e.mode=gr;case gr:if(e.wrap&&e.flags){for(;r<32;){if(n===0)break e;n--,t+=u[o++]<<r,r+=8}if(e.wrap&4&&t!==(e.total&4294967295)){l.msg="incorrect length check",e.mode=W;break}t=0,r=0}e.mode=br;case br:C=Vn;break e;case W:C=Wt;break e;case Ar:return Vt;case _r:default:return se}return l.next_out=s,l.avail_out=a,l.next_in=o,l.avail_in=n,e.hold=t,e.bits=r,(e.wsize||f!==l.avail_out&&e.mode<W&&(e.mode<qe||i!==Kt))&&vr(l,l.output,l.next_out,f-l.avail_out),b-=l.avail_in,f-=l.avail_out,l.total_in+=b,l.total_out+=f,e.total+=f,e.wrap&4&&f&&(l.adler=e.check=e.flags?ae(e.check,d,f,l.next_out-f):Fe(e.check,d,f,l.next_out-f)),l.data_type=e.bits+(e.last?64:0)+(e.mode===le?128:0)+(e.mode===Te||e.mode===Ge?256:0),(b===0&&f===0||i===Kt)&&C===ge&&(C=Qn),C},ss=l=>{if(be(l))return se;let i=l.state;return i.window&&(i.window=null),l.state=null,ge},is=(l,i)=>{if(be(l))return se;const e=l.state;return(e.wrap&2)===0?se:(e.head=i,i.done=!1,ge)},os=(l,i)=>{const e=i.length;let u,d,o;return be(l)||(u=l.state,u.wrap!==0&&u.mode!==Se)?se:u.mode===Se&&(d=1,d=Fe(d,i,e,0),d!==u.check)?Wt:(o=vr(l,i,e,e),o?(u.mode=Ar,Vt):(u.havedict=1,ge))};var as=wr,ls=xr,us=Er,fs=ts,cs=mr,hs=ns,ds=ss,ps=is,gs=os,bs="pako inflate (from Nodeca project)",ue={inflateReset:as,inflateReset2:ls,inflateResetKeep:us,inflateInit:fs,inflateInit2:cs,inflate:hs,inflateEnd:ds,inflateGetHeader:ps,inflateSetDictionary:gs,inflateInfo:bs};function As(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _s=As;const Cr=Object.prototype.toString,{Z_NO_FLUSH:ys,Z_FINISH:Es,Z_OK:we,Z_STREAM_END:Xe,Z_NEED_DICT:Ke,Z_STREAM_ERROR:ws,Z_DATA_ERROR:Nr,Z_MEM_ERROR:xs}=Ft;function ke(l){this.options=Mt.assign({chunkSize:1024*64,windowBits:15,to:""},l||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(l&&l.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15)===0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bn,this.strm.avail_out=0;let e=ue.inflateInit2(this.strm,i.windowBits);if(e!==we)throw new Error(Pt[e]);if(this.header=new _s,ue.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Me.string2buf(i.dictionary):Cr.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(e=ue.inflateSetDictionary(this.strm,i.dictionary),e!==we)))throw new Error(Pt[e])}ke.prototype.push=function(l,i){const e=this.strm,u=this.options.chunkSize,d=this.options.dictionary;let o,s,n;if(this.ended)return!1;for(i===~~i?s=i:s=i===!0?Es:ys,Cr.call(l)==="[object ArrayBuffer]"?e.input=new Uint8Array(l):e.input=l,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(u),e.next_out=0,e.avail_out=u),o=ue.inflate(e,s),o===Ke&&d&&(o=ue.inflateSetDictionary(e,d),o===we?o=ue.inflate(e,s):o===Nr&&(o=Ke));e.avail_in>0&&o===Xe&&e.state.wrap>0&&l[e.next_in]!==0;)ue.inflateReset(e),o=ue.inflate(e,s);switch(o){case ws:case Nr:case Ke:case xs:return this.onEnd(o),this.ended=!0,!1}if(n=e.avail_out,e.next_out&&(e.avail_out===0||o===Xe))if(this.options.to==="string"){let a=Me.utf8border(e.output,e.next_out),t=e.next_out-a,r=Me.buf2string(e.output,a);e.next_out=t,e.avail_out=u-t,t&&e.output.set(e.output.subarray(a,a+t),0),this.onData(r)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===we&&n===0)){if(o===Xe)return o=ue.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},ke.prototype.onData=function(l){this.chunks.push(l)},ke.prototype.onEnd=function(l){l===we&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mt.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};var ms=ke,Rs={Inflate:ms};const{Inflate:vs}=Rs;var Cs=vs,Ns={Inflate:Cs};function Sr(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Ss(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var i=l.default;if(typeof i=="function"){var e=function u(){return this instanceof u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var d=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:function(){return l[u]}})}),e}var Ts={},Os=Object.freeze({__proto__:null,default:Ts}),Tr=Ss(Os),We={},Or;function Ve(){return Or||(Or=1,(function(l){l.isInteger=i=>typeof i=="number"?Number.isInteger(i):typeof i=="string"&&i.trim()!==""?Number.isInteger(Number(i)):!1,l.find=(i,e)=>i.nodes.find(u=>u.type===e),l.exceedsLimit=(i,e,u=1,d)=>d===!1||!l.isInteger(i)||!l.isInteger(e)?!1:(Number(e)-Number(i))/Number(u)>=d,l.escapeNode=(i,e=0,u)=>{const d=i.nodes[e];d&&(u&&d.type===u||d.type==="open"||d.type==="close")&&d.escaped!==!0&&(d.value="\\"+d.value,d.escaped=!0)},l.encloseBrace=i=>i.type!=="brace"?!1:i.commas>>0+i.ranges>>0===0?(i.invalid=!0,!0):!1,l.isInvalidBrace=i=>i.type!=="brace"?!1:i.invalid===!0||i.dollar?!0:i.commas>>0+i.ranges>>0===0||i.open!==!0||i.close!==!0?(i.invalid=!0,!0):!1,l.isOpenOrClose=i=>i.type==="open"||i.type==="close"?!0:i.open===!0||i.close===!0,l.reduce=i=>i.reduce((e,u)=>(u.type==="text"&&e.push(u.value),u.type==="range"&&(u.type="text"),e),[]),l.flatten=(...i)=>{const e=[],u=d=>{for(let o=0;o<d.length;o++){const s=d[o];if(Array.isArray(s)){u(s);continue}s!==void 0&&e.push(s)}return e};return u(i),e}})(We)),We}var je,kr;function Qe(){if(kr)return je;kr=1;const l=Ve();return je=(i,e={})=>{const u=(d,o={})=>{const s=e.escapeInvalid&&l.isInvalidBrace(o),n=d.invalid===!0&&e.escapeInvalid===!0;let a="";if(d.value)return(s||n)&&l.isOpenOrClose(d)?"\\"+d.value:d.value;if(d.value)return d.value;if(d.nodes)for(const t of d.nodes)a+=u(t);return a};return u(i)},je}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Ye,$r;function ks(){return $r||($r=1,Ye=function(l){return typeof l=="number"?l-l===0:typeof l=="string"&&l.trim()!==""?Number.isFinite?Number.isFinite(+l):isFinite(+l):!1}),Ye}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Je,Ir;function $s(){if(Ir)return Je;Ir=1;const l=ks(),i=(v,c,y)=>{if(l(v)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(c===void 0||v===c)return String(v);if(l(c)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let p={relaxZeros:!0,...y};typeof p.strictZeros=="boolean"&&(p.relaxZeros=p.strictZeros===!1);let E=String(p.relaxZeros),h=String(p.shorthand),_=String(p.capture),A=String(p.wrap),C=v+":"+c+"="+E+h+_+A;if(i.cache.hasOwnProperty(C))return i.cache[C].result;let w=Math.min(v,c),R=Math.max(v,c);if(Math.abs(w-R)===1){let H=v+"|"+c;return p.capture?`(${H})`:p.wrap===!1?H:`(?:${H})`}let $=x(v)||x(c),O={min:v,max:c,a:w,b:R},m=[],P=[];if($&&(O.isPadded=$,O.maxLen=String(O.max).length),w<0){let H=R<0?Math.abs(R):1;P=o(H,Math.abs(w),O,p),w=O.a=0}return R>=0&&(m=o(w,R,O,p)),O.negatives=P,O.positives=m,O.result=e(P,m),p.capture===!0?O.result=`(${O.result})`:p.wrap!==!1&&m.length+P.length>1&&(O.result=`(?:${O.result})`),i.cache[C]=O,O.result};function e(v,c,y){let p=s(v,c,"-",!1)||[],E=s(c,v,"",!1)||[],h=s(v,c,"-?",!0)||[];return p.concat(h).concat(E).join("|")}function u(v,c){let y=1,p=1,E=r(v,y),h=new Set([c]);for(;v<=E&&E<=c;)h.add(E),y+=1,E=r(v,y);for(E=b(c+1,p)-1;v<E&&E<=c;)h.add(E),p+=1,E=b(c+1,p)-1;return h=[...h],h.sort(a),h}function d(v,c,y){if(v===c)return{pattern:v,count:[],digits:0};let p=n(v,c),E=p.length,h="",_=0;for(let A=0;A<E;A++){let[C,w]=p[A];C===w?h+=C:C!=="0"||w!=="9"?h+=g(C,w):_++}return _&&(h+=y.shorthand===!0?"\\d":"[0-9]"),{pattern:h,count:[_],digits:E}}function o(v,c,y,p){let E=u(v,c),h=[],_=v,A;for(let C=0;C<E.length;C++){let w=E[C],R=d(String(_),String(w),p),$="";if(!y.isPadded&&A&&A.pattern===R.pattern){A.count.length>1&&A.count.pop(),A.count.push(R.count[0]),A.string=A.pattern+f(A.count),_=w+1;continue}y.isPadded&&($=N(w,y,p)),R.string=$+R.pattern+f(R.count),h.push(R),_=w+1,A=R}return h}function s(v,c,y,p,E){let h=[];for(let _ of v){let{string:A}=_;!p&&!t(c,"string",A)&&h.push(y+A),p&&t(c,"string",A)&&h.push(y+A)}return h}function n(v,c){let y=[];for(let p=0;p<v.length;p++)y.push([v[p],c[p]]);return y}function a(v,c){return v>c?1:c>v?-1:0}function t(v,c,y){return v.some(p=>p[c]===y)}function r(v,c){return Number(String(v).slice(0,-c)+"9".repeat(c))}function b(v,c){return v-v%Math.pow(10,c)}function f(v){let[c=0,y=""]=v;return y||c>1?`{${c+(y?","+y:"")}}`:""}function g(v,c,y){return`[${v}${c-v===1?"":"-"}${c}]`}function x(v){return/^-?(0+)\d/.test(v)}function N(v,c,y){if(!c.isPadded)return v;let p=Math.abs(c.maxLen-String(v).length),E=y.relaxZeros!==!1;switch(p){case 0:return"";case 1:return E?"0?":"0";case 2:return E?"0{0,2}":"00";default:return E?`0{0,${p}}`:`0{${p}}`}}return i.cache={},i.clearCache=()=>i.cache={},Je=i,Je}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var De,Hr;function Lr(){if(Hr)return De;Hr=1;const l=Tr,i=$s(),e=p=>p!==null&&typeof p=="object"&&!Array.isArray(p),u=p=>E=>p===!0?Number(E):String(E),d=p=>typeof p=="number"||typeof p=="string"&&p!=="",o=p=>Number.isInteger(+p),s=p=>{let E=`${p}`,h=-1;if(E[0]==="-"&&(E=E.slice(1)),E==="0")return!1;for(;E[++h]==="0";);return h>0},n=(p,E,h)=>typeof p=="string"||typeof E=="string"?!0:h.stringify===!0,a=(p,E,h)=>{if(E>0){let _=p[0]==="-"?"-":"";_&&(p=p.slice(1)),p=_+p.padStart(_?E-1:E,"0")}return h===!1?String(p):p},t=(p,E)=>{let h=p[0]==="-"?"-":"";for(h&&(p=p.slice(1),E--);p.length<E;)p="0"+p;return h?"-"+p:p},r=(p,E,h)=>{p.negatives.sort((R,$)=>R<$?-1:R>$?1:0),p.positives.sort((R,$)=>R<$?-1:R>$?1:0);let _=E.capture?"":"?:",A="",C="",w;return p.positives.length&&(A=p.positives.map(R=>t(String(R),h)).join("|")),p.negatives.length&&(C=`-(${_}${p.negatives.map(R=>t(String(R),h)).join("|")})`),A&&C?w=`${A}|${C}`:w=A||C,E.wrap?`(${_}${w})`:w},b=(p,E,h,_)=>{if(h)return i(p,E,{wrap:!1,..._});let A=String.fromCharCode(p);if(p===E)return A;let C=String.fromCharCode(E);return`[${A}-${C}]`},f=(p,E,h)=>{if(Array.isArray(p)){let _=h.wrap===!0,A=h.capture?"":"?:";return _?`(${A}${p.join("|")})`:p.join("|")}return i(p,E,h)},g=(...p)=>new RangeError("Invalid range arguments: "+l.inspect(...p)),x=(p,E,h)=>{if(h.strictRanges===!0)throw g([p,E]);return[]},N=(p,E)=>{if(E.strictRanges===!0)throw new TypeError(`Expected step "${p}" to be a number`);return[]},v=(p,E,h=1,_={})=>{let A=Number(p),C=Number(E);if(!Number.isInteger(A)||!Number.isInteger(C)){if(_.strictRanges===!0)throw g([p,E]);return[]}A===0&&(A=0),C===0&&(C=0);let w=A>C,R=String(p),$=String(E),O=String(h);h=Math.max(Math.abs(h),1);let m=s(R)||s($)||s(O),P=m?Math.max(R.length,$.length,O.length):0,H=m===!1&&n(p,E,_)===!1,F=_.transform||u(H);if(_.toRegex&&h===1)return b(t(p,P),t(E,P),!0,_);let B={negatives:[],positives:[]},z=S=>B[S<0?"negatives":"positives"].push(Math.abs(S)),X=[],K=0;for(;w?A>=C:A<=C;)_.toRegex===!0&&h>1?z(A):X.push(a(F(A,K),P,H)),A=w?A-h:A+h,K++;return _.toRegex===!0?h>1?r(B,_,P):f(X,null,{wrap:!1,..._}):X},c=(p,E,h=1,_={})=>{if(!o(p)&&p.length>1||!o(E)&&E.length>1)return x(p,E,_);let A=_.transform||(H=>String.fromCharCode(H)),C=`${p}`.charCodeAt(0),w=`${E}`.charCodeAt(0),R=C>w,$=Math.min(C,w),O=Math.max(C,w);if(_.toRegex&&h===1)return b($,O,!1,_);let m=[],P=0;for(;R?C>=w:C<=w;)m.push(A(C,P)),C=R?C-h:C+h,P++;return _.toRegex===!0?f(m,null,{wrap:!1,options:_}):m},y=(p,E,h,_={})=>{if(E==null&&d(p))return[p];if(!d(p)||!d(E))return x(p,E,_);if(typeof h=="function")return y(p,E,1,{transform:h});if(e(h))return y(p,E,0,h);let A={..._};return A.capture===!0&&(A.wrap=!0),h=h||A.step||1,o(h)?o(p)&&o(E)?v(p,E,h,A):c(p,E,Math.max(Math.abs(h),1),A):h!=null&&!e(h)?N(h,A):y(p,E,1,h)};return De=y,De}var et,Pr;function Is(){if(Pr)return et;Pr=1;const l=Lr(),i=Ve();return et=(u,d={})=>{const o=(s,n={})=>{const a=i.isInvalidBrace(n),t=s.invalid===!0&&d.escapeInvalid===!0,r=a===!0||t===!0,b=d.escapeInvalid===!0?"\\":"";let f="";if(s.isOpen===!0)return b+s.value;if(s.isClose===!0)return console.log("node.isClose",b,s.value),b+s.value;if(s.type==="open")return r?b+s.value:"(";if(s.type==="close")return r?b+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":r?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){const g=i.reduce(s.nodes),x=l(...g,{...d,wrap:!1,toRegex:!0,strictZeros:!0});if(x.length!==0)return g.length>1&&x.length>1?`(${x})`:x}if(s.nodes)for(const g of s.nodes)f+=o(g,s);return f};return o(u)},et}var tt,Fr;function Hs(){if(Fr)return tt;Fr=1;const l=Lr(),i=Qe(),e=Ve(),u=(o="",s="",n=!1)=>{const a=[];if(o=[].concat(o),s=[].concat(s),!s.length)return o;if(!o.length)return n?e.flatten(s).map(t=>`{${t}}`):s;for(const t of o)if(Array.isArray(t))for(const r of t)a.push(u(r,s,n));else for(let r of s)n===!0&&typeof r=="string"&&(r=`{${r}}`),a.push(Array.isArray(r)?u(t,r,n):t+r);return e.flatten(a)};return tt=(o,s={})=>{const n=s.rangeLimit===void 0?1e3:s.rangeLimit,a=(t,r={})=>{t.queue=[];let b=r,f=r.queue;for(;b.type!=="brace"&&b.type!=="root"&&b.parent;)b=b.parent,f=b.queue;if(t.invalid||t.dollar){f.push(u(f.pop(),i(t,s)));return}if(t.type==="brace"&&t.invalid!==!0&&t.nodes.length===2){f.push(u(f.pop(),["{}"]));return}if(t.nodes&&t.ranges>0){const v=e.reduce(t.nodes);if(e.exceedsLimit(...v,s.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=l(...v,s);c.length===0&&(c=i(t,s)),f.push(u(f.pop(),c)),t.nodes=[];return}const g=e.encloseBrace(t);let x=t.queue,N=t;for(;N.type!=="brace"&&N.type!=="root"&&N.parent;)N=N.parent,x=N.queue;for(let v=0;v<t.nodes.length;v++){const c=t.nodes[v];if(c.type==="comma"&&t.type==="brace"){v===1&&x.push(""),x.push("");continue}if(c.type==="close"){f.push(u(f.pop(),x,g));continue}if(c.value&&c.type!=="open"){x.push(u(x.pop(),c.value));continue}c.nodes&&a(c,t)}return x};return e.flatten(a(o))},tt}var rt,Mr;function Ls(){return Mr||(Mr=1,rt={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),rt}var nt,Br;function Ps(){if(Br)return nt;Br=1;const l=Qe(),{MAX_LENGTH:i,CHAR_BACKSLASH:e,CHAR_BACKTICK:u,CHAR_COMMA:d,CHAR_DOT:o,CHAR_LEFT_PARENTHESES:s,CHAR_RIGHT_PARENTHESES:n,CHAR_LEFT_CURLY_BRACE:a,CHAR_RIGHT_CURLY_BRACE:t,CHAR_LEFT_SQUARE_BRACKET:r,CHAR_RIGHT_SQUARE_BRACKET:b,CHAR_DOUBLE_QUOTE:f,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:x,CHAR_ZERO_WIDTH_NOBREAK_SPACE:N}=Ls();return nt=(c,y={})=>{if(typeof c!="string")throw new TypeError("Expected a string");const p=y||{},E=typeof p.maxLength=="number"?Math.min(i,p.maxLength):i;if(c.length>E)throw new SyntaxError(`Input length (${c.length}), exceeds max characters (${E})`);const h={type:"root",input:c,nodes:[]},_=[h];let A=h,C=h,w=0;const R=c.length;let $=0,O=0,m;const P=()=>c[$++],H=F=>{if(F.type==="text"&&C.type==="dot"&&(C.type="text"),C&&C.type==="text"&&F.type==="text"){C.value+=F.value;return}return A.nodes.push(F),F.parent=A,F.prev=C,C=F,F};for(H({type:"bos"});$<R;)if(A=_[_.length-1],m=P(),!(m===N||m===x)){if(m===e){H({type:"text",value:(y.keepEscaping?m:"")+P()});continue}if(m===b){H({type:"text",value:"\\"+m});continue}if(m===r){w++;let F;for(;$<R&&(F=P());){if(m+=F,F===r){w++;continue}if(F===e){m+=P();continue}if(F===b&&(w--,w===0))break}H({type:"text",value:m});continue}if(m===s){A=H({type:"paren",nodes:[]}),_.push(A),H({type:"text",value:m});continue}if(m===n){if(A.type!=="paren"){H({type:"text",value:m});continue}A=_.pop(),H({type:"text",value:m}),A=_[_.length-1];continue}if(m===f||m===g||m===u){const F=m;let B;for(y.keepQuotes!==!0&&(m="");$<R&&(B=P());){if(B===e){m+=B+P();continue}if(B===F){y.keepQuotes===!0&&(m+=B);break}m+=B}H({type:"text",value:m});continue}if(m===a){O++;const B={type:"brace",open:!0,close:!1,dollar:C.value&&C.value.slice(-1)==="$"||A.dollar===!0,depth:O,commas:0,ranges:0,nodes:[]};A=H(B),_.push(A),H({type:"open",value:m});continue}if(m===t){if(A.type!=="brace"){H({type:"text",value:m});continue}const F="close";A=_.pop(),A.close=!0,H({type:F,value:m}),O--,A=_[_.length-1];continue}if(m===d&&O>0){if(A.ranges>0){A.ranges=0;const F=A.nodes.shift();A.nodes=[F,{type:"text",value:l(A)}]}H({type:"comma",value:m}),A.commas++;continue}if(m===o&&O>0&&A.commas===0){const F=A.nodes;if(O===0||F.length===0){H({type:"text",value:m});continue}if(C.type==="dot"){if(A.range=[],C.value+=m,C.type="range",A.nodes.length!==3&&A.nodes.length!==5){A.invalid=!0,A.ranges=0,C.type="text";continue}A.ranges++,A.args=[];continue}if(C.type==="range"){F.pop();const B=F[F.length-1];B.value+=C.value+m,C=B,A.ranges--;continue}H({type:"dot",value:m});continue}H({type:"text",value:m})}do if(A=_.pop(),A.type!=="root"){A.nodes.forEach(z=>{z.nodes||(z.type==="open"&&(z.isOpen=!0),z.type==="close"&&(z.isClose=!0),z.nodes||(z.type="text"),z.invalid=!0)});const F=_[_.length-1],B=F.nodes.indexOf(A);F.nodes.splice(B,1,...A.nodes)}while(_.length>0);return H({type:"eos"}),h},nt}var st,Ur;function Fs(){if(Ur)return st;Ur=1;const l=Qe(),i=Is(),e=Hs(),u=Ps(),d=(o,s={})=>{let n=[];if(Array.isArray(o))for(const a of o){const t=d.create(a,s);Array.isArray(t)?n.push(...t):n.push(t)}else n=[].concat(d.create(o,s));return s&&s.expand===!0&&s.nodupes===!0&&(n=[...new Set(n)]),n};return d.parse=(o,s={})=>u(o,s),d.stringify=(o,s={})=>l(typeof o=="string"?d.parse(o,s):o,s),d.compile=(o,s={})=>(typeof o=="string"&&(o=d.parse(o,s)),i(o,s)),d.expand=(o,s={})=>{typeof o=="string"&&(o=d.parse(o,s));let n=e(o,s);return s.noempty===!0&&(n=n.filter(Boolean)),s.nodupes===!0&&(n=[...new Set(n)]),n},d.create=(o,s={})=>o===""||o.length<3?[o]:s.expand!==!0?d.compile(o,s):d.expand(o,s),st=d,st}var it,Gr;function ot(){if(Gr)return it;Gr=1;function l(d){if(typeof d!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(d))}function i(d,o){for(var s="",n=0,a=-1,t=0,r,b=0;b<=d.length;++b){if(b<d.length)r=d.charCodeAt(b);else{if(r===47)break;r=47}if(r===47){if(!(a===b-1||t===1))if(a!==b-1&&t===2){if(s.length<2||n!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var f=s.lastIndexOf("/");if(f!==s.length-1){f===-1?(s="",n=0):(s=s.slice(0,f),n=s.length-1-s.lastIndexOf("/")),a=b,t=0;continue}}else if(s.length===2||s.length===1){s="",n=0,a=b,t=0;continue}}o&&(s.length>0?s+="/..":s="..",n=2)}else s.length>0?s+="/"+d.slice(a+1,b):s=d.slice(a+1,b),n=b-a-1;a=b,t=0}else r===46&&t!==-1?++t:t=-1}return s}function e(d,o){var s=o.dir||o.root,n=o.base||(o.name||"")+(o.ext||"");return s?s===o.root?s+n:s+d+n:n}var u={resolve:function(){for(var o="",s=!1,n,a=arguments.length-1;a>=-1&&!s;a--){var t;a>=0?t=arguments[a]:(n===void 0&&(n=process.cwd()),t=n),l(t),t.length!==0&&(o=t+"/"+o,s=t.charCodeAt(0)===47)}return o=i(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(l(o),o.length===0)return".";var s=o.charCodeAt(0)===47,n=o.charCodeAt(o.length-1)===47;return o=i(o,!s),o.length===0&&!s&&(o="."),o.length>0&&n&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return l(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var n=arguments[s];l(n),n.length>0&&(o===void 0?o=n:o+="/"+n)}return o===void 0?".":u.normalize(o)},relative:function(o,s){if(l(o),l(s),o===s||(o=u.resolve(o),s=u.resolve(s),o===s))return"";for(var n=1;n<o.length&&o.charCodeAt(n)===47;++n);for(var a=o.length,t=a-n,r=1;r<s.length&&s.charCodeAt(r)===47;++r);for(var b=s.length,f=b-r,g=t<f?t:f,x=-1,N=0;N<=g;++N){if(N===g){if(f>g){if(s.charCodeAt(r+N)===47)return s.slice(r+N+1);if(N===0)return s.slice(r+N)}else t>g&&(o.charCodeAt(n+N)===47?x=N:N===0&&(x=0));break}var v=o.charCodeAt(n+N),c=s.charCodeAt(r+N);if(v!==c)break;v===47&&(x=N)}var y="";for(N=n+x+1;N<=a;++N)(N===a||o.charCodeAt(N)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(r+x):(r+=x,s.charCodeAt(r)===47&&++r,s.slice(r))},_makeLong:function(o){return o},dirname:function(o){if(l(o),o.length===0)return".";for(var s=o.charCodeAt(0),n=s===47,a=-1,t=!0,r=o.length-1;r>=1;--r)if(s=o.charCodeAt(r),s===47){if(!t){a=r;break}}else t=!1;return a===-1?n?"/":".":n&&a===1?"//":o.slice(0,a)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');l(o);var n=0,a=-1,t=!0,r;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var b=s.length-1,f=-1;for(r=o.length-1;r>=0;--r){var g=o.charCodeAt(r);if(g===47){if(!t){n=r+1;break}}else f===-1&&(t=!1,f=r+1),b>=0&&(g===s.charCodeAt(b)?--b===-1&&(a=r):(b=-1,a=f))}return n===a?a=f:a===-1&&(a=o.length),o.slice(n,a)}else{for(r=o.length-1;r>=0;--r)if(o.charCodeAt(r)===47){if(!t){n=r+1;break}}else a===-1&&(t=!1,a=r+1);return a===-1?"":o.slice(n,a)}},extname:function(o){l(o);for(var s=-1,n=0,a=-1,t=!0,r=0,b=o.length-1;b>=0;--b){var f=o.charCodeAt(b);if(f===47){if(!t){n=b+1;break}continue}a===-1&&(t=!1,a=b+1),f===46?s===-1?s=b:r!==1&&(r=1):s!==-1&&(r=-1)}return s===-1||a===-1||r===0||r===1&&s===a-1&&s===n+1?"":o.slice(s,a)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return e("/",o)},parse:function(o){l(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var n=o.charCodeAt(0),a=n===47,t;a?(s.root="/",t=1):t=0;for(var r=-1,b=0,f=-1,g=!0,x=o.length-1,N=0;x>=t;--x){if(n=o.charCodeAt(x),n===47){if(!g){b=x+1;break}continue}f===-1&&(g=!1,f=x+1),n===46?r===-1?r=x:N!==1&&(N=1):r!==-1&&(N=-1)}return r===-1||f===-1||N===0||N===1&&r===f-1&&r===b+1?f!==-1&&(b===0&&a?s.base=s.name=o.slice(1,f):s.base=s.name=o.slice(b,f)):(b===0&&a?(s.name=o.slice(1,r),s.base=o.slice(1,f)):(s.name=o.slice(b,r),s.base=o.slice(b,f)),s.ext=o.slice(r,f)),b>0?s.dir=o.slice(0,b-1):a&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,it=u,it}var at={},lt,qr;function $e(){if(qr)return lt;qr=1;const l=ot(),i="\\\\/",e=`[^${i}]`,u="\\.",d="\\+",o="\\?",s="\\/",n="(?=.)",a="[^/]",t=`(?:${s}|$)`,r=`(?:^|${s})`,b=`${u}{1,2}${t}`,f=`(?!${u})`,g=`(?!${r}${b})`,x=`(?!${u}{0,1}${t})`,N=`(?!${b})`,v=`[^.${s}]`,c=`${a}*?`,y={DOT_LITERAL:u,PLUS_LITERAL:d,QMARK_LITERAL:o,SLASH_LITERAL:s,ONE_CHAR:n,QMARK:a,END_ANCHOR:t,DOTS_SLASH:b,NO_DOT:f,NO_DOTS:g,NO_DOT_SLASH:x,NO_DOTS_SLASH:N,QMARK_NO_DOT:v,STAR:c,START_ANCHOR:r},p={...y,SLASH_LITERAL:`[${i}]`,QMARK:e,STAR:`${e}*?`,DOTS_SLASH:`${u}{1,2}(?:[${i}]|$)`,NO_DOT:`(?!${u})`,NO_DOTS:`(?!(?:^|[${i}])${u}{1,2}(?:[${i}]|$))`,NO_DOT_SLASH:`(?!${u}{0,1}(?:[${i}]|$))`,NO_DOTS_SLASH:`(?!${u}{1,2}(?:[${i}]|$))`,QMARK_NO_DOT:`[^.${i}]`,START_ANCHOR:`(?:^|[${i}])`,END_ANCHOR:`(?:[${i}]|$)`},E={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return lt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:E,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:l.sep,extglobChars(h){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${h.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(h){return h===!0?p:y}},lt}var Zr;function Ie(){return Zr||(Zr=1,(function(l){const i=ot(),{REGEX_BACKSLASH:e,REGEX_REMOVE_BACKSLASH:u,REGEX_SPECIAL_CHARS:d,REGEX_SPECIAL_CHARS_GLOBAL:o}=$e();l.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),l.hasRegexChars=s=>d.test(s),l.isRegexChar=s=>s.length===1&&l.hasRegexChars(s),l.escapeRegex=s=>s.replace(o,"\\$1"),l.toPosixSlashes=s=>s.replace(e,"/"),l.removeBackslashes=s=>s.replace(u,n=>n==="\\"?"":n),l.supportsLookbehinds=()=>{const s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10},l.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:i.sep==="\\",l.escapeLast=(s,n,a)=>{const t=s.lastIndexOf(n,a);return t===-1?s:s[t-1]==="\\"?l.escapeLast(s,n,t-1):`${s.slice(0,t)}\\${s.slice(t)}`},l.removePrefix=(s,n={})=>{let a=s;return a.startsWith("./")&&(a=a.slice(2),n.prefix="./"),a},l.wrapOutput=(s,n={},a={})=>{const t=a.contains?"":"^",r=a.contains?"":"$";let b=`${t}(?:${s})${r}`;return n.negated===!0&&(b=`(?:^(?!${b}).*$)`),b}})(at)),at}var ut,zr;function Ms(){if(zr)return ut;zr=1;const l=Ie(),{CHAR_ASTERISK:i,CHAR_AT:e,CHAR_BACKWARD_SLASH:u,CHAR_COMMA:d,CHAR_DOT:o,CHAR_EXCLAMATION_MARK:s,CHAR_FORWARD_SLASH:n,CHAR_LEFT_CURLY_BRACE:a,CHAR_LEFT_PARENTHESES:t,CHAR_LEFT_SQUARE_BRACKET:r,CHAR_PLUS:b,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:x,CHAR_RIGHT_SQUARE_BRACKET:N}=$e(),v=p=>p===n||p===u,c=p=>{p.isPrefix!==!0&&(p.depth=p.isGlobstar?1/0:1)};return ut=(p,E)=>{const h=E||{},_=p.length-1,A=h.parts===!0||h.scanToEnd===!0,C=[],w=[],R=[];let $=p,O=-1,m=0,P=0,H=!1,F=!1,B=!1,z=!1,X=!1,K=!1,S=!1,ee=!1,ie=!1,D=!1,T=0,k,G,U={value:"",depth:0,isGlob:!1};const ne=()=>O>=_,ce=()=>$.charCodeAt(O+1),j=()=>(k=G,$.charCodeAt(++O));for(;O<_;){G=j();let M;if(G===u){S=U.backslashes=!0,G=j(),G===a&&(K=!0);continue}if(K===!0||G===a){for(T++;ne()!==!0&&(G=j());){if(G===u){S=U.backslashes=!0,j();continue}if(G===a){T++;continue}if(K!==!0&&G===o&&(G=j())===o){if(H=U.isBrace=!0,B=U.isGlob=!0,D=!0,A===!0)continue;break}if(K!==!0&&G===d){if(H=U.isBrace=!0,B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===g&&(T--,T===0)){K=!1,H=U.isBrace=!0,D=!0;break}}if(A===!0)continue;break}if(G===n){if(C.push(O),w.push(U),U={value:"",depth:0,isGlob:!1},D===!0)continue;if(k===o&&O===m+1){m+=2;continue}P=O+1;continue}if(h.noext!==!0&&(G===b||G===e||G===i||G===f||G===s)===!0&&ce()===t){if(B=U.isGlob=!0,z=U.isExtglob=!0,D=!0,G===s&&O===m&&(ie=!0),A===!0){for(;ne()!==!0&&(G=j());){if(G===u){S=U.backslashes=!0,G=j();continue}if(G===x){B=U.isGlob=!0,D=!0;break}}continue}break}if(G===i){if(k===i&&(X=U.isGlobstar=!0),B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===f){if(B=U.isGlob=!0,D=!0,A===!0)continue;break}if(G===r){for(;ne()!==!0&&(M=j());){if(M===u){S=U.backslashes=!0,j();continue}if(M===N){F=U.isBracket=!0,B=U.isGlob=!0,D=!0;break}}if(A===!0)continue;break}if(h.nonegate!==!0&&G===s&&O===m){ee=U.negated=!0,m++;continue}if(h.noparen!==!0&&G===t){if(B=U.isGlob=!0,A===!0){for(;ne()!==!0&&(G=j());){if(G===t){S=U.backslashes=!0,G=j();continue}if(G===x){D=!0;break}}continue}break}if(B===!0){if(D=!0,A===!0)continue;break}}h.noext===!0&&(z=!1,B=!1);let Q=$,Re="",oe="";m>0&&(Re=$.slice(0,m),$=$.slice(m),P-=m),Q&&B===!0&&P>0?(Q=$.slice(0,P),oe=$.slice(P)):B===!0?(Q="",oe=$):Q=$,Q&&Q!==""&&Q!=="/"&&Q!==$&&v(Q.charCodeAt(Q.length-1))&&(Q=Q.slice(0,-1)),h.unescape===!0&&(oe&&(oe=l.removeBackslashes(oe)),Q&&S===!0&&(Q=l.removeBackslashes(Q)));const te={prefix:Re,input:p,start:m,base:Q,glob:oe,isBrace:H,isBracket:F,isGlob:B,isExtglob:z,isGlobstar:X,negated:ee,negatedExtglob:ie};if(h.tokens===!0&&(te.maxDepth=0,v(G)||w.push(U),te.tokens=w),h.parts===!0||h.tokens===!0){let M;for(let Y=0;Y<C.length;Y++){const $t=M?M+1:m,L=C[Y],Z=p.slice($t,L);h.tokens&&(Y===0&&m!==0?(w[Y].isPrefix=!0,w[Y].value=Re):w[Y].value=Z,c(w[Y]),te.maxDepth+=w[Y].depth),(Y!==0||Z!=="")&&R.push(Z),M=L}if(M&&M+1<p.length){const Y=p.slice(M+1);R.push(Y),h.tokens&&(w[w.length-1].value=Y,c(w[w.length-1]),te.maxDepth+=w[w.length-1].depth)}te.slashes=C,te.parts=R}return te},ut}var ft,Xr;function Bs(){if(Xr)return ft;Xr=1;const l=$e(),i=Ie(),{MAX_LENGTH:e,POSIX_REGEX_SOURCE:u,REGEX_NON_SPECIAL_CHARS:d,REGEX_SPECIAL_CHARS_BACKREF:o,REPLACEMENTS:s}=l,n=(r,b)=>{if(typeof b.expandRange=="function")return b.expandRange(...r,b);r.sort();const f=`[${r.join("-")}]`;try{new RegExp(f)}catch{return r.map(x=>i.escapeRegex(x)).join("..")}return f},a=(r,b)=>`Missing ${r}: "${b}" - use "\\\\${b}" to match literal characters`,t=(r,b)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=s[r]||r;const f={...b},g=typeof f.maxLength=="number"?Math.min(e,f.maxLength):e;let x=r.length;if(x>g)throw new SyntaxError(`Input length: ${x}, exceeds maximum allowed length: ${g}`);const N={type:"bos",value:"",output:f.prepend||""},v=[N],c=f.capture?"":"?:",y=i.isWindows(b),p=l.globChars(y),E=l.extglobChars(p),{DOT_LITERAL:h,PLUS_LITERAL:_,SLASH_LITERAL:A,ONE_CHAR:C,DOTS_SLASH:w,NO_DOT:R,NO_DOT_SLASH:$,NO_DOTS_SLASH:O,QMARK:m,QMARK_NO_DOT:P,STAR:H,START_ANCHOR:F}=p,B=L=>`(${c}(?:(?!${F}${L.dot?w:h}).)*?)`,z=f.dot?"":R,X=f.dot?m:P;let K=f.bash===!0?B(f):H;f.capture&&(K=`(${K})`),typeof f.noext=="boolean"&&(f.noextglob=f.noext);const S={input:r,index:-1,start:0,dot:f.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:v};r=i.removePrefix(r,S),x=r.length;const ee=[],ie=[],D=[];let T=N,k;const G=()=>S.index===x-1,U=S.peek=(L=1)=>r[S.index+L],ne=S.advance=()=>r[++S.index]||"",ce=()=>r.slice(S.index+1),j=(L="",Z=0)=>{S.consumed+=L,S.index+=Z},Q=L=>{S.output+=L.output!=null?L.output:L.value,j(L.value)},Re=()=>{let L=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)ne(),S.start++,L++;return L%2===0?!1:(S.negated=!0,S.start++,!0)},oe=L=>{S[L]++,D.push(L)},te=L=>{S[L]--,D.pop()},M=L=>{if(T.type==="globstar"){const Z=S.braces>0&&(L.type==="comma"||L.type==="brace"),I=L.extglob===!0||ee.length&&(L.type==="pipe"||L.type==="paren");L.type!=="slash"&&L.type!=="paren"&&!Z&&!I&&(S.output=S.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=K,S.output+=T.output)}if(ee.length&&L.type!=="paren"&&(ee[ee.length-1].inner+=L.value),(L.value||L.output)&&Q(L),T&&T.type==="text"&&L.type==="text"){T.value+=L.value,T.output=(T.output||"")+L.value;return}L.prev=T,v.push(L),T=L},Y=(L,Z)=>{const I={...E[Z],conditions:1,inner:""};I.prev=T,I.parens=S.parens,I.output=S.output;const q=(f.capture?"(":"")+I.open;oe("parens"),M({type:L,value:Z,output:S.output?"":C}),M({type:"paren",extglob:!0,value:ne(),output:q}),ee.push(I)},$t=L=>{let Z=L.close+(f.capture?")":""),I;if(L.type==="negate"){let q=K;if(L.inner&&L.inner.length>1&&L.inner.includes("/")&&(q=B(f)),(q!==K||G()||/^\)+$/.test(ce()))&&(Z=L.close=`)$))${q}`),L.inner.includes("*")&&(I=ce())&&/^\.[^\\/.]+$/.test(I)){const V=t(I,{...b,fastpaths:!1}).output;Z=L.close=`)${V})${q})`}L.prev.type==="bos"&&(S.negatedExtglob=!0)}M({type:"paren",extglob:!0,value:k,output:Z}),te("parens")};if(f.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let L=!1,Z=r.replace(o,(I,q,V,re,J,It)=>re==="\\"?(L=!0,I):re==="?"?q?q+re+(J?m.repeat(J.length):""):It===0?X+(J?m.repeat(J.length):""):m.repeat(V.length):re==="."?h.repeat(V.length):re==="*"?q?q+re+(J?K:""):K:q?I:`\\${I}`);return L===!0&&(f.unescape===!0?Z=Z.replace(/\\/g,""):Z=Z.replace(/\\+/g,I=>I.length%2===0?"\\\\":I?"\\":"")),Z===r&&f.contains===!0?(S.output=r,S):(S.output=i.wrapOutput(Z,S,b),S)}for(;!G();){if(k=ne(),k==="\0")continue;if(k==="\\"){const I=U();if(I==="/"&&f.bash!==!0||I==="."||I===";")continue;if(!I){k+="\\",M({type:"text",value:k});continue}const q=/^\\+/.exec(ce());let V=0;if(q&&q[0].length>2&&(V=q[0].length,S.index+=V,V%2!==0&&(k+="\\")),f.unescape===!0?k=ne():k+=ne(),S.brackets===0){M({type:"text",value:k});continue}}if(S.brackets>0&&(k!=="]"||T.value==="["||T.value==="[^")){if(f.posix!==!1&&k===":"){const I=T.value.slice(1);if(I.includes("[")&&(T.posix=!0,I.includes(":"))){const q=T.value.lastIndexOf("["),V=T.value.slice(0,q),re=T.value.slice(q+2),J=u[re];if(J){T.value=V+J,S.backtrack=!0,ne(),!N.output&&v.indexOf(T)===1&&(N.output=C);continue}}}(k==="["&&U()!==":"||k==="-"&&U()==="]")&&(k=`\\${k}`),k==="]"&&(T.value==="["||T.value==="[^")&&(k=`\\${k}`),f.posix===!0&&k==="!"&&T.value==="["&&(k="^"),T.value+=k,Q({value:k});continue}if(S.quotes===1&&k!=='"'){k=i.escapeRegex(k),T.value+=k,Q({value:k});continue}if(k==='"'){S.quotes=S.quotes===1?0:1,f.keepQuotes===!0&&M({type:"text",value:k});continue}if(k==="("){oe("parens"),M({type:"paren",value:k});continue}if(k===")"){if(S.parens===0&&f.strictBrackets===!0)throw new SyntaxError(a("opening","("));const I=ee[ee.length-1];if(I&&S.parens===I.parens+1){$t(ee.pop());continue}M({type:"paren",value:k,output:S.parens?")":"\\)"}),te("parens");continue}if(k==="["){if(f.nobracket===!0||!ce().includes("]")){if(f.nobracket!==!0&&f.strictBrackets===!0)throw new SyntaxError(a("closing","]"));k=`\\${k}`}else oe("brackets");M({type:"bracket",value:k});continue}if(k==="]"){if(f.nobracket===!0||T&&T.type==="bracket"&&T.value.length===1){M({type:"text",value:k,output:`\\${k}`});continue}if(S.brackets===0){if(f.strictBrackets===!0)throw new SyntaxError(a("opening","["));M({type:"text",value:k,output:`\\${k}`});continue}te("brackets");const I=T.value.slice(1);if(T.posix!==!0&&I[0]==="^"&&!I.includes("/")&&(k=`/${k}`),T.value+=k,Q({value:k}),f.literalBrackets===!1||i.hasRegexChars(I))continue;const q=i.escapeRegex(T.value);if(S.output=S.output.slice(0,-T.value.length),f.literalBrackets===!0){S.output+=q,T.value=q;continue}T.value=`(${c}${q}|${T.value})`,S.output+=T.value;continue}if(k==="{"&&f.nobrace!==!0){oe("braces");const I={type:"brace",value:k,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};ie.push(I),M(I);continue}if(k==="}"){const I=ie[ie.length-1];if(f.nobrace===!0||!I){M({type:"text",value:k,output:k});continue}let q=")";if(I.dots===!0){const V=v.slice(),re=[];for(let J=V.length-1;J>=0&&(v.pop(),V[J].type!=="brace");J--)V[J].type!=="dots"&&re.unshift(V[J].value);q=n(re,f),S.backtrack=!0}if(I.comma!==!0&&I.dots!==!0){const V=S.output.slice(0,I.outputIndex),re=S.tokens.slice(I.tokensIndex);I.value=I.output="\\{",k=q="\\}",S.output=V;for(const J of re)S.output+=J.output||J.value}M({type:"brace",value:k,output:q}),te("braces"),ie.pop();continue}if(k==="|"){ee.length>0&&ee[ee.length-1].conditions++,M({type:"text",value:k});continue}if(k===","){let I=k;const q=ie[ie.length-1];q&&D[D.length-1]==="braces"&&(q.comma=!0,I="|"),M({type:"comma",value:k,output:I});continue}if(k==="/"){if(T.type==="dot"&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",v.pop(),T=N;continue}M({type:"slash",value:k,output:A});continue}if(k==="."){if(S.braces>0&&T.type==="dot"){T.value==="."&&(T.output=h);const I=ie[ie.length-1];T.type="dots",T.output+=k,T.value+=k,I.dots=!0;continue}if(S.braces+S.parens===0&&T.type!=="bos"&&T.type!=="slash"){M({type:"text",value:k,output:h});continue}M({type:"dot",value:k,output:h});continue}if(k==="?"){if(!(T&&T.value==="(")&&f.noextglob!==!0&&U()==="("&&U(2)!=="?"){Y("qmark",k);continue}if(T&&T.type==="paren"){const q=U();let V=k;if(q==="<"&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(T.value==="("&&!/[!=<:]/.test(q)||q==="<"&&!/<([!=]|\w+>)/.test(ce()))&&(V=`\\${k}`),M({type:"text",value:k,output:V});continue}if(f.dot!==!0&&(T.type==="slash"||T.type==="bos")){M({type:"qmark",value:k,output:P});continue}M({type:"qmark",value:k,output:m});continue}if(k==="!"){if(f.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){Y("negate",k);continue}if(f.nonegate!==!0&&S.index===0){Re();continue}}if(k==="+"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){Y("plus",k);continue}if(T&&T.value==="("||f.regex===!1){M({type:"plus",value:k,output:_});continue}if(T&&(T.type==="bracket"||T.type==="paren"||T.type==="brace")||S.parens>0){M({type:"plus",value:k});continue}M({type:"plus",value:_});continue}if(k==="@"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){M({type:"at",extglob:!0,value:k,output:""});continue}M({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);const I=d.exec(ce());I&&(k+=I[0],S.index+=I[0].length),M({type:"text",value:k});continue}if(T&&(T.type==="globstar"||T.star===!0)){T.type="star",T.star=!0,T.value+=k,T.output=K,S.backtrack=!0,S.globstar=!0,j(k);continue}let L=ce();if(f.noextglob!==!0&&/^\([^?]/.test(L)){Y("star",k);continue}if(T.type==="star"){if(f.noglobstar===!0){j(k);continue}const I=T.prev,q=I.prev,V=I.type==="slash"||I.type==="bos",re=q&&(q.type==="star"||q.type==="globstar");if(f.bash===!0&&(!V||L[0]&&L[0]!=="/")){M({type:"star",value:k,output:""});continue}const J=S.braces>0&&(I.type==="comma"||I.type==="brace"),It=ee.length&&(I.type==="pipe"||I.type==="paren");if(!V&&I.type!=="paren"&&!J&&!It){M({type:"star",value:k,output:""});continue}for(;L.slice(0,3)==="/**";){const Pe=r[S.index+4];if(Pe&&Pe!=="/")break;L=L.slice(3),j("/**",3)}if(I.type==="bos"&&G()){T.type="globstar",T.value+=k,T.output=B(f),S.output=T.output,S.globstar=!0,j(k);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&!re&&G()){S.output=S.output.slice(0,-(I.output+T.output).length),I.output=`(?:${I.output}`,T.type="globstar",T.output=B(f)+(f.strictSlashes?")":"|$)"),T.value+=k,S.globstar=!0,S.output+=I.output+T.output,j(k);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&L[0]==="/"){const Pe=L[1]!==void 0?"|$":"";S.output=S.output.slice(0,-(I.output+T.output).length),I.output=`(?:${I.output}`,T.type="globstar",T.output=`${B(f)}${A}|${A}${Pe})`,T.value+=k,S.output+=I.output+T.output,S.globstar=!0,j(k+ne()),M({type:"slash",value:"/",output:""});continue}if(I.type==="bos"&&L[0]==="/"){T.type="globstar",T.value+=k,T.output=`(?:^|${A}|${B(f)}${A})`,S.output=T.output,S.globstar=!0,j(k+ne()),M({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-T.output.length),T.type="globstar",T.output=B(f),T.value+=k,S.output+=T.output,S.globstar=!0,j(k);continue}const Z={type:"star",value:k,output:K};if(f.bash===!0){Z.output=".*?",(T.type==="bos"||T.type==="slash")&&(Z.output=z+Z.output),M(Z);continue}if(T&&(T.type==="bracket"||T.type==="paren")&&f.regex===!0){Z.output=k,M(Z);continue}(S.index===S.start||T.type==="slash"||T.type==="dot")&&(T.type==="dot"?(S.output+=$,T.output+=$):f.dot===!0?(S.output+=O,T.output+=O):(S.output+=z,T.output+=z),U()!=="*"&&(S.output+=C,T.output+=C)),M(Z)}for(;S.brackets>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing","]"));S.output=i.escapeLast(S.output,"["),te("brackets")}for(;S.parens>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing",")"));S.output=i.escapeLast(S.output,"("),te("parens")}for(;S.braces>0;){if(f.strictBrackets===!0)throw new SyntaxError(a("closing","}"));S.output=i.escapeLast(S.output,"{"),te("braces")}if(f.strictSlashes!==!0&&(T.type==="star"||T.type==="bracket")&&M({type:"maybe_slash",value:"",output:`${A}?`}),S.backtrack===!0){S.output="";for(const L of S.tokens)S.output+=L.output!=null?L.output:L.value,L.suffix&&(S.output+=L.suffix)}return S};return t.fastpaths=(r,b)=>{const f={...b},g=typeof f.maxLength=="number"?Math.min(e,f.maxLength):e,x=r.length;if(x>g)throw new SyntaxError(`Input length: ${x}, exceeds maximum allowed length: ${g}`);r=s[r]||r;const N=i.isWindows(b),{DOT_LITERAL:v,SLASH_LITERAL:c,ONE_CHAR:y,DOTS_SLASH:p,NO_DOT:E,NO_DOTS:h,NO_DOTS_SLASH:_,STAR:A,START_ANCHOR:C}=l.globChars(N),w=f.dot?h:E,R=f.dot?_:E,$=f.capture?"":"?:",O={negated:!1,prefix:""};let m=f.bash===!0?".*?":A;f.capture&&(m=`(${m})`);const P=z=>z.noglobstar===!0?m:`(${$}(?:(?!${C}${z.dot?p:v}).)*?)`,H=z=>{switch(z){case"*":return`${w}${y}${m}`;case".*":return`${v}${y}${m}`;case"*.*":return`${w}${m}${v}${y}${m}`;case"*/*":return`${w}${m}${c}${y}${R}${m}`;case"**":return w+P(f);case"**/*":return`(?:${w}${P(f)}${c})?${R}${y}${m}`;case"**/*.*":return`(?:${w}${P(f)}${c})?${R}${m}${v}${y}${m}`;case"**/.*":return`(?:${w}${P(f)}${c})?${v}${y}${m}`;default:{const X=/^(.*?)\.(\w+)$/.exec(z);if(!X)return;const K=H(X[1]);return K?K+v+X[2]:void 0}}},F=i.removePrefix(r,O);let B=H(F);return B&&f.strictSlashes!==!0&&(B+=`${c}?`),B},ft=t,ft}var ct,Kr;function Us(){if(Kr)return ct;Kr=1;const l=ot(),i=Ms(),e=Bs(),u=Ie(),d=$e(),o=n=>n&&typeof n=="object"&&!Array.isArray(n),s=(n,a,t=!1)=>{if(Array.isArray(n)){const c=n.map(p=>s(p,a,t));return p=>{for(const E of c){const h=E(p);if(h)return h}return!1}}const r=o(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const b=a||{},f=u.isWindows(a),g=r?s.compileRe(n,a):s.makeRe(n,a,!1,!0),x=g.state;delete g.state;let N=()=>!1;if(b.ignore){const c={...a,ignore:null,onMatch:null,onResult:null};N=s(b.ignore,c,t)}const v=(c,y=!1)=>{const{isMatch:p,match:E,output:h}=s.test(c,g,a,{glob:n,posix:f}),_={glob:n,state:x,regex:g,posix:f,input:c,output:h,match:E,isMatch:p};return typeof b.onResult=="function"&&b.onResult(_),p===!1?(_.isMatch=!1,y?_:!1):N(c)?(typeof b.onIgnore=="function"&&b.onIgnore(_),_.isMatch=!1,y?_:!1):(typeof b.onMatch=="function"&&b.onMatch(_),y?_:!0)};return t&&(v.state=x),v};return s.test=(n,a,t,{glob:r,posix:b}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const f=t||{},g=f.format||(b?u.toPosixSlashes:null);let x=n===r,N=x&&g?g(n):n;return x===!1&&(N=g?g(n):n,x=N===r),(x===!1||f.capture===!0)&&(f.matchBase===!0||f.basename===!0?x=s.matchBase(n,a,t,b):x=a.exec(N)),{isMatch:!!x,match:x,output:N}},s.matchBase=(n,a,t,r=u.isWindows(t))=>(a instanceof RegExp?a:s.makeRe(a,t)).test(l.basename(n)),s.isMatch=(n,a,t)=>s(a,t)(n),s.parse=(n,a)=>Array.isArray(n)?n.map(t=>s.parse(t,a)):e(n,{...a,fastpaths:!1}),s.scan=(n,a)=>i(n,a),s.compileRe=(n,a,t=!1,r=!1)=>{if(t===!0)return n.output;const b=a||{},f=b.contains?"":"^",g=b.contains?"":"$";let x=`${f}(?:${n.output})${g}`;n&&n.negated===!0&&(x=`^(?!${x}).*$`);const N=s.toRegex(x,a);return r===!0&&(N.state=n),N},s.makeRe=(n,a={},t=!1,r=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let b={negated:!1,fastpaths:!0};return a.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(b.output=e.fastpaths(n,a)),b.output||(b=e(n,a)),s.compileRe(b,a,t,r)},s.toRegex=(n,a)=>{try{const t=a||{};return new RegExp(n,t.flags||(t.nocase?"i":""))}catch(t){if(a&&a.debug===!0)throw t;return/$^/}},s.constants=d,ct=s,ct}var ht,Wr;function Gs(){return Wr||(Wr=1,ht=Us()),ht}var dt,Vr;function qs(){if(Vr)return dt;Vr=1;const l=Tr,i=Fs(),e=Gs(),u=Ie(),d=n=>n===""||n==="./",o=n=>{const a=n.indexOf("{");return a>-1&&n.indexOf("}",a)>-1},s=(n,a,t)=>{a=[].concat(a),n=[].concat(n);let r=new Set,b=new Set,f=new Set,g=0,x=c=>{f.add(c.output),t&&t.onResult&&t.onResult(c)};for(let c=0;c<a.length;c++){let y=e(String(a[c]),{...t,onResult:x},!0),p=y.state.negated||y.state.negatedExtglob;p&&g++;for(let E of n){let h=y(E,!0);(p?!h.isMatch:h.isMatch)&&(p?r.add(h.output):(r.delete(h.output),b.add(h.output)))}}let v=(g===a.length?[...f]:[...b]).filter(c=>!r.has(c));if(t&&v.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${a.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?a.map(c=>c.replace(/\\/g,"")):a}return v};return s.match=s,s.matcher=(n,a)=>e(n,a),s.isMatch=(n,a,t)=>e(a,t)(n),s.any=s.isMatch,s.not=(n,a,t={})=>{a=[].concat(a).map(String);let r=new Set,b=[],f=x=>{t.onResult&&t.onResult(x),b.push(x.output)},g=new Set(s(n,a,{...t,onResult:f}));for(let x of b)g.has(x)||r.add(x);return[...r]},s.contains=(n,a,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${l.inspect(n)}"`);if(Array.isArray(a))return a.some(r=>s.contains(n,r,t));if(typeof a=="string"){if(d(n)||d(a))return!1;if(n.includes(a)||n.startsWith("./")&&n.slice(2).includes(a))return!0}return s.isMatch(n,a,{...t,contains:!0})},s.matchKeys=(n,a,t)=>{if(!u.isObject(n))throw new TypeError("Expected the first argument to be an object");let r=s(Object.keys(n),a,t),b={};for(let f of r)b[f]=n[f];return b},s.some=(n,a,t)=>{let r=[].concat(n);for(let b of[].concat(a)){let f=e(String(b),t);if(r.some(g=>f(g)))return!0}return!1},s.every=(n,a,t)=>{let r=[].concat(n);for(let b of[].concat(a)){let f=e(String(b),t);if(!r.every(g=>f(g)))return!1}return!0},s.all=(n,a,t)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${l.inspect(n)}"`);return[].concat(a).every(r=>e(r,t)(n))},s.capture=(n,a,t)=>{let r=u.isWindows(t),f=e.makeRe(String(n),{...t,capture:!0}).exec(r?u.toPosixSlashes(a):a);if(f)return f.slice(1).map(g=>g===void 0?"":g)},s.makeRe=(...n)=>e.makeRe(...n),s.scan=(...n)=>e.scan(...n),s.parse=(n,a)=>{let t=[];for(let r of[].concat(n||[]))for(let b of i(String(r),a))t.push(e.parse(b,a));return t},s.braces=(n,a)=>{if(typeof n!="string")throw new TypeError("Expected a string");return a&&a.nobrace===!0||!o(n)?[n]:i(n,a)},s.braceExpand=(n,a)=>{if(typeof n!="string")throw new TypeError("Expected a string");return s.braces(n,{...a,expand:!0})},s.hasBraces=o,dt=s,dt}var Zs=qs(),He=Sr(Zs),pt={},gt={},jr;function bt(){return jr||(jr=1,(function(l){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",e=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u="["+i+"]["+e+"]*",d=new RegExp("^"+u+"$"),o=function(n,a){const t=[];let r=a.exec(n);for(;r;){const b=[];b.startIndex=a.lastIndex-r[0].length;const f=r.length;for(let g=0;g<f;g++)b.push(r[g]);t.push(b),r=a.exec(n)}return t},s=function(n){const a=d.exec(n);return!(a===null||typeof a>"u")};l.isExist=function(n){return typeof n<"u"},l.isEmptyObject=function(n){return Object.keys(n).length===0},l.merge=function(n,a,t){if(a){const r=Object.keys(a),b=r.length;for(let f=0;f<b;f++)t==="strict"?n[r[f]]=[a[r[f]]]:n[r[f]]=a[r[f]]}},l.getValue=function(n){return l.isExist(n)?n:""},l.isName=s,l.getAllMatches=o,l.nameRegexp=u})(gt)),gt}var Qr;function Yr(){if(Qr)return pt;Qr=1;const l=bt(),i={allowBooleanAttributes:!1,unpairedTags:[]};pt.validate=function(c,y){y=Object.assign({},i,y);const p=[];let E=!1,h=!1;c[0]==="\uFEFF"&&(c=c.substr(1));for(let _=0;_<c.length;_++)if(c[_]==="<"&&c[_+1]==="?"){if(_+=2,_=u(c,_),_.err)return _}else if(c[_]==="<"){let A=_;if(_++,c[_]==="!"){_=d(c,_);continue}else{let C=!1;c[_]==="/"&&(C=!0,_++);let w="";for(;_<c.length&&c[_]!==">"&&c[_]!==" "&&c[_]!=="	"&&c[_]!==`
`&&c[_]!=="\r";_++)w+=c[_];if(w=w.trim(),w[w.length-1]==="/"&&(w=w.substring(0,w.length-1),_--),!x(w)){let O;return w.trim().length===0?O="Invalid space after '<'.":O="Tag '"+w+"' is an invalid name.",f("InvalidTag",O,N(c,_))}const R=n(c,_);if(R===!1)return f("InvalidAttr","Attributes for '"+w+"' have open quote.",N(c,_));let $=R.value;if(_=R.index,$[$.length-1]==="/"){const O=_-$.length;$=$.substring(0,$.length-1);const m=t($,y);if(m===!0)E=!0;else return f(m.err.code,m.err.msg,N(c,O+m.err.line))}else if(C)if(R.tagClosed){if($.trim().length>0)return f("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",N(c,A));if(p.length===0)return f("InvalidTag","Closing tag '"+w+"' has not been opened.",N(c,A));{const O=p.pop();if(w!==O.tagName){let m=N(c,O.tagStartPos);return f("InvalidTag","Expected closing tag '"+O.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+w+"'.",N(c,A))}p.length==0&&(h=!0)}}else return f("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",N(c,_));else{const O=t($,y);if(O!==!0)return f(O.err.code,O.err.msg,N(c,_-$.length+O.err.line));if(h===!0)return f("InvalidXml","Multiple possible root nodes found.",N(c,_));y.unpairedTags.indexOf(w)!==-1||p.push({tagName:w,tagStartPos:A}),E=!0}for(_++;_<c.length;_++)if(c[_]==="<")if(c[_+1]==="!"){_++,_=d(c,_);continue}else if(c[_+1]==="?"){if(_=u(c,++_),_.err)return _}else break;else if(c[_]==="&"){const O=b(c,_);if(O==-1)return f("InvalidChar","char '&' is not expected.",N(c,_));_=O}else if(h===!0&&!e(c[_]))return f("InvalidXml","Extra text at the end",N(c,_));c[_]==="<"&&_--}}else{if(e(c[_]))continue;return f("InvalidChar","char '"+c[_]+"' is not expected.",N(c,_))}if(E){if(p.length==1)return f("InvalidTag","Unclosed tag '"+p[0].tagName+"'.",N(c,p[0].tagStartPos));if(p.length>0)return f("InvalidXml","Invalid '"+JSON.stringify(p.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return f("InvalidXml","Start tag expected.",1);return!0};function e(c){return c===" "||c==="	"||c===`
`||c==="\r"}function u(c,y){const p=y;for(;y<c.length;y++)if(c[y]=="?"||c[y]==" "){const E=c.substr(p,y-p);if(y>5&&E==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",N(c,y));if(c[y]=="?"&&c[y+1]==">"){y++;break}else continue}return y}function d(c,y){if(c.length>y+5&&c[y+1]==="-"&&c[y+2]==="-"){for(y+=3;y<c.length;y++)if(c[y]==="-"&&c[y+1]==="-"&&c[y+2]===">"){y+=2;break}}else if(c.length>y+8&&c[y+1]==="D"&&c[y+2]==="O"&&c[y+3]==="C"&&c[y+4]==="T"&&c[y+5]==="Y"&&c[y+6]==="P"&&c[y+7]==="E"){let p=1;for(y+=8;y<c.length;y++)if(c[y]==="<")p++;else if(c[y]===">"&&(p--,p===0))break}else if(c.length>y+9&&c[y+1]==="["&&c[y+2]==="C"&&c[y+3]==="D"&&c[y+4]==="A"&&c[y+5]==="T"&&c[y+6]==="A"&&c[y+7]==="["){for(y+=8;y<c.length;y++)if(c[y]==="]"&&c[y+1]==="]"&&c[y+2]===">"){y+=2;break}}return y}const o='"',s="'";function n(c,y){let p="",E="",h=!1;for(;y<c.length;y++){if(c[y]===o||c[y]===s)E===""?E=c[y]:E!==c[y]||(E="");else if(c[y]===">"&&E===""){h=!0;break}p+=c[y]}return E!==""?!1:{value:p,index:y,tagClosed:h}}const a=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function t(c,y){const p=l.getAllMatches(c,a),E={};for(let h=0;h<p.length;h++){if(p[h][1].length===0)return f("InvalidAttr","Attribute '"+p[h][2]+"' has no space in starting.",v(p[h]));if(p[h][3]!==void 0&&p[h][4]===void 0)return f("InvalidAttr","Attribute '"+p[h][2]+"' is without value.",v(p[h]));if(p[h][3]===void 0&&!y.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+p[h][2]+"' is not allowed.",v(p[h]));const _=p[h][2];if(!g(_))return f("InvalidAttr","Attribute '"+_+"' is an invalid name.",v(p[h]));if(!E.hasOwnProperty(_))E[_]=1;else return f("InvalidAttr","Attribute '"+_+"' is repeated.",v(p[h]))}return!0}function r(c,y){let p=/\d/;for(c[y]==="x"&&(y++,p=/[\da-fA-F]/);y<c.length;y++){if(c[y]===";")return y;if(!c[y].match(p))break}return-1}function b(c,y){if(y++,c[y]===";")return-1;if(c[y]==="#")return y++,r(c,y);let p=0;for(;y<c.length;y++,p++)if(!(c[y].match(/\w/)&&p<20)){if(c[y]===";")break;return-1}return y}function f(c,y,p){return{err:{code:c,msg:y,line:p.line||p,col:p.col}}}function g(c){return l.isName(c)}function x(c){return l.isName(c)}function N(c,y){const p=c.substring(0,y).split(/\r?\n/);return{line:p.length,col:p[p.length-1].length+1}}function v(c){return c.startIndex+c[1].length}return pt}var Le={},Jr;function zs(){if(Jr)return Le;Jr=1;const l={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,u){return u},attributeValueProcessor:function(e,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,u,d){return e}},i=function(e){return Object.assign({},l,e)};return Le.buildOptions=i,Le.defaultOptions=l,Le}var At,Dr;function Xs(){if(Dr)return At;Dr=1;class l{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,u){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:u})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}return At=l,At}var _t,en;function Ks(){if(en)return _t;en=1;const l=bt();function i(t,r){const b={};if(t[r+3]==="O"&&t[r+4]==="C"&&t[r+5]==="T"&&t[r+6]==="Y"&&t[r+7]==="P"&&t[r+8]==="E"){r=r+9;let f=1,g=!1,x=!1,N="";for(;r<t.length;r++)if(t[r]==="<"&&!x){if(g&&d(t,r)){r+=7;let v,c;[v,c,r]=e(t,r+1),c.indexOf("&")===-1&&(b[a(v)]={regx:RegExp(`&${v};`,"g"),val:c})}else if(g&&o(t,r))r+=8;else if(g&&s(t,r))r+=8;else if(g&&n(t,r))r+=9;else if(u)x=!0;else throw new Error("Invalid DOCTYPE");f++,N=""}else if(t[r]===">"){if(x?t[r-1]==="-"&&t[r-2]==="-"&&(x=!1,f--):f--,f===0)break}else t[r]==="["?g=!0:N+=t[r];if(f!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:b,i:r}}function e(t,r){let b="";for(;r<t.length&&t[r]!=="'"&&t[r]!=='"';r++)b+=t[r];if(b=b.trim(),b.indexOf(" ")!==-1)throw new Error("External entites are not supported");const f=t[r++];let g="";for(;r<t.length&&t[r]!==f;r++)g+=t[r];return[b,g,r]}function u(t,r){return t[r+1]==="!"&&t[r+2]==="-"&&t[r+3]==="-"}function d(t,r){return t[r+1]==="!"&&t[r+2]==="E"&&t[r+3]==="N"&&t[r+4]==="T"&&t[r+5]==="I"&&t[r+6]==="T"&&t[r+7]==="Y"}function o(t,r){return t[r+1]==="!"&&t[r+2]==="E"&&t[r+3]==="L"&&t[r+4]==="E"&&t[r+5]==="M"&&t[r+6]==="E"&&t[r+7]==="N"&&t[r+8]==="T"}function s(t,r){return t[r+1]==="!"&&t[r+2]==="A"&&t[r+3]==="T"&&t[r+4]==="T"&&t[r+5]==="L"&&t[r+6]==="I"&&t[r+7]==="S"&&t[r+8]==="T"}function n(t,r){return t[r+1]==="!"&&t[r+2]==="N"&&t[r+3]==="O"&&t[r+4]==="T"&&t[r+5]==="A"&&t[r+6]==="T"&&t[r+7]==="I"&&t[r+8]==="O"&&t[r+9]==="N"}function a(t){if(l.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}return _t=i,_t}var yt,tn;function Ws(){if(tn)return yt;tn=1;const l=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,e={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function u(s,n={}){if(n=Object.assign({},e,n),!s||typeof s!="string")return s;let a=s.trim();if(n.skipLike!==void 0&&n.skipLike.test(a))return s;if(s==="0")return 0;if(n.hex&&l.test(a))return o(a,16);if(a.search(/[eE]/)!==-1){const t=a.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(t){if(n.leadingZeros)a=(t[1]||"")+t[3];else if(!(t[2]==="0"&&t[3][0]==="."))return s;return n.eNotation?Number(a):s}else return s}else{const t=i.exec(a);if(t){const r=t[1],b=t[2];let f=d(t[3]);if(!n.leadingZeros&&b.length>0&&r&&a[2]!==".")return s;if(!n.leadingZeros&&b.length>0&&!r&&a[1]!==".")return s;if(n.leadingZeros&&b===s)return 0;{const g=Number(a),x=""+g;return x.search(/[eE]/)!==-1?n.eNotation?g:s:a.indexOf(".")!==-1?x==="0"&&f===""||x===f||r&&x==="-"+f?g:s:b?f===x||r+f===x?g:s:a===x||a===r+x?g:s}}else return s}}function d(s){return s&&s.indexOf(".")!==-1&&(s=s.replace(/0+$/,""),s==="."?s="0":s[0]==="."?s="0"+s:s[s.length-1]==="."&&(s=s.substr(0,s.length-1))),s}function o(s,n){if(parseInt)return parseInt(s,n);if(Number.parseInt)return Number.parseInt(s,n);if(window&&window.parseInt)return window.parseInt(s,n);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return yt=u,yt}var Et,rn;function nn(){if(rn)return Et;rn=1;function l(i){return typeof i=="function"?i:Array.isArray(i)?e=>{for(const u of i)if(typeof u=="string"&&e===u||u instanceof RegExp&&u.test(e))return!0}:()=>!1}return Et=l,Et}var wt,sn;function Vs(){if(sn)return wt;sn=1;const l=bt(),i=Xs(),e=Ks(),u=Ws(),d=nn();class o{constructor(_){this.options=_,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,C)=>String.fromCharCode(Number.parseInt(C,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,C)=>String.fromCharCode(Number.parseInt(C,16))}},this.addExternalEntities=s,this.parseXml=b,this.parseTextData=n,this.resolveNameSpace=a,this.buildAttributesMap=r,this.isItStopNode=N,this.replaceEntitiesValue=g,this.readStopNodeData=p,this.saveTextToParentTag=x,this.addChild=f,this.ignoreAttributesFn=d(this.options.ignoreAttributes)}}function s(h){const _=Object.keys(h);for(let A=0;A<_.length;A++){const C=_[A];this.lastEntities[C]={regex:new RegExp("&"+C+";","g"),val:h[C]}}}function n(h,_,A,C,w,R,$){if(h!==void 0&&(this.options.trimValues&&!C&&(h=h.trim()),h.length>0)){$||(h=this.replaceEntitiesValue(h));const O=this.options.tagValueProcessor(_,h,A,w,R);return O==null?h:typeof O!=typeof h||O!==h?O:this.options.trimValues?E(h,this.options.parseTagValue,this.options.numberParseOptions):h.trim()===h?E(h,this.options.parseTagValue,this.options.numberParseOptions):h}}function a(h){if(this.options.removeNSPrefix){const _=h.split(":"),A=h.charAt(0)==="/"?"/":"";if(_[0]==="xmlns")return"";_.length===2&&(h=A+_[1])}return h}const t=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function r(h,_,A){if(this.options.ignoreAttributes!==!0&&typeof h=="string"){const C=l.getAllMatches(h,t),w=C.length,R={};for(let $=0;$<w;$++){const O=this.resolveNameSpace(C[$][1]);if(this.ignoreAttributesFn(O,_))continue;let m=C[$][4],P=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(P=this.options.transformAttributeName(P)),P==="__proto__"&&(P="#__proto__"),m!==void 0){this.options.trimValues&&(m=m.trim()),m=this.replaceEntitiesValue(m);const H=this.options.attributeValueProcessor(O,m,_);H==null?R[P]=m:typeof H!=typeof m||H!==m?R[P]=H:R[P]=E(m,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[P]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const $={};return $[this.options.attributesGroupName]=R,$}return R}}const b=function(h){h=h.replace(/\r\n?/g,`
`);const _=new i("!xml");let A=_,C="",w="";for(let R=0;R<h.length;R++)if(h[R]==="<")if(h[R+1]==="/"){const O=c(h,">",R,"Closing Tag is not closed.");let m=h.substring(R+2,O).trim();if(this.options.removeNSPrefix){const F=m.indexOf(":");F!==-1&&(m=m.substr(F+1))}this.options.transformTagName&&(m=this.options.transformTagName(m)),A&&(C=this.saveTextToParentTag(C,A,w));const P=w.substring(w.lastIndexOf(".")+1);if(m&&this.options.unpairedTags.indexOf(m)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${m}>`);let H=0;P&&this.options.unpairedTags.indexOf(P)!==-1?(H=w.lastIndexOf(".",w.lastIndexOf(".")-1),this.tagsNodeStack.pop()):H=w.lastIndexOf("."),w=w.substring(0,H),A=this.tagsNodeStack.pop(),C="",R=O}else if(h[R+1]==="?"){let O=y(h,R,!1,"?>");if(!O)throw new Error("Pi Tag is not closed.");if(C=this.saveTextToParentTag(C,A,w),!(this.options.ignoreDeclaration&&O.tagName==="?xml"||this.options.ignorePiTags)){const m=new i(O.tagName);m.add(this.options.textNodeName,""),O.tagName!==O.tagExp&&O.attrExpPresent&&(m[":@"]=this.buildAttributesMap(O.tagExp,w,O.tagName)),this.addChild(A,m,w)}R=O.closeIndex+1}else if(h.substr(R+1,3)==="!--"){const O=c(h,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const m=h.substring(R+4,O-2);C=this.saveTextToParentTag(C,A,w),A.add(this.options.commentPropName,[{[this.options.textNodeName]:m}])}R=O}else if(h.substr(R+1,2)==="!D"){const O=e(h,R);this.docTypeEntities=O.entities,R=O.i}else if(h.substr(R+1,2)==="!["){const O=c(h,"]]>",R,"CDATA is not closed.")-2,m=h.substring(R+9,O);C=this.saveTextToParentTag(C,A,w);let P=this.parseTextData(m,A.tagname,w,!0,!1,!0,!0);P==null&&(P=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:m}]):A.add(this.options.textNodeName,P),R=O+2}else{let O=y(h,R,this.options.removeNSPrefix),m=O.tagName;const P=O.rawTagName;let H=O.tagExp,F=O.attrExpPresent,B=O.closeIndex;this.options.transformTagName&&(m=this.options.transformTagName(m)),A&&C&&A.tagname!=="!xml"&&(C=this.saveTextToParentTag(C,A,w,!1));const z=A;if(z&&this.options.unpairedTags.indexOf(z.tagname)!==-1&&(A=this.tagsNodeStack.pop(),w=w.substring(0,w.lastIndexOf("."))),m!==_.tagname&&(w+=w?"."+m:m),this.isItStopNode(this.options.stopNodes,w,m)){let X="";if(H.length>0&&H.lastIndexOf("/")===H.length-1)m[m.length-1]==="/"?(m=m.substr(0,m.length-1),w=w.substr(0,w.length-1),H=m):H=H.substr(0,H.length-1),R=O.closeIndex;else if(this.options.unpairedTags.indexOf(m)!==-1)R=O.closeIndex;else{const S=this.readStopNodeData(h,P,B+1);if(!S)throw new Error(`Unexpected end of ${P}`);R=S.i,X=S.tagContent}const K=new i(m);m!==H&&F&&(K[":@"]=this.buildAttributesMap(H,w,m)),X&&(X=this.parseTextData(X,m,w,!0,F,!0,!0)),w=w.substr(0,w.lastIndexOf(".")),K.add(this.options.textNodeName,X),this.addChild(A,K,w)}else{if(H.length>0&&H.lastIndexOf("/")===H.length-1){m[m.length-1]==="/"?(m=m.substr(0,m.length-1),w=w.substr(0,w.length-1),H=m):H=H.substr(0,H.length-1),this.options.transformTagName&&(m=this.options.transformTagName(m));const X=new i(m);m!==H&&F&&(X[":@"]=this.buildAttributesMap(H,w,m)),this.addChild(A,X,w),w=w.substr(0,w.lastIndexOf("."))}else{const X=new i(m);this.tagsNodeStack.push(A),m!==H&&F&&(X[":@"]=this.buildAttributesMap(H,w,m)),this.addChild(A,X,w),A=X}C="",R=B}}else C+=h[R];return _.child};function f(h,_,A){const C=this.options.updateTag(_.tagname,A,_[":@"]);C===!1||(typeof C=="string"&&(_.tagname=C),h.addChild(_))}const g=function(h){if(this.options.processEntities){for(let _ in this.docTypeEntities){const A=this.docTypeEntities[_];h=h.replace(A.regx,A.val)}for(let _ in this.lastEntities){const A=this.lastEntities[_];h=h.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let _ in this.htmlEntities){const A=this.htmlEntities[_];h=h.replace(A.regex,A.val)}h=h.replace(this.ampEntity.regex,this.ampEntity.val)}return h};function x(h,_,A,C){return h&&(C===void 0&&(C=_.child.length===0),h=this.parseTextData(h,_.tagname,A,!1,_[":@"]?Object.keys(_[":@"]).length!==0:!1,C),h!==void 0&&h!==""&&_.add(this.options.textNodeName,h),h=""),h}function N(h,_,A){const C="*."+A;for(const w in h){const R=h[w];if(C===R||_===R)return!0}return!1}function v(h,_,A=">"){let C,w="";for(let R=_;R<h.length;R++){let $=h[R];if(C)$===C&&(C="");else if($==='"'||$==="'")C=$;else if($===A[0])if(A[1]){if(h[R+1]===A[1])return{data:w,index:R}}else return{data:w,index:R};else $==="	"&&($=" ");w+=$}}function c(h,_,A,C){const w=h.indexOf(_,A);if(w===-1)throw new Error(C);return w+_.length-1}function y(h,_,A,C=">"){const w=v(h,_+1,C);if(!w)return;let R=w.data;const $=w.index,O=R.search(/\s/);let m=R,P=!0;O!==-1&&(m=R.substring(0,O),R=R.substring(O+1).trimStart());const H=m;if(A){const F=m.indexOf(":");F!==-1&&(m=m.substr(F+1),P=m!==w.data.substr(F+1))}return{tagName:m,tagExp:R,closeIndex:$,attrExpPresent:P,rawTagName:H}}function p(h,_,A){const C=A;let w=1;for(;A<h.length;A++)if(h[A]==="<")if(h[A+1]==="/"){const R=c(h,">",A,`${_} is not closed`);if(h.substring(A+2,R).trim()===_&&(w--,w===0))return{tagContent:h.substring(C,A),i:R};A=R}else if(h[A+1]==="?")A=c(h,"?>",A+1,"StopNode is not closed.");else if(h.substr(A+1,3)==="!--")A=c(h,"-->",A+3,"StopNode is not closed.");else if(h.substr(A+1,2)==="![")A=c(h,"]]>",A,"StopNode is not closed.")-2;else{const R=y(h,A,">");R&&((R&&R.tagName)===_&&R.tagExp[R.tagExp.length-1]!=="/"&&w++,A=R.closeIndex)}}function E(h,_,A){if(_&&typeof h=="string"){const C=h.trim();return C==="true"?!0:C==="false"?!1:u(h,A)}else return l.isExist(h)?h:""}return wt=o,wt}var xt={},on;function js(){if(on)return xt;on=1;function l(o,s){return i(o,s)}function i(o,s,n){let a;const t={};for(let r=0;r<o.length;r++){const b=o[r],f=e(b);let g="";if(n===void 0?g=f:g=n+"."+f,f===s.textNodeName)a===void 0?a=b[f]:a+=""+b[f];else{if(f===void 0)continue;if(b[f]){let x=i(b[f],s,g);const N=d(x,s);b[":@"]?u(x,b[":@"],g,s):Object.keys(x).length===1&&x[s.textNodeName]!==void 0&&!s.alwaysCreateTextNode?x=x[s.textNodeName]:Object.keys(x).length===0&&(s.alwaysCreateTextNode?x[s.textNodeName]="":x=""),t[f]!==void 0&&t.hasOwnProperty(f)?(Array.isArray(t[f])||(t[f]=[t[f]]),t[f].push(x)):s.isArray(f,g,N)?t[f]=[x]:t[f]=x}}}return typeof a=="string"?a.length>0&&(t[s.textNodeName]=a):a!==void 0&&(t[s.textNodeName]=a),t}function e(o){const s=Object.keys(o);for(let n=0;n<s.length;n++){const a=s[n];if(a!==":@")return a}}function u(o,s,n,a){if(s){const t=Object.keys(s),r=t.length;for(let b=0;b<r;b++){const f=t[b];a.isArray(f,n+"."+f,!0,!0)?o[f]=[s[f]]:o[f]=s[f]}}}function d(o,s){const{textNodeName:n}=s,a=Object.keys(o).length;return!!(a===0||a===1&&(o[n]||typeof o[n]=="boolean"||o[n]===0))}return xt.prettify=l,xt}var mt,an;function Qs(){if(an)return mt;an=1;const{buildOptions:l}=zs(),i=Vs(),{prettify:e}=js(),u=Yr();class d{constructor(s){this.externalEntities={},this.options=l(s)}parse(s,n){if(typeof s!="string")if(s.toString)s=s.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const r=u.validate(s,n);if(r!==!0)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const a=new i(this.options);a.addExternalEntities(this.externalEntities);const t=a.parseXml(s);return this.options.preserveOrder||t===void 0?t:e(t,this.options)}addEntity(s,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(s.indexOf("&")!==-1||s.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[s]=n}}return mt=d,mt}var Rt,ln;function Ys(){if(ln)return Rt;ln=1;const l=`
`;function i(n,a){let t="";return a.format&&a.indentBy.length>0&&(t=l),e(n,a,"",t)}function e(n,a,t,r){let b="",f=!1;for(let g=0;g<n.length;g++){const x=n[g],N=u(x);if(N===void 0)continue;let v="";if(t.length===0?v=N:v=`${t}.${N}`,N===a.textNodeName){let h=x[N];o(v,a)||(h=a.tagValueProcessor(N,h),h=s(h,a)),f&&(b+=r),b+=h,f=!1;continue}else if(N===a.cdataPropName){f&&(b+=r),b+=`<![CDATA[${x[N][0][a.textNodeName]}]]>`,f=!1;continue}else if(N===a.commentPropName){b+=r+`<!--${x[N][0][a.textNodeName]}-->`,f=!0;continue}else if(N[0]==="?"){const h=d(x[":@"],a),_=N==="?xml"?"":r;let A=x[N][0][a.textNodeName];A=A.length!==0?" "+A:"",b+=_+`<${N}${A}${h}?>`,f=!0;continue}let c=r;c!==""&&(c+=a.indentBy);const y=d(x[":@"],a),p=r+`<${N}${y}`,E=e(x[N],a,v,c);a.unpairedTags.indexOf(N)!==-1?a.suppressUnpairedNode?b+=p+">":b+=p+"/>":(!E||E.length===0)&&a.suppressEmptyNode?b+=p+"/>":E&&E.endsWith(">")?b+=p+`>${E}${r}</${N}>`:(b+=p+">",E&&r!==""&&(E.includes("/>")||E.includes("</"))?b+=r+a.indentBy+E+r:b+=E,b+=`</${N}>`),f=!0}return b}function u(n){const a=Object.keys(n);for(let t=0;t<a.length;t++){const r=a[t];if(n.hasOwnProperty(r)&&r!==":@")return r}}function d(n,a){let t="";if(n&&!a.ignoreAttributes)for(let r in n){if(!n.hasOwnProperty(r))continue;let b=a.attributeValueProcessor(r,n[r]);b=s(b,a),b===!0&&a.suppressBooleanAttributes?t+=` ${r.substr(a.attributeNamePrefix.length)}`:t+=` ${r.substr(a.attributeNamePrefix.length)}="${b}"`}return t}function o(n,a){n=n.substr(0,n.length-a.textNodeName.length-1);let t=n.substr(n.lastIndexOf(".")+1);for(let r in a.stopNodes)if(a.stopNodes[r]===n||a.stopNodes[r]==="*."+t)return!0;return!1}function s(n,a){if(n&&n.length>0&&a.processEntities)for(let t=0;t<a.entities.length;t++){const r=a.entities[t];n=n.replace(r.regex,r.val)}return n}return Rt=i,Rt}var vt,un;function Js(){if(un)return vt;un=1;const l=Ys(),i=nn(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(n,a){return a},attributeValueProcessor:function(n,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function u(n){this.options=Object.assign({},e,n),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=s),this.processTextOrObjNode=d,this.options.format?(this.indentate=o,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}u.prototype.build=function(n){return this.options.preserveOrder?l(n,this.options):(Array.isArray(n)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(n={[this.options.arrayNodeName]:n}),this.j2x(n,0,[]).val)},u.prototype.j2x=function(n,a,t){let r="",b="";const f=t.join(".");for(let g in n)if(Object.prototype.hasOwnProperty.call(n,g))if(typeof n[g]>"u")this.isAttribute(g)&&(b+="");else if(n[g]===null)this.isAttribute(g)||g===this.options.cdataPropName?b+="":g[0]==="?"?b+=this.indentate(a)+"<"+g+"?"+this.tagEndChar:b+=this.indentate(a)+"<"+g+"/"+this.tagEndChar;else if(n[g]instanceof Date)b+=this.buildTextValNode(n[g],g,"",a);else if(typeof n[g]!="object"){const x=this.isAttribute(g);if(x&&!this.ignoreAttributesFn(x,f))r+=this.buildAttrPairStr(x,""+n[g]);else if(!x)if(g===this.options.textNodeName){let N=this.options.tagValueProcessor(g,""+n[g]);b+=this.replaceEntitiesValue(N)}else b+=this.buildTextValNode(n[g],g,"",a)}else if(Array.isArray(n[g])){const x=n[g].length;let N="",v="";for(let c=0;c<x;c++){const y=n[g][c];if(!(typeof y>"u"))if(y===null)g[0]==="?"?b+=this.indentate(a)+"<"+g+"?"+this.tagEndChar:b+=this.indentate(a)+"<"+g+"/"+this.tagEndChar;else if(typeof y=="object")if(this.options.oneListGroup){const p=this.j2x(y,a+1,t.concat(g));N+=p.val,this.options.attributesGroupName&&y.hasOwnProperty(this.options.attributesGroupName)&&(v+=p.attrStr)}else N+=this.processTextOrObjNode(y,g,a,t);else if(this.options.oneListGroup){let p=this.options.tagValueProcessor(g,y);p=this.replaceEntitiesValue(p),N+=p}else N+=this.buildTextValNode(y,g,"",a)}this.options.oneListGroup&&(N=this.buildObjectNode(N,g,v,a)),b+=N}else if(this.options.attributesGroupName&&g===this.options.attributesGroupName){const x=Object.keys(n[g]),N=x.length;for(let v=0;v<N;v++)r+=this.buildAttrPairStr(x[v],""+n[g][x[v]])}else b+=this.processTextOrObjNode(n[g],g,a,t);return{attrStr:r,val:b}},u.prototype.buildAttrPairStr=function(n,a){return a=this.options.attributeValueProcessor(n,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+n:" "+n+'="'+a+'"'};function d(n,a,t,r){const b=this.j2x(n,t+1,r.concat(a));return n[this.options.textNodeName]!==void 0&&Object.keys(n).length===1?this.buildTextValNode(n[this.options.textNodeName],a,b.attrStr,t):this.buildObjectNode(b.val,a,b.attrStr,t)}u.prototype.buildObjectNode=function(n,a,t,r){if(n==="")return a[0]==="?"?this.indentate(r)+"<"+a+t+"?"+this.tagEndChar:this.indentate(r)+"<"+a+t+this.closeTag(a)+this.tagEndChar;{let b="</"+a+this.tagEndChar,f="";return a[0]==="?"&&(f="?",b=""),(t||t==="")&&n.indexOf("<")===-1?this.indentate(r)+"<"+a+t+f+">"+n+b:this.options.commentPropName!==!1&&a===this.options.commentPropName&&f.length===0?this.indentate(r)+`<!--${n}-->`+this.newLine:this.indentate(r)+"<"+a+t+f+this.tagEndChar+n+this.indentate(r)+b}},u.prototype.closeTag=function(n){let a="";return this.options.unpairedTags.indexOf(n)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${n}`,a},u.prototype.buildTextValNode=function(n,a,t,r){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${n}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(r)+`<!--${n}-->`+this.newLine;if(a[0]==="?")return this.indentate(r)+"<"+a+t+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(a,n);return b=this.replaceEntitiesValue(b),b===""?this.indentate(r)+"<"+a+t+this.closeTag(a)+this.tagEndChar:this.indentate(r)+"<"+a+t+">"+b+"</"+a+this.tagEndChar}},u.prototype.replaceEntitiesValue=function(n){if(n&&n.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const t=this.options.entities[a];n=n.replace(t.regex,t.val)}return n};function o(n){return this.options.indentBy.repeat(n)}function s(n){return n.startsWith(this.options.attributeNamePrefix)&&n!==this.options.textNodeName?n.substr(this.attrPrefixLen):!1}return vt=u,vt}var Ct,fn;function Ds(){if(fn)return Ct;fn=1;const l=Yr(),i=Qs(),e=Js();return Ct={XMLParser:i,XMLValidator:l,XMLBuilder:e},Ct}var ei=Ds(),Nt,cn;function ti(){return cn||(cn=1,Nt=function l(i,e){var u=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,d=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,n=/^0/,a=function(p){return l.insensitive&&(""+p).toLowerCase()||""+p},t=a(i).replace(d,"")||"",r=a(e).replace(d,"")||"",b=t.replace(u,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=r.replace(u,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(t.match(s),16)||b.length!==1&&t.match(o)&&Date.parse(t),x=parseInt(r.match(s),16)||g&&r.match(o)&&Date.parse(r)||null,N,v;if(x){if(g<x)return-1;if(g>x)return 1}for(var c=0,y=Math.max(b.length,f.length);c<y;c++){if(N=!(b[c]||"").match(n)&&parseFloat(b[c])||b[c]||0,v=!(f[c]||"").match(n)&&parseFloat(f[c])||f[c]||0,isNaN(N)!==isNaN(v))return isNaN(N)?1:-1;if(typeof N!=typeof v&&(N+="",v+=""),N<v)return-1;if(N>v)return 1}return 0}),Nt}var ri=ti(),St=Sr(ri);async function ni(l,i={}){const e={ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"$",isArray:void 0};i.alwaysArray?e.isArray=(o,s)=>{if(i.alwaysArray.indexOf(s)!==-1)return!0}:delete e.isArray;const u=Object.assign(e,i),d=new ei.XMLParser(u);return new Promise((o,s)=>{try{const n=d.parse(l);o(n)}catch(n){s(n)}})}async function hn(l){if(new Uint16Array(l,0,2)[0]===35615)try{const e=new Response(l),u=new DecompressionStream("gzip"),d=await e.body?.pipeThrough(u),o=await new Response(d).arrayBuffer();return await hn(o)}catch(e){console.error("eee",e)}return l}const dn="AAK"+Object.keys({light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex",transparentLight:"mapbox://styles/vsp-tu-berlin/clgxnk7m500dt01p687w8e693",transparentDark:"mapbox://styles/vsp-tu-berlin/clgwrqa0w00av01pg5jox0a35"}).length+"QRQ0EldfvmCW4Cyu";St.insensitive=!0;const si=/.*\.(avro|dbf|gpkg|gz|h5|jpg|jpeg|omx|png|shp|shx|sqlite|zip|zst)$/,ii=["simwrapper",".simwrapper"],xe={};class oi{baseUrl;urlId;slug;needsAuth;fsHandle;store;isGithub;isFlask;type;constructor(i,e){this.urlId=i.slug,this.slug=i.slug,this.needsAuth=!!i.needPassword,this.fsHandle=i.handle||null,this.store=e||null,this.isGithub=!!i.isGithub,this.isFlask=!!i.flask,this.type=0,this.fsHandle&&(this.type=1),this.isGithub&&(this.type=2),this.isFlask&&(this.type=3),this.baseUrl=i.baseURL,i.baseURL.endsWith("/")||(this.baseUrl+="/"),xe[this.urlId]||(xe[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(i){return i&&await i.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(o=>{this.store.commit("setFileHandleForPermissionRequest",{handle:i,resolve:o})}):!0}clearCache(){xe[this.urlId]={}}cleanURL(i){let e=this.baseUrl+i.replace(/^0-9a-zA-Z_\-\/:+/i,"");return e=e.replaceAll("//","/"),e=e.replaceAll("//","/"),e=e.replace("https:/","https://"),e=e.replace("http:/","http://"),e=new URL(e).href,e}async _getFileResponse(i){switch(this.type){case 1:return this._getFileFromChromeFileSystem(i);case 2:return this._getFileFromGitHub(i);case 3:return this._getFileFromAzure(i);case 0:default:return this._getFileFetchResponse(i)}}async _getFileFetchResponse(i,e){const u=this.cleanURL(i),d={};e?.maxBytes&&(d.Range=`bytes=0-${e.maxBytes-1}`);const o=new Request(u,{headers:d});return await fetch(o).then(n=>{if(n.status>=300)throw console.warn("Status:",n.status),n;return n})}async _getDirectoryFromAzure(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e=e.replaceAll("//","/");let u=`${this.baseUrl}list/${this.slug}?prefix=${e}`;const d=new URL(u).href,o={};if(this.needsAuth){let t=localStorage.getItem(`auth-token-${this.slug}`);if(t||(t=prompt("This server requires an access token to continue")),t)localStorage.setItem(`auth-token-${this.slug}`,t),o.AZURETOKEN=t;else return{dirs:[],files:[],handles:{}}}const s=new Request(d,{headers:o}),n=await fetch(s);if(n.status==400){let t=prompt("Authorization failure. This server requires a valid access token to continue");return t?(localStorage.setItem(`auth-token-${this.slug}`,t),o.AZURETOKEN=t,await this._getDirectoryFromAzure(i)):{dirs:[],files:[],handles:{}}}if(n.status!=200)throw console.log("Status:",n.status),n;return await n.json()}getSlug(){return this.slug}async _getFileFromAzure(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e=e.replaceAll("//","/");let u=`${this.baseUrl}file/${this.slug}?prefix=${e}`;const d=new URL(u).href,o={},s=new Request(d,{headers:o}),n=await fetch(s);if(n.status!=200)throw console.log("Status:",n.status),n;return n}async _getFileFromChromeFileSystem(i,e){let u=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");u=u.replaceAll("//","/"),u=new URL(`http://local/${u}`).href,u=u.substring(13);const d=u.lastIndexOf("/"),o=u.substring(0,d),s=decodeURIComponent(u.substring(d+1)),a=(await this.getDirectory(o)).handles[s];if(!a)throw Error(`File ${s} missing`);const t=await a.getFile();return t.json=()=>new Promise(async(r,b)=>{const f=await t.text(),g=JSON.parse(f);r(g)}),t.blob=()=>new Promise(async(r,b)=>{r(t)}),new Promise((r,b)=>{r(t)})}async _getFileFromGitHub(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e.startsWith("/")&&(e=e.slice(1));const u=e.split("/").filter(f=>!!f);if(u.length<2)return new Promise((f,g)=>{f(null)});const d=`${u[0]}/${u[1]}`;let o=`https://api.github.com/repos/${d}/contents/`;u.shift(),u.shift(),o+=u.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${dn}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};let t=await await fetch(o,{headers:a}).then(f=>f.json()),r=t.content;if(r||(o=`https://api.github.com/repos/${d}/git/blobs/${t.sha}`,t=await await fetch(o,{headers:a}).then(f=>f.json()),r=t.content),t.encoding=="base64"){const f=Uint8Array.from(atob(t.content),g=>g.charCodeAt(0));si.test(i.toLocaleLowerCase())?r=f:r=new TextDecoder().decode(f)}else t.encoding=="utf-8"?r=new TextDecoder().decode(t.content):r=t.content;return{text:()=>new Promise((f,g)=>{f(r)}),json:()=>new Promise(async(f,g)=>{const x=JSON.parse(r);f(x)}),blob:()=>new Promise(async(f,g)=>{f(new Blob([r],{type:"application/octet-stream"}))})}}async _getDirectoryFromGitHub(i){let e=i.replace(/^0-9a-zA-Z_\-\/:+/i,"");e=e.replaceAll("//","/"),e.startsWith("/")&&(e=e.slice(1));const u={dirs:[],files:[],handles:{}},d=e.split("/").filter(r=>!!r);if(d.length<2)return u;let o=`https://api.github.com/repos/${d[0]}/${d[1]}/contents/`;d.shift(),d.shift(),o+=d.join("/");const a={Authorization:`Bearer ${["11","pat","github"].reverse().join("_")}${dn}_SyKezxQUoOKXAx3HwTH51I4funGUSFfxdbGG2X4l3WvUHIW62GOOmO0OMWZ`};return(await await fetch(o,{headers:a}).then(r=>r.json())).forEach(r=>{r.type=="file"&&u.files.push(r.name),r.type=="dir"&&u.dirs.push(r.name)}),u}async getFileText(i){return(await this._getFileResponse(i)).text()}async getFileJson(i){const d=await(await(await this._getFileResponse(i)).blob()).arrayBuffer(),o=await hn(d),s=new TextDecoder("utf-8").decode(o);return JSON.parse(s)}async getFileBlob(i){return(await this._getFileResponse(i)).blob()}async probeXmlFileType(i){let e=await this.getFileStream(i,{maxBytes:1024});i.toLocaleLowerCase().endsWith(".gz")&&(e=e.pipeThrough(new DecompressionStream("gzip")));const u=await e.getReader().read(),d=new Uint8Array(u.value),s=new TextDecoder("utf-8").decode(d.slice(0,Math.min(d.length,1024))).match(/<!DOCTYPE\s+(\w+)\s*(?:\[\s*([^\]]*)\s*\])?(?:\s+PUBLIC\s+"([^"]+)"\s+"([^"]+)"|(?:\s+SYSTEM\s+)?"([^"]+)")?/is);return s?s[1]:null}async getFileStream(i,e){let u;switch(this.type){case 1:return u=await this._getFileFromChromeFileSystem(i,e).then(o=>o.blob()).then(o=>o.stream()),u;case 0:return u=await this._getFileFetchResponse(i,e).then(o=>o.body),u;case 3:const d=`/file/${this.slug}?prefix=${i}`;return u=await this._getFileFetchResponse(d,e).then(o=>o.body),u;default:throw Error(`FileSystemType ${this.type} not implemented`)}}async getDirectory(i){let e=i.replaceAll("//","/");e.endsWith("/")||(e+="/");const u=xe[this.urlId][e];if(u)return u;e=e.replaceAll("/./","/");try{let d;switch(this.type){case 1:d=await this._getDirectoryFromHandle(e);break;case 2:d=await this._getDirectoryFromGitHub(e);break;case 3:d=await this._getDirectoryFromAzure(e);break;case 0:default:d=await this._getDirectoryFromURL(e);break}return d.dirs.sort((o,s)=>St(o,s)),d.files.sort((o,s)=>St(o,s)),xe[this.urlId][e]=d,d}catch(d){throw Error(""+d)}}async _getDirectoryFromHandle(i,e){const u={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return u;let o=i.split("/").filter(t=>!!t);function s(t){const r=t.indexOf("..");if(r<=0)return t;const b=t.filter((f,g)=>g!==r-1&&g!==r);return s(b)}const n=s(o);let a=this.fsHandle;if(n.length)for(const t of n){let r=!1;for await(let[b,f]of a)if(b===t){a=f,r=!0;break}if(!r)throw Error(`Could not find folder "${t}"`)}for await(let t of a.values())u.handles&&(u.handles[t.name]=t),t.kind==="file"?u.files.push(t.name):u.dirs.push(t.name);return u}async _getDirectoryFromURL(i){const u=await(await this._getFileResponse(i).then()).text();return this.buildListFromHtml(u)}async findAllYamlConfigs(i){const e={dashboards:{},topsheets:{},vizes:{},configs:{}},u=[];let d="/";const s=(i.startsWith("/")?i:"/"+i).split("/");for(const b of s.slice(0,s.length-1)){d=`${d}${b}/`.replaceAll("//","/");try{const{dirs:f}=await this.getDirectory(d);for(const g of f)ii.includes(g.toLocaleLowerCase())&&u.push(`${d}/${g}`.replaceAll("//","/"))}catch{}}u.push(i);const n="dashboard*.y?(a)ml",a="(topsheet|table)*.y?(a)ml",t="viz*.y?(a)ml",r="simwrapper-config.y?(a)ml";for(const b of u){const{files:f}=await this.getDirectory(b);He.match(f,n).map(g=>e.dashboards[g]=`${b}/${g}`.replaceAll("//","/")),He.match(f,a).map(g=>e.topsheets[g]=`${b}/${g}`.replaceAll("//","/")),He.match(f,t).map(g=>e.vizes[g]=`${b}/${g}`.replaceAll("//","/")),He.match(f,r).map(g=>e.configs[g]=`${b}/${g}`.replaceAll("//","/"))}return e}buildListFromHtml(i){return i.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(i):i.indexOf("<ul>")>-1?this.buildListFromSVN(i):i.indexOf('<ul id="files">')>-1?this.buildListFromNpxServe(i):i.indexOf("<table>")>-1?this.buildListFromApache24(i):i.indexOf(`
<a `)>-1?this.buildListFromNGINX(i):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(i){const e=/">(.*?)<\/a/,u=[],d=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<li><a href="')<0)continue;const a=s.match(e);if(!a)continue;const t=a[1];t.endsWith("/")?u.push(t.substring(0,t.length-1)):d.push(t)}return{dirs:u,files:d,handles:{}}}buildListFromNpxServe(i){const e=/"(.*?)"/;let u=[],d=[];const o=i.split("</li>").map(s=>s.slice(s.lastIndexOf("<li")));for(const s of o){const n=s.indexOf('<li> <a href="');if(n<0||n>512)continue;const a=s.match(e);if(!a)continue;let t=a[1];t=t.replaceAll("&#47;","/"),t!=="/"&&t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):d.push(t))}return u=u.map(s=>s.slice(1+s.lastIndexOf("/"))),d=d.map(s=>s.slice(1+s.lastIndexOf("/"))),{dirs:u,files:d,handles:{}}}buildListFromSVN(i){const e=/"(.*?)"/,u=[],d=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<li><a href="')<0)continue;const a=s.match(e);if(!a)continue;let t=a[1];t!=="../"&&(t.startsWith("./")&&(t=t.substring(2)),t.endsWith("/")?u.push(t.substring(0,t.length-1)):d.push(t))}return{dirs:u,files:d,handles:{}}}buildListFromApache24(i){const e=/"(.*?)"/,u=[],d=[],o=i.split(`
`);for(const s of o){if(s.indexOf('<th "')>-1||s.indexOf("[PARENTDIR]")>-1)continue;const n=s.indexOf('<td><a href="');if(n<0)continue;const a=s.substring(n).match(e);if(!a)continue;const t=a[1];t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):d.push(t))}return{dirs:u,files:d,handles:{}}}buildListFromNGINX(i){const e=/"(.*?)"/,u=[],d=[],o=i.split(`
`);for(const s of o){const n=s.indexOf('<a href="');if(n<0)continue;const a=s.substring(n).match(e);if(!a)continue;const t=a[1];t!=="../"&&(t.endsWith("/")?u.push(t.substring(0,t.length-1)):d.push(t))}return{dirs:u,files:d,handles:{}}}}const pn=self,ai=new CountQueuingStrategy({highWaterMark:1}),gn=1024*1024*8,me=1200127;onmessage=async({data:{filePath:l,fileSystem:i}})=>{await li(l,i)};async function li(l,i){try{console.log(l);const u=await new oi(i).getFileStream(l);if(!u)throw Error("STREAM is null");await u.pipeTo(ci),pn.postMessage({finished:!0})}catch{pn.postMessage({error:"Error loading "+l})}}let Tt=0,ui=0,bn="",fi=new TextDecoder,he=[],fe=new Float32Array(me).fill(NaN),de=[],pe={},An=!1;const Ot=new Ns.Inflate({to:"string",chunkSize:524288}),kt=[];Ot.onData=l=>{kt.push(l)},Ot.onEnd=l=>{console.log("gzipper onEnd",l)};const _n=async l=>{let i=bn+l;const e=i.lastIndexOf(`
`);bn=i.slice(e+1),i=i.slice(0,e);const u=i.split(`
`),d=await di(u);if(hi(d),he.push(...d),he.length>me){const o=he.slice(0,me);fe.set(o.map(s=>s.time)),postMessage({events:o,times:fe,vehicleTrips:de},[fe.buffer]),he=he.slice(me),fe=new Float32Array(me),de=[]}},ci=new WritableStream({write(l){return new Promise(async(i,e)=>{const u=async(o,s)=>{if(Tt==1){const n=new Uint8Array(o.buffer.slice(0,2));n[0]===31&&n[1]===139&&(An=!0)}if(An)for(Ot.push(o);kt.length;){const n=kt.shift();await _n(n)}else{const n=fi.decode(o);_n(n)}};Tt++,ui+=l.length;let d=0;for(console.log("got chunk",Tt);d<l.length;){const o=l.subarray(d,d+gn);o.length&&await u(o),d+=gn}i()})},close(){console.log("STREAM FINISHED! Orphans:",Object.keys(pe).length),console.log("final vehicle trips:",de.length,de[de.length-1]),fe.set(he.map(l=>l.time)),fe=fe.subarray(0,he.length),postMessage({events:he,times:fe,vehicleTrips:de},[fe.buffer])},abort(l){console.log("STREAM error:",l)}},ai);function hi(l){for(const i of l)switch(i.type){case"vehicle enters traffic":case"entered link":pe[i.vehicle]=i.time;break;case"left link":i.vehicle in pe&&(de.push({link:i.link,t0:pe[i.vehicle],t1:i.time}),pe[i.vehicle]=i.time);case"vehicle leaves traffic":i.vehicle in pe&&de.push({link:i.link,t0:pe[i.vehicle],t1:i.time}),delete pe[i.vehicle];break}}async function di(l){const i=[],e=/<event /;for(const u of l)if(e.test(u)){const d=await ni(u,{alwaysArray:[],attributeNamePrefix:""});d.event.time=parseFloat(d.event.time),i.push(d.event)}return i}})();
