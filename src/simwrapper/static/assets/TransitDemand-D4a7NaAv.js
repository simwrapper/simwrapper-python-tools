import{d as Tt,n as Ot,g as ut,m as ta,h as rr,a as sa,C as na}from"./index-CHe7BiNX.js";import{p as or,b as ia,l as ra}from"./turf.es-BzqbG201.js";import{a as oa,D as aa}from"./DashboardDataManager-DadBWrpd.js";import{c as la}from"./index-B9fw0f6a.js";import{d as ca}from"./index-g5R23Vjl.js";import{P as ua}from"./papaparse.min-scs4TfNl.js";import{Y as da}from"./index-DFKcNkqO.js";import{m as fa,n as ar,H as ha}from"./HTTPFileSystem-Cf8G_bcW.js";import{C as pa}from"./CollapsiblePanel-GuobHpcZ.js";import{W as ma}from"./NewXmlFetcher.worker-DSJgeOd2.js";import{D as ga}from"./DrawingTool-CaOc8yNx.js";import{Z as va}from"./ZoomButtons-B7tt6RkT.js";import{L as ya,O as lr}from"./LineOffsetLayer-BLObRkrp.js";import{c as pr}from"./color-CBfzWUsH.js";import{M as _a}from"./mapbox-overlay-BWTNBTi1.js";import{z as cr}from"./layer-GQvgsG1_.js";import{G as ba,S as ka}from"./geojson-layer-ClBV_VpI.js";import{W as Sa}from"./GzipFetcher.worker-om0h2NAp.js";import"./group-hI8ly2Wr.js";import"./index-_doEQLKC.js";import"./fxp-DjoqftHf.js";import"./text-layer-Cpq7KRgR.js";import"./line-layer-BsT1dmhn.js";import"./path-layer-BllYebBs.js";const Ca=Tt({name:"LeftDataPanel",props:{title:String},data:()=>({isHidden:!1,isLeaving:!1}),methods:{toggleHidePanel(){this.isHidden?this.isHidden=!this.isHidden:(this.isLeaving=!0,setTimeout(()=>{this.isHidden=!0,this.isLeaving=!1},300))}}});var xa=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{attrs:{id:"datapanel"}},[u("div",{staticClass:"content-area",class:{"is-hidden":o.isHidden,bye:o.isLeaving}},[o.title?u("div",{staticClass:"info-header"},[u("h3",{staticStyle:{padding:"0.5rem 3rem","font-size":"1rem","font-weight":"normal",color:"white"}},[o._v(o._s(o.title))])]):o._e(),u("div",{staticClass:"top-area"},[o._t("default")],2)]),u("div",{staticClass:"restore-button",class:{"add-margin":!o.isHidden}},[u("button",{staticClass:"button is-small hide-button",on:{click:o.toggleHidePanel}},[o.isHidden?o._e():u("i",{staticClass:"fa fa-arrow-left"}),o.isHidden?u("i",{staticClass:"fa fa-arrow-right"}):o._e()])])])},wa=[],Ta=Ot(Ca,xa,wa,!1,null,"51117d95");const Oa=Ta.exports;function La(l){return new Worker("/assets/TransitSupplyHelper.worker-D8crPrmD.js",{name:l?.name})}const $a=Tt({name:"TransitDeckComponent",props:{handleClickEvent:{type:Function,required:!0},isAtlantis:{type:Boolean,required:!0},links:{type:Object,required:!0},pieSlider:{type:Number,required:!0},selectedFeatures:{type:Array,required:!0},stopMarkers:{type:Array,required:!0},transitLines:{type:Object,required:!0},viewId:{type:Number,required:!0},vizDetails:{type:Object,required:!0},widthSlider:{type:Number,required:!0}},data(){return{mymap:null,deckOverlay:null,globalState:ut.state,tooltipHTML:"",tooltipStyle:{position:"absolute",padding:"4px 8px",display:"block",top:0,left:0,color:ut.state.isDarkMode?"#ccc":"#223",backgroundColor:ut.state.isDarkMode?"#2a3c4f":"white",zIndex:2e4}}},watch:{layers(){this.deckOverlay.setProps({layers:this.layers})},"globalState.isDarkMode"(){let l;this.isAtlantis?l={version:8,sources:{},layers:[]}:l=`/map-styles/${this.globalState.isDarkMode?"dark":"positron"}.json`,this.mymap?.setStyle(l)},"globalState.viewState"(){const l=this.globalState.viewState,o=this.mymap?.getCenter();(l.longitude!==o.lng||l.latitude!==o.lat||l.zoom!==this.mymap?.getZoom()||l.pitch!==this.mymap?.getPitch()||l.bearing!==this.mymap?.getBearing())&&(console.log(l.zoom,l.longitude,l.latitude,l.center),this.mymap?.jumpTo(Object.assign({center:{lng:l.longitude,lat:l.latitude}},l)))}},computed:{dark(){return this.globalState.isDarkMode},locale(){return this.globalState.locale},hasBackgroundMap(){return!this.isAtlantis},power(){return 1-(100-this.widthSlider)/100},scale(){return 1},data(){return this.links.features.map(o=>({source:[...o.geometry.coordinates[0],o.properties.sort],target:[...o.geometry.coordinates[1],o.properties.sort],color:o.properties.currentColor,width:Math.pow(o.properties.width,this.power)}))},slices(){if(!this.vizDetails?.demand)return[];if(!this.stopMarkers.length||this.stopMarkers[0].boardings==null)return[];if(this.stopMarkers.length>1e4)return[];const l=this.stopMarkers.map(u=>{let h=0,c=0;const T=u.ptLines;return T&&Object.values(T).forEach(x=>{this.transitLines[x.name]&&(h+=x.b,c+=x.a)}),{center:u.xy,radius:2e-5*this.pieSlider*Math.sqrt(h+c),slices:[{label:"boardings",color:"gold",value:h},{label:"alightings",color:"darkmagenta",value:c}]}});return this.calculatePieSlicePaths(l)},layers(){const l=[];return l.push(new ya({id:"linkLayer",data:this.data,getSourcePosition:o=>o.source,getTargetPosition:o=>o.target,getColor:o=>o.color,getWidth:o=>o.width,widthUnits:"pixels",widthScale:this.scale,widthMinPixels:1,coordinateSystem:cr.DEFAULT,widthMaxPixels:100,pickable:!0,opacity:1,antialiasing:!0,autoHighlight:!1,offsetDirection:lr.RIGHT,parameters:{depthTest:!0},transitions:{getColor:200,getWidth:200}})),this.selectedFeatures.length&&l.push(new ba({id:"selected-links",data:this.selectedFeatures,getLineColor:this.colorToRGB(this.dark?"#fbff66":"#ccff66"),getLineWidth:1,lineWidthUnits:"pixels",stroked:!0,filled:!1,pickable:!1,opacity:1,coordinateSystem:cr.DEFAULT,autoHighlight:!1,offsetDirection:lr.RIGHT,parameters:{depthTest:!0}})),l.push(new ka({id:`stop-pie-charts-layer-${this.pieSlider}-${this.stopMarkers.length}`,data:this.slices,getPolygon:o=>o.polygon,getFillColor:o=>o.color,stroked:!1,filled:!0,pickable:!0,extruded:!1,opacity:1,sizeScale:1,autoHighlight:!1,parameters:{depthTest:!0}})),l}},mounted(){let l;this.isAtlantis?l={version:8,sources:{},layers:[]}:l=`/map-styles/${this.globalState.isDarkMode?"dark":"positron"}.json`;const o=`map-${this.viewId}`,u=this.globalState.viewState.center,h=this.globalState.viewState.zoom||8;this.mymap=new ta.Map({container:o,style:l,center:u,zoom:h}),this.mymap.on("move",this.handleMove),this.mymap.on("style.load",()=>{this.deckOverlay=new _a({interleaved:!1,useDevicePixels:!0,layers:this.layers,pickingRadius:2,onClick:this.handleClick,onHover:this.getTooltip,getCursor:c=>c.isHovering?"pointer":"grab"}),this.mymap?.addControl(this.deckOverlay)})},beforeDestroy(){this.deckOverlay&&this.mymap?.removeControl(this.deckOverlay),this.mymap?.remove()},methods:{calculatePieSlicePaths(l,o){const u=[],h=o||.05;for(const T of l){const{center:x,radius:C,slices:O}=T,j=C*h;let P=Math.PI/2,A=P;const te=48,oe=Math.cos(x[1]*Math.PI/180),Me=O.reduce((F,ce)=>F+ce.value,0);O.forEach(F=>{F.percent=F.value/Me});const fe=O.reduce((F,ce)=>(F[ce.label]=ce.value,F),{}),se=[],et=j*1.02;for(let F=0;F<=te*2;F++)A=P+F/(te*2)*Math.PI*2,se.push([x[0]+et*Math.cos(A)/oe,x[1]+et*Math.sin(A)]);const Ce=ut.state.isDarkMode;u.push([{polygon:se,color:this.colorToRGB(Ce?"black":"white"),width:j+1e-5,values:fe}]);const Lt=O.map(F=>{const ce=[x];for(let ye=0;ye<=te;ye++){const ft=F.percent||0;A=P+ye/te*ft*Math.PI*2,ce.push([x[0]+j*Math.cos(A)/oe,x[1]+j*Math.sin(A)])}ce.push(x),P=A;const dt=Array.isArray(F.color)?F.color:this.colorToRGB(F.color);return{polygon:ce,color:dt,width:j,values:fe}});u.push(Lt)}const c=u.flat();return c.sort((T,x)=>T.width<=x.width?1:-1),c},colorToRGB(l){try{const o=pr(l);return o?[o.r,o.g,o.b]:[0,0,0]}catch{return[0,0,0]}},handleMove(){const l=this.mymap?.getCenter(),o={latitude:l.lat,longitude:l.lng,zoom:this.mymap?.getZoom(),bearing:this.mymap?.getBearing(),pitch:this.mymap?.getPitch(),jump:!0};ut.commit("setMapCamera",o)},getTooltip(l){if(l.index==-1){this.tooltipHTML="";return}const{x:o,y:u,index:h,object:c,layer:T}=l;if(h==-1||!c)return;if(T.id.startsWith("stop-pie-charts-layer")){let C='<div class="map-popup">';const{boardings:O,alightings:j}=c.values;c.values.total=O+j;for(const[P,A]of Object.entries(c.values))C+=`
        <div style="display: flex">
          <div>${P}:&nbsp;&nbsp;</div>
          <b style="margin-left: auto; text-align: right">${A}</b>
        </div>`;C+="</div>",this.tooltipHTML=C,this.tooltipStyle={top:u+"px",left:o+"px"}}const x=[{field:"pax",name_en:"Passengers",name_de:"Passagiere"},{field:"departures",name_en:"Departures",name_de:"Abfahrten"},{field:"cap",name_en:"Capacity",name_de:"Kapazität"},{field:"loadfac",name_en:"Load factor",name_de:"Load factor"}];try{let C='<div class="map-popup">';const O=this.links.features[h].properties;if(O.sort==0)return null;for(const j of x){let P=this.locale=="de"?j.name_de:j.name_en;P=P.replaceAll(" ","&nbsp;"),Number.isFinite(O[j.field])&&(C+=`
            <div style="display: flex">
              <div>${P}:&nbsp;&nbsp;</div>
              <b style="margin-left: auto; text-align: right">${O[j.field]}</b>
            </div>`)}C+="</div>",this.tooltipHTML=C,this.tooltipStyle={top:u+"px",left:o+"px"}}catch{return this.tooltipHTML="",null}},handleClick(l){console.log("click!"),this.handleClickEvent&&this.handleClickEvent(l)}}});var Da=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"deck-map flex-col"},[u("div",{staticClass:"map-container",attrs:{id:`map-${o.viewId}`}}),o.tooltipHTML?u("div",{staticClass:"deck-tooltip",style:o.tooltipStyle,domProps:{innerHTML:o._s(o.tooltipHTML)}}):o._e()])},Pa=[],Ia=Ot($a,Da,Pa,!1,null,null);const Ra=Ia.exports,Ea=Tt({name:"LegendBox",props:{rows:{type:Array,required:!0}},methods:{handleClick(l){this.$emit("item-clicked",l)}}});var Ma=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"legend-container"},[u("p",{staticClass:"control-label"},[o._v("Legend")]),o._l(o.rows,function(h){return u("div",{key:h[0],staticClass:"legend-item",on:{click:function(c){return o.handleClick(h)}}},[u("div",{staticClass:"legend-col-1",style:{"background-color":h[0]}}),u("span",{staticClass:"legend-col-2"},[o._v(o._s(h[1]))])])})],2)},Aa=[],za=Ot(Ea,Ma,Aa,!1,null,"fbd46ee2");const ja=za.exports,Fa=Tt({name:"RouteDropdown",components:{},props:{source:{type:Object,required:!0},index:{type:Number,required:!0},selectedRoutes:{type:Array,required:!0},searchTerm:{type:String,required:!0},activeTransitLines:{type:Object,required:!0},color:String,cbToggleLineOpen:{type:Function,required:!0},cbToggleLineChecked:{type:Function,required:!0},cbToggleRouteChecked:{type:Function,required:!0}},data(){return{lineCheck:0,isChecked:!1,isOpen:!1,isPartial:!1,checkStates:{},stats:{departures:0,pax:0,loadfac:0}}},mounted(){this.isPartial=!1,this.isChecked=this.line.checked,this.isOpen=this.line.isOpen,this.selectedRoutes.forEach(l=>this.checkStates[l]=!0);for(const l of this.line.transitRoutes)l.departures&&(this.stats.departures+=l.departures),l.pax&&(this.stats.pax+=l.pax),l.loadfac&&(this.stats.loadfac+=l.loadfac);this.stats.loadfac=.001*Math.round(1e3*this.stats.loadfac),this.setRouteCheckmarks()},computed:{lineCheckActive(){return this.lineCheck!==0},line(){return this.source}},watch:{activeTransitLines(){this.line.id in this.activeTransitLines&&(this.stats=this.activeTransitLines[this.line.id].stats)},selectedRoutes(){this.setRouteCheckmarks(),this.selectedRoutes.length||(this.isChecked=!1)}},methods:{setRouteCheckmarks(){let l=0;this.isPartial=!1,this.checkStates={},this.line.transitRoutes.forEach(o=>{this.selectedRoutes.indexOf(o.id)>-1&&(this.checkStates[o.id]=!0,l++)}),this.lineCheck=0,l&&l==this.line.transitRoutes.length&&(this.isChecked=!0,this.lineCheck=2),l&&l<this.line.transitRoutes.length&&(this.lineCheck=1,this.isPartial=!0)},toggleCheck(){this.isChecked=!this.isChecked,this.cbToggleLineChecked({offset:this.line.offset,isChecked:this.isChecked})},toggleOpen(){this.isOpen=!this.isOpen,this.setRouteCheckmarks(),this.cbToggleLineOpen({offset:this.line.offset,isOpen:this.isOpen})},toggleRoute(l){this.cbToggleRouteChecked({route:l,offset:this.line.offset,isChecked:this.checkStates[l]})}}});var Na=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"route-dropdown flex-col",class:{"is-open":o.isOpen}},[u("div",{staticClass:"title-panel flex-row"},[u("div",{staticClass:"leftside flex-row flex1",on:{click:function(h){return h.preventDefault(),o.toggleCheck.apply(null,arguments)}}},[u("div",{staticClass:"mode-color-strip"}),u("b-checkbox",{staticClass:"fade",class:{faded:o.isPartial},attrs:{size:"is-small"},model:{value:o.lineCheckActive,callback:function(h){o.lineCheckActive=h},expression:"lineCheckActive"}}),u("div",{staticClass:"text-area flex-col"},[o.line.name?u("div",{staticClass:"line-title flex-row"},[o._v(o._s(o.line.name)),u("div",{staticClass:"span",staticStyle:{"font-weight":"normal"}},[o._v("  /  "+o._s(o.line.id))])]):u("div",{staticClass:"line-title"},[o._v(o._s(o.line.id))]),u("div",{staticClass:"metrics flex-row"},[u("div",{staticClass:"stat"},[o._v(o._s(o.stats.departures)+" deps")]),o.stats.pax?u("div",{staticClass:"stat"},[o._v(o._s(o.stats.pax)+" pax")]):o._e(),o.stats.loadfac?u("div",{staticClass:"stat"},[o._v(o._s(o.stats.loadfac.toFixed(3))+" Lfac")]):o._e()])])],1),u("div",{staticClass:"rightside flex-row"},[u("a",{staticClass:"card-header-icon",on:{click:o.toggleOpen}},[u("b-icon",{staticClass:"icon-reveal",attrs:{size:"is-small",icon:o.isOpen?"menu-down":"menu-up"}})],1)])]),o.isOpen?u("div",{staticClass:"card-details flex-col"},o._l(this.line.transitRoutes,function(h){return u("div",{key:h.id,staticClass:"route flex-row"},[u("div",{staticClass:"stuff flex-col"},[u("b-checkbox",{staticClass:"route-checkbox",attrs:{size:"is-small"},on:{input:function(c){return o.toggleRoute(h.id)}},model:{value:o.checkStates[h.id],callback:function(c){o.$set(o.checkStates,h.id,c)},expression:"checkStates[route.id]"}},[u("div",{staticClass:"route-title"},[o._v(o._s(h.id))])]),u("div",{staticClass:"service-period"},[o._v(o._s(h.firstDeparture)+" — "+o._s(h.lastDeparture))]),u("div",{staticClass:"detail flex-row"},[u("div",{staticClass:"deps"},[o._v("Deps: "+o._s(h.departures))]),h.pax?u("div",{staticClass:"deps clink"},[o._v("Pax: "+o._s(h.pax))]):o._e(),h.pax?u("div",{staticClass:"deps clink"},[o._v("Lfac: "+o._s(h.loadfac.toFixed(3)))]):o._e(),h.cap?u("div",{staticClass:"deps clink"},[o._v("Cap: "+o._s(h.cap))]):o._e()])],1)])}),0):o._e()])},Ha=[],Ba=Ot(Fa,Na,Ha,!1,null,"dea5530d");const gs=Ba.exports;var ms={exports:{}},hn={exports:{}},pn={exports:{}},ur;function qa(){if(ur)return pn.exports;ur=1;var l={};/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 *//*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */const o=Object.freeze({}),u=Array.isArray;function h(e){return e==null}function c(e){return e!=null}function T(e){return e===!0}function x(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function C(e){return typeof e=="function"}function O(e){return e!==null&&typeof e=="object"}const j=Object.prototype.toString;function P(e){return j.call(e)==="[object Object]"}function A(e){const t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function te(e){return c(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function oe(e){return e==null?"":Array.isArray(e)||P(e)&&e.toString===j?JSON.stringify(e,Me,2):String(e)}function Me(e,t){return t&&t.__v_isRef?t.value:t}function fe(e){const t=parseFloat(e);return isNaN(t)?e:t}function se(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>s[i.toLowerCase()]:i=>s[i]}const et=se("key,ref,slot,slot-scope,is");function Ce(e,t){const s=e.length;if(s){if(t===e[s-1])return void(e.length=s-1);const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}const Lt=Object.prototype.hasOwnProperty;function F(e,t){return Lt.call(e,t)}function ce(e){const t=Object.create(null);return function(s){return t[s]||(t[s]=e(s))}}const dt=/-(\w)/g,ye=ce((e=>e.replace(dt,((t,s)=>s?s.toUpperCase():"")))),ft=ce((e=>e.charAt(0).toUpperCase()+e.slice(1))),tt=/\B([A-Z])/g,De=ce((e=>e.replace(tt,"-$1").toLowerCase())),Ht=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function s(n){const i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return s._length=e.length,s};function w(e,t){t=t||0;let s=e.length-t;const n=new Array(s);for(;s--;)n[s]=e[s+t];return n}function p(e,t){for(const s in t)e[s]=t[s];return e}function y(e){const t={};for(let s=0;s<e.length;s++)e[s]&&p(t,e[s]);return t}function k(e,t,s){}const M=(e,t,s)=>!1,J=e=>e;function Q(e,t){if(e===t)return!0;const s=O(e),n=O(t);if(!s||!n)return!s&&!n&&String(e)===String(t);try{const i=Array.isArray(e),r=Array.isArray(t);if(i&&r)return e.length===t.length&&e.every(((a,d)=>Q(a,t[d])));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||r)return!1;{const a=Object.keys(e),d=Object.keys(t);return a.length===d.length&&a.every((f=>Q(e[f],t[f])))}}catch{return!1}}function _e(e,t){for(let s=0;s<e.length;s++)if(Q(e[s],t))return s;return-1}function be(e){let t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function Ae(e,t){return e===t?e===0&&1/e!=1/t:e==e||t==t}const Ue="data-server-rendered",Oe=["component","directive","filter"],ze=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"];var Le={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:k,parsePlatformTagName:J,mustUseProp:M,async:!0,_lifecycleHooks:ze};function ht(e){const t=(e+"").charCodeAt(0);return t===36||t===95}function Z(e,t,s,n){Object.defineProperty(e,t,{value:s,enumerable:!1,writable:!0,configurable:!0})}const Pe=new RegExp(`[^${/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source}.$_\\d]`),We="__proto__"in{},ae=typeof window<"u",ge=ae&&window.navigator.userAgent.toLowerCase(),je=ge&&/msie|trident/.test(ge),Ve=ge&&ge.indexOf("msie 9.0")>0,mn=ge&&ge.indexOf("edge/")>0;ge&&ge.indexOf("android");const mr=ge&&/iphone|ipad|ipod|ios/.test(ge),gn=ge&&ge.match(/firefox\/(\d+)/),vs={}.watch;let ys,vn=!1;if(ae)try{const e={};Object.defineProperty(e,"passive",{get(){vn=!0}}),window.addEventListener("test-passive",null,e)}catch{}const Xe=()=>(ys===void 0&&(ys=!ae&&typeof rr<"u"&&rr.process&&l.VUE_ENV==="server"),ys);function pt(e){return typeof e=="function"&&/native code/.test(e.toString())}const $t=typeof Symbol<"u"&&pt(Symbol)&&typeof Reflect<"u"&&pt(Reflect.ownKeys);let Bt;Bt=typeof Set<"u"&&pt(Set)?Set:class{constructor(){this.set=Object.create(null)}has(e){return this.set[e]===!0}add(e){this.set[e]=!0}clear(){this.set=Object.create(null)}};let ee=null;function Ke(e=null){e||ee&&ee._scope.off(),ee=e,e&&e._scope.on()}class xe{constructor(t,s,n,i,r,a,d,f){this.tag=t,this.data=s,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=s&&s.key,this.componentOptions=d,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=f,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}get child(){return this.componentInstance}}const st=(e="")=>{const t=new xe;return t.text=e,t.isComment=!0,t};function mt(e){return new xe(void 0,void 0,void 0,String(e))}function _s(e){const t=new xe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}let gr=0;const qt=[],vr=()=>{for(let e=0;e<qt.length;e++){const t=qt[e];t.subs=t.subs.filter((s=>s)),t._pending=!1}qt.length=0};class ke{constructor(){this._pending=!1,this.id=gr++,this.subs=[]}addSub(t){this.subs.push(t)}removeSub(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,qt.push(this))}depend(t){ke.target&&ke.target.addDep(this)}notify(t){const s=this.subs.filter((n=>n));for(let n=0,i=s.length;n<i;n++)s[n].update()}}ke.target=null;const Ut=[];function gt(e){Ut.push(e),ke.target=e}function vt(){Ut.pop(),ke.target=Ut[Ut.length-1]}const yn=Array.prototype,Wt=Object.create(yn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){const t=yn[e];Z(Wt,e,(function(...s){const n=t.apply(this,s),i=this.__ob__;let r;switch(e){case"push":case"unshift":r=s;break;case"splice":r=s.slice(2)}return r&&i.observeArray(r),i.dep.notify(),n}))}));const _n=Object.getOwnPropertyNames(Wt),bn={};let bs=!0;function Ye(e){bs=e}const yr={notify:k,depend:k,addSub:k,removeSub:k};class kn{constructor(t,s=!1,n=!1){if(this.value=t,this.shallow=s,this.mock=n,this.dep=n?yr:new ke,this.vmCount=0,Z(t,"__ob__",this),u(t)){if(!n)if(We)t.__proto__=Wt;else for(let i=0,r=_n.length;i<r;i++){const a=_n[i];Z(t,a,Wt[a])}s||this.observeArray(t)}else{const i=Object.keys(t);for(let r=0;r<i.length;r++)Ge(t,i[r],bn,void 0,s,n)}}observeArray(t){for(let s=0,n=t.length;s<n;s++)Fe(t[s],!1,this.mock)}}function Fe(e,t,s){return e&&F(e,"__ob__")&&e.__ob__ instanceof kn?e.__ob__:!bs||!s&&Xe()||!u(e)&&!P(e)||!Object.isExtensible(e)||e.__v_skip||he(e)||e instanceof xe?void 0:new kn(e,t,s)}function Ge(e,t,s,n,i,r,a=!1){const d=new ke,f=Object.getOwnPropertyDescriptor(e,t);if(f&&f.configurable===!1)return;const m=f&&f.get,g=f&&f.set;m&&!g||s!==bn&&arguments.length!==2||(s=e[t]);let S=i?s&&s.__ob__:Fe(s,!1,r);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){const b=m?m.call(e):s;return ke.target&&(d.depend(),S&&(S.dep.depend(),u(b)&&Sn(b))),he(b)&&!i?b.value:b},set:function(b){const L=m?m.call(e):s;if(Ae(L,b)){if(g)g.call(e,b);else{if(m)return;if(!i&&he(L)&&!he(b))return void(L.value=b);s=b}S=i?b&&b.__ob__:Fe(b,!1,r),d.notify()}}}),d}function Vt(e,t,s){if(it(e))return;const n=e.__ob__;return u(e)&&A(t)?(e.length=Math.max(e.length,t),e.splice(t,1,s),n&&!n.shallow&&n.mock&&Fe(s,!1,!0),s):t in e&&!(t in Object.prototype)?(e[t]=s,s):e._isVue||n&&n.vmCount?s:n?(Ge(n.value,t,s,void 0,n.shallow,n.mock),n.dep.notify(),s):(e[t]=s,s)}function ks(e,t){if(u(e)&&A(t))return void e.splice(t,1);const s=e.__ob__;e._isVue||s&&s.vmCount||it(e)||F(e,t)&&(delete e[t],s&&s.dep.notify())}function Sn(e){for(let t,s=0,n=e.length;s<n;s++)t=e[s],t&&t.__ob__&&t.__ob__.dep.depend(),u(t)&&Sn(t)}function Ss(e){return Cn(e,!0),Z(e,"__v_isShallow",!0),e}function Cn(e,t){it(e)||Fe(e,t,Xe())}function nt(e){return it(e)?nt(e.__v_raw):!(!e||!e.__ob__)}function Xt(e){return!(!e||!e.__v_isShallow)}function it(e){return!(!e||!e.__v_isReadonly)}const Dt="__v_isRef";function he(e){return!(!e||e.__v_isRef!==!0)}function xn(e,t){if(he(e))return e;const s={};return Z(s,Dt,!0),Z(s,"__v_isShallow",t),Z(s,"dep",Ge(s,"value",e,null,t,Xe())),s}function Kt(e,t,s){Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>{const n=t[s];if(he(n))return n.value;{const i=n&&n.__ob__;return i&&i.dep.depend(),n}},set:n=>{const i=t[s];he(i)&&!he(n)?i.value=n:t[s]=n}})}function wn(e,t,s){const n=e[t];if(he(n))return n;const i={get value(){const r=e[t];return r===void 0?s:r},set value(r){e[t]=r}};return Z(i,Dt,!0),i}const _r="__v_rawToReadonly",br="__v_rawToShallowReadonly";function Tn(e){return On(e,!1)}function On(e,t){if(!P(e)||it(e))return e;const s=t?br:_r,n=e[s];if(n)return n;const i=Object.create(Object.getPrototypeOf(e));Z(e,s,i),Z(i,"__v_isReadonly",!0),Z(i,"__v_raw",e),he(e)&&Z(i,Dt,!0),(t||Xt(e))&&Z(i,"__v_isShallow",!0);const r=Object.keys(e);for(let a=0;a<r.length;a++)kr(i,e,r[a],t);return i}function kr(e,t,s,n){Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get(){const i=t[s];return n||!P(i)?i:Tn(i)},set(){}})}const Yt="watcher",Ln=`${Yt} callback`,$n=`${Yt} getter`,Sr=`${Yt} cleanup`;function Dn(e,t){return Gt(e,null,{flush:"post"})}const Pn={};function Gt(e,t,{immediate:s,deep:n,flush:i="pre",onTrack:r,onTrigger:a}=o){const d=ee,f=(I,z,H=null)=>{const W=Ne(I,null,H,d,z);return n&&W&&W.__ob__&&W.__ob__.dep.depend(),W};let m,g,S=!1,b=!1;if(he(e)?(m=()=>e.value,S=Xt(e)):nt(e)?(m=()=>(e.__ob__.dep.depend(),e),n=!0):u(e)?(b=!0,S=e.some((I=>nt(I)||Xt(I))),m=()=>e.map((I=>he(I)?I.value:nt(I)?(I.__ob__.dep.depend(),yt(I)):C(I)?f(I,$n):void 0))):m=C(e)?t?()=>f(e,$n):()=>{if(!d||!d._isDestroyed)return g&&g(),f(e,Yt,[L])}:k,t&&n){const I=m;m=()=>yt(I())}let L=I=>{g=$.onStop=()=>{f(I,Sr)}};if(Xe())return L=k,t?s&&f(t,Ln,[m(),b?[]:void 0,L]):m(),k;const $=new At(ee,m,k,{lazy:!0});$.noRecurse=!t;let R=b?[]:Pn;return $.run=()=>{if($.active)if(t){const I=$.get();(n||S||(b?I.some(((z,H)=>Ae(z,R[H]))):Ae(I,R)))&&(g&&g(),f(t,Ln,[I,R===Pn?void 0:R,L]),R=I)}else $.get()},i==="sync"?$.update=$.run:i==="post"?($.post=!0,$.update=()=>zs($)):$.update=()=>{if(d&&d===ee&&!d._isMounted){const I=d._preWatchers||(d._preWatchers=[]);I.indexOf($)<0&&I.push($)}else zs($)},t?s?$.run():R=$.get():i==="post"&&d?d.$once("hook:mounted",(()=>$.get())):$.get(),()=>{$.teardown()}}let pe;class Cs{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=pe,!t&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}run(t){if(this.active){const s=pe;try{return pe=this,t()}finally{pe=s}}}on(){pe=this}off(){pe=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].teardown();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function In(){return pe}function Rn(e){const t=e._provided,s=e.$parent&&e.$parent._provided;return s===t?e._provided=Object.create(s):t}const En=ce((e=>{const t=e.charAt(0)==="&",s=(e=t?e.slice(1):e).charAt(0)==="~",n=(e=s?e.slice(1):e).charAt(0)==="!";return{name:e=n?e.slice(1):e,once:s,capture:n,passive:t}}));function xs(e,t){function s(){const n=s.fns;if(!u(n))return Ne(n,null,arguments,t,"v-on handler");{const i=n.slice();for(let r=0;r<i.length;r++)Ne(i[r],null,arguments,t,"v-on handler")}}return s.fns=e,s}function Mn(e,t,s,n,i,r){let a,d,f,m;for(a in e)d=e[a],f=t[a],m=En(a),h(d)||(h(f)?(h(d.fns)&&(d=e[a]=xs(d,r)),T(m.once)&&(d=e[a]=i(m.name,d,m.capture)),s(m.name,d,m.capture,m.passive,m.params)):d!==f&&(f.fns=d,e[a]=f));for(a in t)h(e[a])&&(m=En(a),n(m.name,t[a],m.capture))}function Ze(e,t,s){let n;e instanceof xe&&(e=e.data.hook||(e.data.hook={}));const i=e[t];function r(){s.apply(this,arguments),Ce(n.fns,r)}h(i)?n=xs([r]):c(i.fns)&&T(i.merged)?(n=i,n.fns.push(r)):n=xs([i,r]),n.merged=!0,e[t]=n}function An(e,t,s,n,i){if(c(t)){if(F(t,s))return e[s]=t[s],i||delete t[s],!0;if(F(t,n))return e[s]=t[n],i||delete t[n],!0}return!1}function ws(e){return x(e)?[mt(e)]:u(e)?zn(e):void 0}function Pt(e){return c(e)&&c(e.text)&&e.isComment===!1}function zn(e,t){const s=[];let n,i,r,a;for(n=0;n<e.length;n++)i=e[n],h(i)||typeof i=="boolean"||(r=s.length-1,a=s[r],u(i)?i.length>0&&(i=zn(i,`${t||""}_${n}`),Pt(i[0])&&Pt(a)&&(s[r]=mt(a.text+i[0].text),i.shift()),s.push.apply(s,i)):x(i)?Pt(a)?s[r]=mt(a.text+i):i!==""&&s.push(mt(i)):Pt(i)&&Pt(a)?s[r]=mt(a.text+i.text):(T(e._isVList)&&c(i.tag)&&h(i.key)&&c(t)&&(i.key=`__vlist${t}_${n}__`),s.push(i)));return s}function Cr(e,t){let s,n,i,r,a=null;if(u(e)||typeof e=="string")for(a=new Array(e.length),s=0,n=e.length;s<n;s++)a[s]=t(e[s],s);else if(typeof e=="number")for(a=new Array(e),s=0;s<e;s++)a[s]=t(s+1,s);else if(O(e))if($t&&e[Symbol.iterator]){a=[];const d=e[Symbol.iterator]();let f=d.next();for(;!f.done;)a.push(t(f.value,a.length)),f=d.next()}else for(i=Object.keys(e),a=new Array(i.length),s=0,n=i.length;s<n;s++)r=i[s],a[s]=t(e[r],r,s);return c(a)||(a=[]),a._isVList=!0,a}function xr(e,t,s,n){const i=this.$scopedSlots[e];let r;i?(s=s||{},n&&(s=p(p({},n),s)),r=i(s)||(C(t)?t():t)):r=this.$slots[e]||(C(t)?t():t);const a=s&&s.slot;return a?this.$createElement("template",{slot:a},r):r}function wr(e){return rs(this.$options,"filters",e)||J}function jn(e,t){return u(e)?e.indexOf(t)===-1:e!==t}function Tr(e,t,s,n,i){const r=Le.keyCodes[t]||s;return i&&n&&!Le.keyCodes[t]?jn(i,n):r?jn(r,e):n?De(n)!==t:e===void 0}function Or(e,t,s,n,i){if(s&&O(s)){let r;u(s)&&(s=y(s));for(const a in s){if(a==="class"||a==="style"||et(a))r=e;else{const m=e.attrs&&e.attrs.type;r=n||Le.mustUseProp(t,m,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}const d=ye(a),f=De(a);!(d in r)&&!(f in r)&&(r[a]=s[a],i)&&((e.on||(e.on={}))[`update:${a}`]=function(m){s[a]=m})}}return e}function Lr(e,t){const s=this._staticTrees||(this._staticTrees=[]);let n=s[e];return n&&!t||(n=s[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),Fn(n,`__static__${e}`,!1)),n}function $r(e,t,s){return Fn(e,`__once__${t}${s?`_${s}`:""}`,!0),e}function Fn(e,t,s){if(u(e))for(let n=0;n<e.length;n++)e[n]&&typeof e[n]!="string"&&Nn(e[n],`${t}_${n}`,s);else Nn(e,t,s)}function Nn(e,t,s){e.isStatic=!0,e.key=t,e.isOnce=s}function Dr(e,t){if(t&&P(t)){const s=e.on=e.on?p({},e.on):{};for(const n in t){const i=s[n],r=t[n];s[n]=i?[].concat(i,r):r}}return e}function Hn(e,t,s,n){t=t||{$stable:!s};for(let i=0;i<e.length;i++){const r=e[i];u(r)?Hn(r,t,s):r&&(r.proxy&&(r.fn.proxy=!0),t[r.key]=r.fn)}return n&&(t.$key=n),t}function Pr(e,t){for(let s=0;s<t.length;s+=2){const n=t[s];typeof n=="string"&&n&&(e[t[s]]=t[s+1])}return e}function Ir(e,t){return typeof e=="string"?t+e:e}function Bn(e){e._o=$r,e._n=fe,e._s=oe,e._l=Cr,e._t=xr,e._q=Q,e._i=_e,e._m=Lr,e._f=wr,e._k=Tr,e._b=Or,e._v=mt,e._e=st,e._u=Hn,e._g=Dr,e._d=Pr,e._p=Ir}function Ts(e,t){if(!e||!e.length)return{};const s={};for(let n=0,i=e.length;n<i;n++){const r=e[n],a=r.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,r.context!==t&&r.fnContext!==t||!a||a.slot==null)(s.default||(s.default=[])).push(r);else{const d=a.slot,f=s[d]||(s[d]=[]);r.tag==="template"?f.push.apply(f,r.children||[]):f.push(r)}}for(const n in s)s[n].every(Rr)&&delete s[n];return s}function Rr(e){return e.isComment&&!e.asyncFactory||e.text===" "}function It(e){return e.isComment&&e.asyncFactory}function Rt(e,t,s,n){let i;const r=Object.keys(s).length>0,a=t?!!t.$stable:!r,d=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==o&&d===n.$key&&!r&&!n.$hasNormal)return n;i={};for(const f in t)t[f]&&f[0]!=="$"&&(i[f]=Er(e,s,f,t[f]))}else i={};for(const f in s)f in i||(i[f]=Mr(s,f));return t&&Object.isExtensible(t)&&(t._normalized=i),Z(i,"$stable",a),Z(i,"$key",d),Z(i,"$hasNormal",r),i}function Er(e,t,s,n){const i=function(){const r=ee;Ke(e);let a=arguments.length?n.apply(null,arguments):n({});a=a&&typeof a=="object"&&!u(a)?[a]:ws(a);const d=a&&a[0];return Ke(r),a&&(!d||a.length===1&&d.isComment&&!It(d))?void 0:a};return n.proxy&&Object.defineProperty(t,s,{get:i,enumerable:!0,configurable:!0}),i}function Mr(e,t){return()=>e[t]}function qn(e){return{get attrs(){if(!e._attrsProxy){const t=e._attrsProxy={};Z(t,"_v_attr_proxy",!0),Zt(t,e.$attrs,o,e,"$attrs")}return e._attrsProxy},get listeners(){return e._listenersProxy||Zt(e._listenersProxy={},e.$listeners,o,e,"$listeners"),e._listenersProxy},get slots(){return(function(t){return t._slotsProxy||Un(t._slotsProxy={},t.$scopedSlots),t._slotsProxy})(e)},emit:Ht(e.$emit,e),expose(t){t&&Object.keys(t).forEach((s=>Kt(e,t,s)))}}}function Zt(e,t,s,n,i){let r=!1;for(const a in t)a in e?t[a]!==s[a]&&(r=!0):(r=!0,Ar(e,a,n,i));for(const a in e)a in t||(r=!0,delete e[a]);return r}function Ar(e,t,s,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>s[n][t]})}function Un(e,t){for(const s in t)e[s]=t[s];for(const s in e)s in t||delete e[s]}function Os(){const e=ee;return e._setupContext||(e._setupContext=qn(e))}let Jt=null;function Ls(e,t){return(e.__esModule||$t&&e[Symbol.toStringTag]==="Module")&&(e=e.default),O(e)?t.extend(e):e}function Wn(e){if(u(e))for(let t=0;t<e.length;t++){const s=e[t];if(c(s)&&(c(s.componentOptions)||It(s)))return s}}const zr=1,Vn=2;function Et(e,t,s,n,i,r){return(u(s)||x(s))&&(i=n,n=s,s=void 0),T(r)&&(i=Vn),(function(a,d,f,m,g){if(c(f)&&c(f.__ob__)||(c(f)&&c(f.is)&&(d=f.is),!d))return st();u(m)&&C(m[0])&&((f=f||{}).scopedSlots={default:m[0]},m.length=0),g===Vn?m=ws(m):g===zr&&(m=(function(L){for(let $=0;$<L.length;$++)if(u(L[$]))return Array.prototype.concat.apply([],L);return L})(m));let S,b;if(typeof d=="string"){let L;b=a.$vnode&&a.$vnode.ns||Le.getTagNamespace(d),S=f&&f.pre||!c(L=rs(a.$options,"components",d))?new xe(d,f,m,void 0,void 0,a):oi(L,f,a,m,d)}else S=oi(d,f,a,m);return u(S)?S:c(S)?(c(b)&&Xn(S,b),c(f)&&(function(L){O(L.style)&&yt(L.style),O(L.class)&&yt(L.class)})(f),S):st()})(e,t,s,n,i)}function Xn(e,t,s){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,s=!0),c(e.children))for(let n=0,i=e.children.length;n<i;n++){const r=e.children[n];c(r.tag)&&(h(r.ns)||T(s)&&r.tag!=="svg")&&Xn(r,t,s)}}function rt(e,t,s){gt();try{if(t){let n=t;for(;n=n.$parent;){const i=n.$options.errorCaptured;if(i)for(let r=0;r<i.length;r++)try{if(i[r].call(n,e,t,s)===!1)return}catch(a){Kn(a,n,"errorCaptured hook")}}}Kn(e,t,s)}finally{vt()}}function Ne(e,t,s,n,i){let r;try{r=s?e.apply(t,s):e.call(t),r&&!r._isVue&&te(r)&&!r._handled&&(r.catch((a=>rt(a,n,i+" (Promise/async)"))),r._handled=!0)}catch(a){rt(a,n,i)}return r}function Kn(e,t,s){jr(e)}function jr(e,t,s){if(!ae||typeof console>"u")throw e;console.error(e)}let $s=!1;const Ds=[];let Qt,Ps=!1;function es(){Ps=!1;const e=Ds.slice(0);Ds.length=0;for(let t=0;t<e.length;t++)e[t]()}if(typeof Promise<"u"&&pt(Promise)){const e=Promise.resolve();Qt=()=>{e.then(es),mr&&setTimeout(k)},$s=!0}else if(je||typeof MutationObserver>"u"||!pt(MutationObserver)&&MutationObserver.toString()!=="[object MutationObserverConstructor]")Qt=typeof setImmediate<"u"&&pt(setImmediate)?()=>{setImmediate(es)}:()=>{setTimeout(es,0)};else{let e=1;const t=new MutationObserver(es),s=document.createTextNode(String(e));t.observe(s,{characterData:!0}),Qt=()=>{e=(e+1)%2,s.data=String(e)},$s=!0}function ts(e,t){let s;if(Ds.push((()=>{if(e)try{e.call(t)}catch(n){rt(n,t,"nextTick")}else s&&s(t)})),Ps||(Ps=!0,Qt()),!e&&typeof Promise<"u")return new Promise((n=>{s=n}))}function we(e){return(t,s=ee)=>{if(s)return(function(n,i,r){const a=n.$options;a[i]=li(a[i],r)})(s,e,t)}}const Fr=we("beforeMount"),Nr=we("mounted"),Hr=we("beforeUpdate"),Br=we("updated"),qr=we("beforeDestroy"),Ur=we("destroyed"),Wr=we("activated"),Vr=we("deactivated"),Xr=we("serverPrefetch"),Kr=we("renderTracked"),Yr=we("renderTriggered"),Gr=we("errorCaptured"),Yn="2.7.16";var Zr=Object.freeze({__proto__:null,version:Yn,defineComponent:function(e){return e},ref:function(e){return xn(e,!1)},shallowRef:function(e){return xn(e,!0)},isRef:he,toRef:wn,toRefs:function(e){const t=u(e)?new Array(e.length):{};for(const s in e)t[s]=wn(e,s);return t},unref:function(e){return he(e)?e.value:e},proxyRefs:function(e){if(nt(e))return e;const t={},s=Object.keys(e);for(let n=0;n<s.length;n++)Kt(t,e,s[n]);return t},customRef:function(e){const t=new ke,{get:s,set:n}=e((()=>{t.depend()}),(()=>{t.notify()})),i={get value(){return s()},set value(r){n(r)}};return Z(i,Dt,!0),i},triggerRef:function(e){e.dep&&e.dep.notify()},reactive:function(e){return Cn(e,!1),e},isReactive:nt,isReadonly:it,isShallow:Xt,isProxy:function(e){return nt(e)||it(e)},shallowReactive:Ss,markRaw:function(e){return Object.isExtensible(e)&&Z(e,"__v_skip",!0),e},toRaw:function e(t){const s=t&&t.__v_raw;return s?e(s):t},readonly:Tn,shallowReadonly:function(e){return On(e,!0)},computed:function(e,t){let s,n;const i=C(e);i?(s=e,n=k):(s=e.get,n=e.set);const r=Xe()?null:new At(ee,s,k,{lazy:!0}),a={effect:r,get value(){return r?(r.dirty&&r.evaluate(),ke.target&&r.depend(),r.value):s()},set value(d){n(d)}};return Z(a,Dt,!0),Z(a,"__v_isReadonly",i),a},watch:function(e,t,s){return Gt(e,t,s)},watchEffect:function(e,t){return Gt(e,null,t)},watchPostEffect:Dn,watchSyncEffect:function(e,t){return Gt(e,null,{flush:"sync"})},EffectScope:Cs,effectScope:function(e){return new Cs(e)},onScopeDispose:function(e){pe&&pe.cleanups.push(e)},getCurrentScope:In,provide:function(e,t){ee&&(Rn(ee)[e]=t)},inject:function(e,t,s=!1){const n=ee;if(n){const i=n.$parent&&n.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return s&&C(t)?t.call(n):t}},h:function(e,t,s){return Et(ee,e,t,s,2,!0)},getCurrentInstance:function(){return ee&&{proxy:ee}},useSlots:function(){return Os().slots},useAttrs:function(){return Os().attrs},useListeners:function(){return Os().listeners},mergeDefaults:function(e,t){const s=u(e)?e.reduce(((n,i)=>(n[i]={},n)),{}):e;for(const n in t){const i=s[n];i?u(i)||C(i)?s[n]={type:i,default:t[n]}:i.default=t[n]:i===null&&(s[n]={default:t[n]})}return s},nextTick:ts,set:Vt,del:ks,useCssModule:function(e="$style"){return ee&&ee[e]||o},useCssVars:function(e){if(!ae)return;const t=ee;t&&Dn((()=>{const s=t.$el,n=e(t,t._setupProxy);if(s&&s.nodeType===1){const i=s.style;for(const r in n)i.setProperty(`--${r}`,n[r])}}))},defineAsyncComponent:function(e){C(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:n,delay:i=200,timeout:r,suspensible:a=!1,onError:d}=e;let f=null,m=0;const g=()=>{let S;return f||(S=f=t().catch((b=>{if(b=b instanceof Error?b:new Error(String(b)),d)return new Promise(((L,$)=>{d(b,(()=>L((m++,f=null,g()))),(()=>$(b)),m+1)}));throw b})).then((b=>S!==f&&f?f:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),b))))};return()=>({component:g(),delay:i,timeout:r,error:n,loading:s})},onBeforeMount:Fr,onMounted:Nr,onBeforeUpdate:Hr,onUpdated:Br,onBeforeUnmount:qr,onUnmounted:Ur,onActivated:Wr,onDeactivated:Vr,onServerPrefetch:Xr,onRenderTracked:Kr,onRenderTriggered:Yr,onErrorCaptured:function(e,t=ee){Gr(e,t)}});const Gn=new Bt;function yt(e){return ss(e,Gn),Gn.clear(),e}function ss(e,t){let s,n;const i=u(e);if(!(!i&&!O(e)||e.__v_skip||Object.isFrozen(e)||e instanceof xe)){if(e.__ob__){const r=e.__ob__.dep.id;if(t.has(r))return;t.add(r)}if(i)for(s=e.length;s--;)ss(e[s],t);else if(he(e))ss(e.value,t);else for(n=Object.keys(e),s=n.length;s--;)ss(e[n[s]],t)}}let Mt,Jr=0;class At{constructor(t,s,n,i,r){(function(a,d=pe){d&&d.active&&d.effects.push(a)})(this,pe&&!pe._vm?pe:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Jr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Bt,this.newDepIds=new Bt,this.expression="",C(s)?this.getter=s:(this.getter=(function(a){if(Pe.test(a))return;const d=a.split(".");return function(f){for(let m=0;m<d.length;m++){if(!f)return;f=f[d[m]]}return f}})(s),this.getter||(this.getter=k)),this.value=this.lazy?void 0:this.get()}get(){let t;gt(this);const s=this.vm;try{t=this.getter.call(s,s)}catch(n){if(!this.user)throw n;rt(n,s,`getter for watcher "${this.expression}"`)}finally{this.deep&&yt(t),vt(),this.cleanupDeps()}return t}addDep(t){const s=t.id;this.newDepIds.has(s)||(this.newDepIds.add(s),this.newDeps.push(t),this.depIds.has(s)||t.addSub(this))}cleanupDeps(){let t=this.deps.length;for(;t--;){const n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}let s=this.depIds;this.depIds=this.newDepIds,this.newDepIds=s,this.newDepIds.clear(),s=this.deps,this.deps=this.newDeps,this.newDeps=s,this.newDeps.length=0}update(){this.lazy?this.dirty=!0:this.sync?this.run():zs(this)}run(){if(this.active){const t=this.get();if(t!==this.value||O(t)||this.deep){const s=this.value;if(this.value=t,this.user){const n=`callback for watcher "${this.expression}"`;Ne(this.cb,this.vm,[t,s],this.vm,n)}else this.cb.call(this.vm,t,s)}}}evaluate(){this.value=this.get(),this.dirty=!1}depend(){let t=this.deps.length;for(;t--;)this.deps[t].depend()}teardown(){if(this.vm&&!this.vm._isBeingDestroyed&&Ce(this.vm._scope.effects,this),this.active){let t=this.deps.length;for(;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}}}function Qr(e,t){Mt.$on(e,t)}function eo(e,t){Mt.$off(e,t)}function to(e,t){const s=Mt;return function n(){t.apply(null,arguments)!==null&&s.$off(e,n)}}function Zn(e,t,s){Mt=e,Mn(t,s||{},Qr,eo,to,e),Mt=void 0}let ot=null;function Jn(e){const t=ot;return ot=e,()=>{ot=t}}function Qn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Is(e,t){if(t){if(e._directInactive=!1,Qn(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(let s=0;s<e.$children.length;s++)Is(e.$children[s]);$e(e,"activated")}}function ei(e,t){if(!(t&&(e._directInactive=!0,Qn(e))||e._inactive)){e._inactive=!0;for(let s=0;s<e.$children.length;s++)ei(e.$children[s]);$e(e,"deactivated")}}function $e(e,t,s,n=!0){gt();const i=ee,r=In();n&&Ke(e);const a=e.$options[t],d=`${t} hook`;if(a)for(let f=0,m=a.length;f<m;f++)Ne(a[f],e,null,e,d);e._hasHookEvent&&e.$emit("hook:"+t),n&&(Ke(i),r&&r.on()),vt()}const He=[],Rs=[];let ns={},Es=!1,Ms=!1,_t=0,ti=0,As=Date.now;if(ae&&!je){const e=window.performance;e&&typeof e.now=="function"&&As()>document.createEvent("Event").timeStamp&&(As=()=>e.now())}const so=(e,t)=>{if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function no(){let e,t;for(ti=As(),Ms=!0,He.sort(so),_t=0;_t<He.length;_t++)e=He[_t],e.before&&e.before(),t=e.id,ns[t]=null,e.run();const s=Rs.slice(),n=He.slice();_t=He.length=Rs.length=0,ns={},Es=Ms=!1,(function(i){for(let r=0;r<i.length;r++)i[r]._inactive=!0,Is(i[r],!0)})(s),(function(i){let r=i.length;for(;r--;){const a=i[r],d=a.vm;d&&d._watcher===a&&d._isMounted&&!d._isDestroyed&&$e(d,"updated")}})(n),vr()}function zs(e){const t=e.id;if(ns[t]==null&&(e!==ke.target||!e.noRecurse)){if(ns[t]=!0,Ms){let s=He.length-1;for(;s>_t&&He[s].id>e.id;)s--;He.splice(s+1,0,e)}else He.push(e);Es||(Es=!0,ts(no))}}function si(e,t){if(e){const s=Object.create(null),n=$t?Reflect.ownKeys(e):Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];if(r==="__ob__")continue;const a=e[r].from;if(a in t._provided)s[r]=t._provided[a];else if("default"in e[r]){const d=e[r].default;s[r]=C(d)?d.call(t):d}}return s}}function js(e,t,s,n,i){const r=i.options;let a;F(n,"_uid")?(a=Object.create(n),a._original=n):(a=n,n=n._original);const d=T(r._compiled),f=!d;this.data=e,this.props=t,this.children=s,this.parent=n,this.listeners=e.on||o,this.injections=si(r.inject,n),this.slots=()=>(this.$slots||Rt(n,e.scopedSlots,this.$slots=Ts(s,n)),this.$slots),Object.defineProperty(this,"scopedSlots",{enumerable:!0,get(){return Rt(n,e.scopedSlots,this.slots())}}),d&&(this.$options=r,this.$slots=this.slots(),this.$scopedSlots=Rt(n,e.scopedSlots,this.$slots)),r._scopeId?this._c=(m,g,S,b)=>{const L=Et(a,m,g,S,b,f);return L&&!u(L)&&(L.fnScopeId=r._scopeId,L.fnContext=n),L}:this._c=(m,g,S,b)=>Et(a,m,g,S,b,f)}function ni(e,t,s,n,i){const r=_s(e);return r.fnContext=s,r.fnOptions=n,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function ii(e,t){for(const s in t)e[ye(s)]=t[s]}function is(e){return e.name||e.__name||e._componentTag}Bn(js.prototype);const Fs={init(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){const s=e;Fs.prepatch(s,s)}else(e.componentInstance=(function(s,n){const i={_isComponent:!0,_parentVnode:s,parent:n},r=s.data.inlineTemplate;return c(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns),new s.componentOptions.Ctor(i)})(e,ot)).$mount(t?e.elm:void 0,t)},prepatch(e,t){const s=t.componentOptions;(function(n,i,r,a,d){const f=a.data.scopedSlots,m=n.$scopedSlots,g=!!(f&&!f.$stable||m!==o&&!m.$stable||f&&n.$scopedSlots.$key!==f.$key||!f&&n.$scopedSlots.$key);let S=!!(d||n.$options._renderChildren||g);const b=n.$vnode;n.$options._parentVnode=a,n.$vnode=a,n._vnode&&(n._vnode.parent=a),n.$options._renderChildren=d;const L=a.data.attrs||o;n._attrsProxy&&Zt(n._attrsProxy,L,b.data&&b.data.attrs||o,n,"$attrs")&&(S=!0),n.$attrs=L,r=r||o;const $=n.$options._parentListeners;if(n._listenersProxy&&Zt(n._listenersProxy,r,$||o,n,"$listeners"),n.$listeners=n.$options._parentListeners=r,Zn(n,r,$),i&&n.$options.props){Ye(!1);const R=n._props,I=n.$options._propKeys||[];for(let z=0;z<I.length;z++){const H=I[z],W=n.$options.props;R[H]=Ns(H,W,i,n)}Ye(!0),n.$options.propsData=i}S&&(n.$slots=Ts(d,a.context),n.$forceUpdate())})(t.componentInstance=e.componentInstance,s.propsData,s.listeners,t,s.children)},insert(e){const{context:t,componentInstance:s}=e;var n;s._isMounted||(s._isMounted=!0,$e(s,"mounted")),e.data.keepAlive&&(t._isMounted?((n=s)._inactive=!1,Rs.push(n)):Is(s,!0))},destroy(e){const{componentInstance:t}=e;t._isDestroyed||(e.data.keepAlive?ei(t,!0):t.$destroy())}},ri=Object.keys(Fs);function oi(e,t,s,n,i){if(h(e))return;const r=s.$options._base;if(O(e)&&(e=r.extend(e)),typeof e!="function")return;let a;if(h(e.cid)&&(a=e,e=(function(g,S){if(T(g.error)&&c(g.errorComp))return g.errorComp;if(c(g.resolved))return g.resolved;const b=Jt;if(b&&c(g.owners)&&g.owners.indexOf(b)===-1&&g.owners.push(b),T(g.loading)&&c(g.loadingComp))return g.loadingComp;if(b&&!c(g.owners)){const L=g.owners=[b];let $=!0,R=null,I=null;b.$on("hook:destroyed",(()=>Ce(L,b)));const z=Te=>{for(let ue=0,v=L.length;ue<v;ue++)L[ue].$forceUpdate();Te&&(L.length=0,R!==null&&(clearTimeout(R),R=null),I!==null&&(clearTimeout(I),I=null))},H=be((Te=>{g.resolved=Ls(Te,S),$?L.length=0:z(!0)})),W=be((Te=>{c(g.errorComp)&&(g.error=!0,z(!0))})),K=g(H,W);return O(K)&&(te(K)?h(g.resolved)&&K.then(H,W):te(K.component)&&(K.component.then(H,W),c(K.error)&&(g.errorComp=Ls(K.error,S)),c(K.loading)&&(g.loadingComp=Ls(K.loading,S),K.delay===0?g.loading=!0:R=setTimeout((()=>{R=null,h(g.resolved)&&h(g.error)&&(g.loading=!0,z(!1))}),K.delay||200)),c(K.timeout)&&(I=setTimeout((()=>{I=null,h(g.resolved)&&W(null)}),K.timeout)))),$=!1,g.loading?g.loadingComp:g.resolved}})(a,r),e===void 0))return(function(g,S,b,L,$){const R=st();return R.asyncFactory=g,R.asyncMeta={data:S,context:b,children:L,tag:$},R})(a,t,s,n,i);t=t||{},Us(e),c(t.model)&&(function(g,S){const b=g.model&&g.model.prop||"value",L=g.model&&g.model.event||"input";(S.attrs||(S.attrs={}))[b]=S.model.value;const $=S.on||(S.on={}),R=$[L],I=S.model.callback;c(R)?(u(R)?R.indexOf(I)===-1:R!==I)&&($[L]=[I].concat(R)):$[L]=I})(e.options,t);const d=(function(g,S,b){const L=S.options.props;if(h(L))return;const $={},{attrs:R,props:I}=g;if(c(R)||c(I))for(const z in L){const H=De(z);An($,I,z,H,!0)||An($,R,z,H,!1)}return $})(t,e);if(T(e.options.functional))return(function(g,S,b,L,$){const R=g.options,I={},z=R.props;if(c(z))for(const K in z)I[K]=Ns(K,z,S||o);else c(b.attrs)&&ii(I,b.attrs),c(b.props)&&ii(I,b.props);const H=new js(b,I,$,L,g),W=R.render.call(null,H._c,H);if(W instanceof xe)return ni(W,b,H.parent,R);if(u(W)){const K=ws(W)||[],Te=new Array(K.length);for(let ue=0;ue<K.length;ue++)Te[ue]=ni(K[ue],b,H.parent,R);return Te}})(e,d,t,s,n);const f=t.on;if(t.on=t.nativeOn,T(e.options.abstract)){const g=t.slot;t={},g&&(t.slot=g)}(function(g){const S=g.hook||(g.hook={});for(let b=0;b<ri.length;b++){const L=ri[b],$=S[L],R=Fs[L];$===R||$&&$._merged||(S[L]=$?io(R,$):R)}})(t);const m=is(e.options)||i;return new xe(`vue-component-${e.cid}${m?`-${m}`:""}`,t,void 0,void 0,void 0,s,{Ctor:e,propsData:d,listeners:f,tag:i,children:n},a)}function io(e,t){const s=(n,i)=>{e(n,i),t(n,i)};return s._merged=!0,s}let ro=k;const Ie=Le.optionMergeStrategies;function zt(e,t,s=!0){if(!t)return e;let n,i,r;const a=$t?Reflect.ownKeys(t):Object.keys(t);for(let d=0;d<a.length;d++)n=a[d],n!=="__ob__"&&(i=e[n],r=t[n],s&&F(e,n)?i!==r&&P(i)&&P(r)&&zt(i,r):Vt(e,n,r));return e}function ai(e,t,s){return s?function(){const n=C(t)?t.call(s,s):t,i=C(e)?e.call(s,s):e;return n?zt(n,i):i}:t?e?function(){return zt(C(t)?t.call(this,this):t,C(e)?e.call(this,this):e)}:t:e}function li(e,t){const s=t?e?e.concat(t):u(t)?t:[t]:e;return s&&(function(n){const i=[];for(let r=0;r<n.length;r++)i.indexOf(n[r])===-1&&i.push(n[r]);return i})(s)}function oo(e,t,s,n){const i=Object.create(e||null);return t?p(i,t):i}Ie.data=function(e,t,s){return s?ai(e,t,s):t&&typeof t!="function"?e:ai(e,t)},ze.forEach((e=>{Ie[e]=li})),Oe.forEach((function(e){Ie[e+"s"]=oo})),Ie.watch=function(e,t,s,n){if(e===vs&&(e=void 0),t===vs&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;const i={};p(i,e);for(const r in t){let a=i[r];const d=t[r];a&&!u(a)&&(a=[a]),i[r]=a?a.concat(d):u(d)?d:[d]}return i},Ie.props=Ie.methods=Ie.inject=Ie.computed=function(e,t,s,n){if(!e)return t;const i=Object.create(null);return p(i,e),t&&p(i,t),i},Ie.provide=function(e,t){return e?function(){const s=Object.create(null);return zt(s,C(e)?e.call(this):e),t&&zt(s,C(t)?t.call(this):t,!1),s}:t};const ao=function(e,t){return t===void 0?e:t};function at(e,t,s){if(C(t)&&(t=t.options),(function(a,d){const f=a.props;if(!f)return;const m={};let g,S,b;if(u(f))for(g=f.length;g--;)S=f[g],typeof S=="string"&&(b=ye(S),m[b]={type:null});else if(P(f))for(const L in f)S=f[L],b=ye(L),m[b]=P(S)?S:{type:S};a.props=m})(t),(function(a,d){const f=a.inject;if(!f)return;const m=a.inject={};if(u(f))for(let g=0;g<f.length;g++)m[f[g]]={from:f[g]};else if(P(f))for(const g in f){const S=f[g];m[g]=P(S)?p({from:g},S):{from:S}}})(t),(function(a){const d=a.directives;if(d)for(const f in d){const m=d[f];C(m)&&(d[f]={bind:m,update:m})}})(t),!t._base&&(t.extends&&(e=at(e,t.extends,s)),t.mixins))for(let a=0,d=t.mixins.length;a<d;a++)e=at(e,t.mixins[a],s);const n={};let i;for(i in e)r(i);for(i in t)F(e,i)||r(i);function r(a){const d=Ie[a]||ao;n[a]=d(e[a],t[a],s,a)}return n}function rs(e,t,s,n){if(typeof s!="string")return;const i=e[t];if(F(i,s))return i[s];const r=ye(s);if(F(i,r))return i[r];const a=ft(r);return F(i,a)?i[a]:i[s]||i[r]||i[a]}function Ns(e,t,s,n){const i=t[e],r=!F(s,e);let a=s[e];const d=ui(Boolean,i.type);if(d>-1){if(r&&!F(i,"default"))a=!1;else if(a===""||a===De(e)){const f=ui(String,i.type);(f<0||d<f)&&(a=!0)}}if(a===void 0){a=(function(m,g,S){if(!F(g,"default"))return;const b=g.default;return m&&m.$options.propsData&&m.$options.propsData[S]===void 0&&m._props[S]!==void 0?m._props[S]:C(b)&&Hs(g.type)!=="Function"?b.call(m):b})(n,i,e);const f=bs;Ye(!0),Fe(a),Ye(f)}return a}const lo=/^\s*function (\w+)/;function Hs(e){const t=e&&e.toString().match(lo);return t?t[1]:""}function ci(e,t){return Hs(e)===Hs(t)}function ui(e,t){if(!u(t))return ci(t,e)?0:-1;for(let s=0,n=t.length;s<n;s++)if(ci(t[s],e))return s;return-1}const Je={enumerable:!0,configurable:!0,get:k,set:k};function Bs(e,t,s){Je.get=function(){return this[t][s]},Je.set=function(n){this[t][s]=n},Object.defineProperty(e,s,Je)}function co(e){const t=e.$options;if(t.props&&(function(s,n){const i=s.$options.propsData||{},r=s._props=Ss({}),a=s.$options._propKeys=[];!s.$parent||Ye(!1);for(const f in n)a.push(f),Ge(r,f,Ns(f,n,i,s),void 0,!0),f in s||Bs(s,"_props",f);Ye(!0)})(e,t.props),(function(s){const n=s.$options,i=n.setup;if(i){const r=s._setupContext=qn(s);Ke(s),gt();const a=Ne(i,null,[s._props||Ss({}),r],s,"setup");if(vt(),Ke(),C(a))n.render=a;else if(O(a))if(s._setupState=a,a.__sfc){const d=s._setupProxy={};for(const f in a)f!=="__sfc"&&Kt(d,a,f)}else for(const d in a)ht(d)||Kt(s,a,d)}})(e),t.methods&&(function(s,n){s.$options.props;for(const i in n)s[i]=typeof n[i]!="function"?k:Ht(n[i],s)})(e,t.methods),t.data)(function(s){let n=s.$options.data;n=s._data=C(n)?(function(f,m){gt();try{return f.call(m,m)}catch(g){return rt(g,m,"data()"),{}}finally{vt()}})(n,s):n||{},P(n)||(n={});const i=Object.keys(n),r=s.$options.props;s.$options.methods;let a=i.length;for(;a--;){const f=i[a];r&&F(r,f)||ht(f)||Bs(s,"_data",f)}const d=Fe(n);d&&d.vmCount++})(e);else{const s=Fe(e._data={});s&&s.vmCount++}t.computed&&(function(s,n){const i=s._computedWatchers=Object.create(null),r=Xe();for(const a in n){const d=n[a],f=C(d)?d:d.get;r||(i[a]=new At(s,f||k,k,uo)),a in s||di(s,a,d)}})(e,t.computed),t.watch&&t.watch!==vs&&(function(s,n){for(const i in n){const r=n[i];if(u(r))for(let a=0;a<r.length;a++)qs(s,i,r[a]);else qs(s,i,r)}})(e,t.watch)}const uo={lazy:!0};function di(e,t,s){const n=!Xe();C(s)?(Je.get=n?fi(t):hi(s),Je.set=k):(Je.get=s.get?n&&s.cache!==!1?fi(t):hi(s.get):k,Je.set=s.set||k),Object.defineProperty(e,t,Je)}function fi(e){return function(){const t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ke.target&&t.depend(),t.value}}function hi(e){return function(){return e.call(this,this)}}function qs(e,t,s,n){return P(s)&&(n=s,s=s.handler),typeof s=="string"&&(s=e[s]),e.$watch(t,s,n)}let fo=0;function Us(e){let t=e.options;if(e.super){const s=Us(e.super);if(s!==e.superOptions){e.superOptions=s;const n=(function(i){let r;const a=i.options,d=i.sealedOptions;for(const f in a)a[f]!==d[f]&&(r||(r={}),r[f]=a[f]);return r})(e);n&&p(e.extendOptions,n),t=e.options=at(s,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function ne(e){this._init(e)}function ho(e){e.cid=0;let t=1;e.extend=function(s){s=s||{};const n=this,i=n.cid,r=s._Ctor||(s._Ctor={});if(r[i])return r[i];const a=is(s)||is(n.options),d=function(f){this._init(f)};return(d.prototype=Object.create(n.prototype)).constructor=d,d.cid=t++,d.options=at(n.options,s),d.super=n,d.options.props&&(function(f){const m=f.options.props;for(const g in m)Bs(f.prototype,"_props",g)})(d),d.options.computed&&(function(f){const m=f.options.computed;for(const g in m)di(f.prototype,g,m[g])})(d),d.extend=n.extend,d.mixin=n.mixin,d.use=n.use,Oe.forEach((function(f){d[f]=n[f]})),a&&(d.options.components[a]=d),d.superOptions=n.options,d.extendOptions=s,d.sealedOptions=p({},d.options),r[i]=d,d}}function pi(e){return e&&(is(e.Ctor.options)||e.tag)}function os(e,t){return u(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:(s=e,j.call(s)==="[object RegExp]"&&e.test(t));var s}function mi(e,t){const{cache:s,keys:n,_vnode:i,$vnode:r}=e;for(const a in s){const d=s[a];if(d){const f=d.name;f&&!t(f)&&Ws(s,a,n,i)}}r.componentOptions.children=void 0}function Ws(e,t,s,n){const i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,Ce(s,t)}(function(e){e.prototype._init=function(t){const s=this;s._uid=fo++,s._isVue=!0,s.__v_skip=!0,s._scope=new Cs(!0),s._scope.parent=void 0,s._scope._vm=!0,t&&t._isComponent?(function(n,i){const r=n.$options=Object.create(n.constructor.options),a=i._parentVnode;r.parent=i.parent,r._parentVnode=a;const d=a.componentOptions;r.propsData=d.propsData,r._parentListeners=d.listeners,r._renderChildren=d.children,r._componentTag=d.tag,i.render&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns)})(s,t):s.$options=at(Us(s.constructor),t||{},s),s._renderProxy=s,s._self=s,(function(n){const i=n.$options;let r=i.parent;if(r&&!i.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(n)}n.$parent=r,n.$root=r?r.$root:n,n.$children=[],n.$refs={},n._provided=r?r._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1})(s),(function(n){n._events=Object.create(null),n._hasHookEvent=!1;const i=n.$options._parentListeners;i&&Zn(n,i)})(s),(function(n){n._vnode=null,n._staticTrees=null;const i=n.$options,r=n.$vnode=i._parentVnode,a=r&&r.context;n.$slots=Ts(i._renderChildren,a),n.$scopedSlots=r?Rt(n.$parent,r.data.scopedSlots,n.$slots):o,n._c=(f,m,g,S)=>Et(n,f,m,g,S,!1),n.$createElement=(f,m,g,S)=>Et(n,f,m,g,S,!0);const d=r&&r.data;Ge(n,"$attrs",d&&d.attrs||o,null,!0),Ge(n,"$listeners",i._parentListeners||o,null,!0)})(s),$e(s,"beforeCreate",void 0,!1),(function(n){const i=si(n.$options.inject,n);i&&(Ye(!1),Object.keys(i).forEach((r=>{Ge(n,r,i[r])})),Ye(!0))})(s),co(s),(function(n){const i=n.$options.provide;if(i){const r=C(i)?i.call(n):i;if(!O(r))return;const a=Rn(n),d=$t?Reflect.ownKeys(r):Object.keys(r);for(let f=0;f<d.length;f++){const m=d[f];Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(r,m))}}})(s),$e(s,"created"),s.$options.el&&s.$mount(s.$options.el)}})(ne),(function(e){const t={get:function(){return this._data}},s={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",s),e.prototype.$set=Vt,e.prototype.$delete=ks,e.prototype.$watch=function(n,i,r){const a=this;if(P(i))return qs(a,n,i,r);(r=r||{}).user=!0;const d=new At(a,n,i,r);if(r.immediate){const f=`callback for immediate watcher "${d.expression}"`;gt(),Ne(i,a,[d.value],a,f),vt()}return function(){d.teardown()}}})(ne),(function(e){const t=/^hook:/;e.prototype.$on=function(s,n){const i=this;if(u(s))for(let r=0,a=s.length;r<a;r++)i.$on(s[r],n);else(i._events[s]||(i._events[s]=[])).push(n),t.test(s)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(s,n){const i=this;function r(){i.$off(s,r),n.apply(i,arguments)}return r.fn=n,i.$on(s,r),i},e.prototype.$off=function(s,n){const i=this;if(!arguments.length)return i._events=Object.create(null),i;if(u(s)){for(let f=0,m=s.length;f<m;f++)i.$off(s[f],n);return i}const r=i._events[s];if(!r)return i;if(!n)return i._events[s]=null,i;let a,d=r.length;for(;d--;)if(a=r[d],a===n||a.fn===n){r.splice(d,1);break}return i},e.prototype.$emit=function(s){const n=this;let i=n._events[s];if(i){i=i.length>1?w(i):i;const r=w(arguments,1),a=`event handler for "${s}"`;for(let d=0,f=i.length;d<f;d++)Ne(i[d],n,r,n,a)}return n}})(ne),(function(e){e.prototype._update=function(t,s){const n=this,i=n.$el,r=n._vnode,a=Jn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,s,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);let d=n;for(;d&&d.$vnode&&d.$parent&&d.$vnode===d.$parent._vnode;)d.$parent.$el=d.$el,d=d.$parent},e.prototype.$forceUpdate=function(){const t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){const t=this;if(t._isBeingDestroyed)return;$e(t,"beforeDestroy"),t._isBeingDestroyed=!0;const s=t.$parent;!s||s._isBeingDestroyed||t.$options.abstract||Ce(s.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),$e(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}})(ne),(function(e){Bn(e.prototype),e.prototype.$nextTick=function(t){return ts(t,this)},e.prototype._render=function(){const t=this,{render:s,_parentVnode:n}=t.$options;n&&t._isMounted&&(t.$scopedSlots=Rt(t.$parent,n.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Un(t._slotsProxy,t.$scopedSlots)),t.$vnode=n;const i=ee,r=Jt;let a;try{Ke(t),Jt=t,a=s.call(t._renderProxy,t.$createElement)}catch(d){rt(d,t,"render"),a=t._vnode}finally{Jt=r,Ke(i)}return u(a)&&a.length===1&&(a=a[0]),a instanceof xe||(a=st()),a.parent=n,a}})(ne);const gi=[String,RegExp,Array];var po={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:gi,exclude:gi,max:[String,Number]},methods:{cacheVNode(){const{cache:e,keys:t,vnodeToCache:s,keyToCache:n}=this;if(s){const{tag:i,componentInstance:r,componentOptions:a}=s;e[n]={name:pi(a),tag:i,componentInstance:r},t.push(n),this.max&&t.length>parseInt(this.max)&&Ws(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created(){this.cache=Object.create(null),this.keys=[]},destroyed(){for(const e in this.cache)Ws(this.cache,e,this.keys)},mounted(){this.cacheVNode(),this.$watch("include",(e=>{mi(this,(t=>os(e,t)))})),this.$watch("exclude",(e=>{mi(this,(t=>!os(e,t)))}))},updated(){this.cacheVNode()},render(){const e=this.$slots.default,t=Wn(e),s=t&&t.componentOptions;if(s){const n=pi(s),{include:i,exclude:r}=this;if(i&&(!n||!os(i,n))||r&&n&&os(r,n))return t;const{cache:a,keys:d}=this,f=t.key==null?s.Ctor.cid+(s.tag?`::${s.tag}`:""):t.key;a[f]?(t.componentInstance=a[f].componentInstance,Ce(d,f),d.push(f)):(this.vnodeToCache=t,this.keyToCache=f),t.data.keepAlive=!0}return t||e&&e[0]}}};(function(e){Object.defineProperty(e,"config",{get:()=>Le}),e.util={warn:ro,extend:p,mergeOptions:at,defineReactive:Ge},e.set=Vt,e.delete=ks,e.nextTick=ts,e.observable=s=>(Fe(s),s),e.options=Object.create(null),Oe.forEach((s=>{e.options[s+"s"]=Object.create(null)})),e.options._base=e,p(e.options.components,po),(function(s){s.use=function(n){const i=this._installedPlugins||(this._installedPlugins=[]);if(i.indexOf(n)>-1)return this;const r=w(arguments,1);return r.unshift(this),C(n.install)?n.install.apply(n,r):C(n)&&n.apply(null,r),i.push(n),this}})(e),(function(s){s.mixin=function(n){return this.options=at(this.options,n),this}})(e),ho(e),(function(s){Oe.forEach((n=>{s[n]=function(i,r){return r?(n==="component"&&P(r)&&(r.name=r.name||i,r=this.options._base.extend(r)),n==="directive"&&C(r)&&(r={bind:r,update:r}),this.options[n+"s"][i]=r,r):this.options[n+"s"][i]}}))})(e)})(ne),Object.defineProperty(ne.prototype,"$isServer",{get:Xe}),Object.defineProperty(ne.prototype,"$ssrContext",{get(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ne,"FunctionalRenderContext",{value:js}),ne.version=Yn;const mo=se("style,class"),go=se("input,textarea,option,select,progress"),vi=se("contenteditable,draggable,spellcheck"),vo=se("events,caret,typing,plaintext-only"),yo=(e,t)=>as(t)||t==="false"?"false":e==="contenteditable"&&vo(t)?t:"true",_o=se("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Vs="http://www.w3.org/1999/xlink",Xs=e=>e.charAt(5)===":"&&e.slice(0,5)==="xlink",yi=e=>Xs(e)?e.slice(6,e.length):"",as=e=>e==null||e===!1;function bo(e){let t=e.data,s=e,n=e;for(;c(n.componentInstance);)n=n.componentInstance._vnode,n&&n.data&&(t=_i(n.data,t));for(;c(s=s.parent);)s&&s.data&&(t=_i(t,s.data));return(function(i,r){return c(i)||c(r)?Ks(i,Ys(r)):""})(t.staticClass,t.class)}function _i(e,t){return{staticClass:Ks(e.staticClass,t.staticClass),class:c(e.class)?[e.class,t.class]:t.class}}function Ks(e,t){return e?t?e+" "+t:e:t||""}function Ys(e){return Array.isArray(e)?(function(t){let s,n="";for(let i=0,r=t.length;i<r;i++)c(s=Ys(t[i]))&&s!==""&&(n&&(n+=" "),n+=s);return n})(e):O(e)?(function(t){let s="";for(const n in t)t[n]&&(s&&(s+=" "),s+=n);return s})(e):typeof e=="string"?e:""}const ko={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},So=se("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gs=se("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),bi=e=>So(e)||Gs(e),ls=Object.create(null),Zs=se("text,number,password,search,email,tel,url");var Co=Object.freeze({__proto__:null,createElement:function(e,t){const s=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&s.setAttribute("multiple","multiple"),s},createElementNS:function(e,t){return document.createElementNS(ko[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,s){e.insertBefore(t,s)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),xo={create(e,t){bt(t)},update(e,t){e.data.ref!==t.data.ref&&(bt(e,!0),bt(t))},destroy(e){bt(e,!0)}};function bt(e,t){const s=e.data.ref;if(!c(s))return;const n=e.context,i=e.componentInstance||e.elm,r=t?null:i,a=t?void 0:i;if(C(s))return void Ne(s,n,[r],n,"template ref function");const d=e.data.refInFor,f=typeof s=="string"||typeof s=="number",m=he(s),g=n.$refs;if(f||m){if(d){const S=f?g[s]:s.value;t?u(S)&&Ce(S,i):u(S)?S.includes(i)||S.push(i):f?(g[s]=[i],ki(n,s,g[s])):s.value=[i]}else if(f){if(t&&g[s]!==i)return;g[s]=a,ki(n,s,r)}else if(m){if(t&&s.value!==i)return;s.value=r}}}function ki({_setupState:e},t,s){e&&F(e,t)&&(he(e[t])?e[t].value=s:e[t]=s)}const Qe=new xe("",{},[]),jt=["create","activate","update","remove","destroy"];function lt(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&c(e.data)===c(t.data)&&(function(s,n){if(s.tag!=="input")return!0;let i;const r=c(i=s.data)&&c(i=i.attrs)&&i.type,a=c(i=n.data)&&c(i=i.attrs)&&i.type;return r===a||Zs(r)&&Zs(a)})(e,t)||T(e.isAsyncPlaceholder)&&h(t.asyncFactory.error))}function wo(e,t,s){let n,i;const r={};for(n=t;n<=s;++n)i=e[n].key,c(i)&&(r[i]=n);return r}var To={create:Js,update:Js,destroy:function(e){Js(e,Qe)}};function Js(e,t){(e.data.directives||t.data.directives)&&(function(s,n){const i=s===Qe,r=n===Qe,a=Si(s.data.directives,s.context),d=Si(n.data.directives,n.context),f=[],m=[];let g,S,b;for(g in d)S=a[g],b=d[g],S?(b.oldValue=S.value,b.oldArg=S.arg,Ft(b,"update",n,s),b.def&&b.def.componentUpdated&&m.push(b)):(Ft(b,"bind",n,s),b.def&&b.def.inserted&&f.push(b));if(f.length){const L=()=>{for(let $=0;$<f.length;$++)Ft(f[$],"inserted",n,s)};i?Ze(n,"insert",L):L()}if(m.length&&Ze(n,"postpatch",(()=>{for(let L=0;L<m.length;L++)Ft(m[L],"componentUpdated",n,s)})),!i)for(g in a)d[g]||Ft(a[g],"unbind",s,s,r)})(e,t)}const Oo=Object.create(null);function Si(e,t){const s=Object.create(null);if(!e)return s;let n,i;for(n=0;n<e.length;n++){if(i=e[n],i.modifiers||(i.modifiers=Oo),s[Lo(i)]=i,t._setupState&&t._setupState.__sfc){const r=i.def||rs(t,"_setupState","v-"+i.name);i.def=typeof r=="function"?{bind:r,update:r}:r}i.def=i.def||rs(t.$options,"directives",i.name)}return s}function Lo(e){return e.rawName||`${e.name}.${Object.keys(e.modifiers||{}).join(".")}`}function Ft(e,t,s,n,i){const r=e.def&&e.def[t];if(r)try{r(s.elm,e,s,n,i)}catch(a){rt(a,s.context,`directive ${e.name} ${t} hook`)}}var $o=[xo,To];function Ci(e,t){const s=t.componentOptions;if(c(s)&&s.Ctor.options.inheritAttrs===!1||h(e.data.attrs)&&h(t.data.attrs))return;let n,i,r;const a=t.elm,d=e.data.attrs||{};let f=t.data.attrs||{};for(n in(c(f.__ob__)||T(f._v_attr_proxy))&&(f=t.data.attrs=p({},f)),f)i=f[n],r=d[n],r!==i&&xi(a,n,i,t.data.pre);for(n in(je||mn)&&f.value!==d.value&&xi(a,"value",f.value),d)h(f[n])&&(Xs(n)?a.removeAttributeNS(Vs,yi(n)):vi(n)||a.removeAttribute(n))}function xi(e,t,s,n){n||e.tagName.indexOf("-")>-1?wi(e,t,s):_o(t)?as(s)?e.removeAttribute(t):(s=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,s)):vi(t)?e.setAttribute(t,yo(t,s)):Xs(t)?as(s)?e.removeAttributeNS(Vs,yi(t)):e.setAttributeNS(Vs,t,s):wi(e,t,s)}function wi(e,t,s){if(as(s))e.removeAttribute(t);else{if(je&&!Ve&&e.tagName==="TEXTAREA"&&t==="placeholder"&&s!==""&&!e.__ieph){const n=i=>{i.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,s)}}var Do={create:Ci,update:Ci};function Ti(e,t){const s=t.elm,n=t.data,i=e.data;if(h(n.staticClass)&&h(n.class)&&(h(i)||h(i.staticClass)&&h(i.class)))return;let r=bo(t);const a=s._transitionClasses;c(a)&&(r=Ks(r,Ys(a))),r!==s._prevClass&&(s.setAttribute("class",r),s._prevClass=r)}var Po={create:Ti,update:Ti};const Qs="__r",en="__c";let Nt;function Io(e,t,s){const n=Nt;return function i(){t.apply(null,arguments)!==null&&Oi(e,i,s,n)}}const Ro=$s&&!(gn&&Number(gn[1])<=53);function Eo(e,t,s,n){if(Ro){const i=ti,r=t;t=r._wrapper=function(a){if(a.target===a.currentTarget||a.timeStamp>=i||a.timeStamp<=0||a.target.ownerDocument!==document)return r.apply(this,arguments)}}Nt.addEventListener(e,t,vn?{capture:s,passive:n}:s)}function Oi(e,t,s,n){(n||Nt).removeEventListener(e,t._wrapper||t,s)}function tn(e,t){if(h(e.data.on)&&h(t.data.on))return;const s=t.data.on||{},n=e.data.on||{};Nt=t.elm||e.elm,(function(i){if(c(i[Qs])){const r=je?"change":"input";i[r]=[].concat(i[Qs],i[r]||[]),delete i[Qs]}c(i[en])&&(i.change=[].concat(i[en],i.change||[]),delete i[en])})(s),Mn(s,n,Eo,Oi,Io,t.context),Nt=void 0}var Mo={create:tn,update:tn,destroy:e=>tn(e,Qe)};let cs;function Li(e,t){if(h(e.data.domProps)&&h(t.data.domProps))return;let s,n;const i=t.elm,r=e.data.domProps||{};let a=t.data.domProps||{};for(s in(c(a.__ob__)||T(a._v_attr_proxy))&&(a=t.data.domProps=p({},a)),r)s in a||(i[s]="");for(s in a){if(n=a[s],s==="textContent"||s==="innerHTML"){if(t.children&&(t.children.length=0),n===r[s])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(s==="value"&&i.tagName!=="PROGRESS"){i._value=n;const d=h(n)?"":String(n);Ao(i,d)&&(i.value=d)}else if(s==="innerHTML"&&Gs(i.tagName)&&h(i.innerHTML)){cs=cs||document.createElement("div"),cs.innerHTML=`<svg>${n}</svg>`;const d=cs.firstChild;for(;i.firstChild;)i.removeChild(i.firstChild);for(;d.firstChild;)i.appendChild(d.firstChild)}else if(n!==r[s])try{i[s]=n}catch{}}}function Ao(e,t){return!e.composing&&(e.tagName==="OPTION"||(function(s,n){let i=!0;try{i=document.activeElement!==s}catch{}return i&&s.value!==n})(e,t)||(function(s,n){const i=s.value,r=s._vModifiers;if(c(r)){if(r.number)return fe(i)!==fe(n);if(r.trim)return i.trim()!==n.trim()}return i!==n})(e,t))}var zo={create:Li,update:Li};const jo=ce((function(e){const t={},s=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(n){if(n){const i=n.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function sn(e){const t=$i(e.style);return e.staticStyle?p(e.staticStyle,t):t}function $i(e){return Array.isArray(e)?y(e):typeof e=="string"?jo(e):e}const Fo=/^--/,Di=/\s*!important$/,Pi=(e,t,s)=>{if(Fo.test(t))e.style.setProperty(t,s);else if(Di.test(s))e.style.setProperty(De(t),s.replace(Di,""),"important");else{const n=No(t);if(Array.isArray(s))for(let i=0,r=s.length;i<r;i++)e.style[n]=s[i];else e.style[n]=s}},Ii=["Webkit","Moz","ms"];let us;const No=ce((function(e){if(us=us||document.createElement("div").style,(e=ye(e))!=="filter"&&e in us)return e;const t=e.charAt(0).toUpperCase()+e.slice(1);for(let s=0;s<Ii.length;s++){const n=Ii[s]+t;if(n in us)return n}}));function Ri(e,t){const s=t.data,n=e.data;if(h(s.staticStyle)&&h(s.style)&&h(n.staticStyle)&&h(n.style))return;let i,r;const a=t.elm,d=n.staticStyle,f=n.normalizedStyle||n.style||{},m=d||f,g=$i(t.data.style)||{};t.data.normalizedStyle=c(g.__ob__)?p({},g):g;const S=(function(b,L){const $={};let R;{let z=b;for(;z.componentInstance;)z=z.componentInstance._vnode,z&&z.data&&(R=sn(z.data))&&p($,R)}(R=sn(b.data))&&p($,R);let I=b;for(;I=I.parent;)I.data&&(R=sn(I.data))&&p($,R);return $})(t);for(r in m)h(S[r])&&Pi(a,r,"");for(r in S)i=S[r],Pi(a,r,i??"")}var Ho={create:Ri,update:Ri};const Ei=/\s+/;function Mi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((s=>e.classList.add(s))):e.classList.add(t);else{const s=` ${e.getAttribute("class")||""} `;s.indexOf(" "+t+" ")<0&&e.setAttribute("class",(s+t).trim())}}function Ai(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ei).forEach((s=>e.classList.remove(s))):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{let s=` ${e.getAttribute("class")||""} `;const n=" "+t+" ";for(;s.indexOf(n)>=0;)s=s.replace(n," ");s=s.trim(),s?e.setAttribute("class",s):e.removeAttribute("class")}}function zi(e){if(e){if(typeof e=="object"){const t={};return e.css!==!1&&p(t,ji(e.name||"v")),p(t,e),t}return typeof e=="string"?ji(e):void 0}}const ji=ce((e=>({enterClass:`${e}-enter`,enterToClass:`${e}-enter-to`,enterActiveClass:`${e}-enter-active`,leaveClass:`${e}-leave`,leaveToClass:`${e}-leave-to`,leaveActiveClass:`${e}-leave-active`}))),Fi=ae&&!Ve,kt="transition",nn="animation";let ds="transition",fs="transitionend",rn="animation",Ni="animationend";Fi&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(ds="WebkitTransition",fs="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(rn="WebkitAnimation",Ni="webkitAnimationEnd"));const Hi=ae?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:e=>e();function Bi(e){Hi((()=>{Hi(e)}))}function ct(e,t){const s=e._transitionClasses||(e._transitionClasses=[]);s.indexOf(t)<0&&(s.push(t),Mi(e,t))}function Be(e,t){e._transitionClasses&&Ce(e._transitionClasses,t),Ai(e,t)}function qi(e,t,s){const{type:n,timeout:i,propCount:r}=Ui(e,t);if(!n)return s();const a=n===kt?fs:Ni;let d=0;const f=()=>{e.removeEventListener(a,m),s()},m=g=>{g.target===e&&++d>=r&&f()};setTimeout((()=>{d<r&&f()}),i+1),e.addEventListener(a,m)}const Bo=/\b(transform|all)(,|$)/;function Ui(e,t){const s=window.getComputedStyle(e),n=(s[ds+"Delay"]||"").split(", "),i=(s[ds+"Duration"]||"").split(", "),r=Wi(n,i),a=(s[rn+"Delay"]||"").split(", "),d=(s[rn+"Duration"]||"").split(", "),f=Wi(a,d);let m,g=0,S=0;return t===kt?r>0&&(m=kt,g=r,S=i.length):t===nn?f>0&&(m=nn,g=f,S=d.length):(g=Math.max(r,f),m=g>0?r>f?kt:nn:null,S=m?m===kt?i.length:d.length:0),{type:m,timeout:g,propCount:S,hasTransform:m===kt&&Bo.test(s[ds+"Property"])}}function Wi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(((s,n)=>Vi(s)+Vi(e[n]))))}function Vi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function on(e,t){const s=e.elm;c(s._leaveCb)&&(s._leaveCb.cancelled=!0,s._leaveCb());const n=zi(e.data.transition);if(h(n)||c(s._enterCb)||s.nodeType!==1)return;const{css:i,type:r,enterClass:a,enterToClass:d,enterActiveClass:f,appearClass:m,appearToClass:g,appearActiveClass:S,beforeEnter:b,enter:L,afterEnter:$,enterCancelled:R,beforeAppear:I,appear:z,afterAppear:H,appearCancelled:W,duration:K}=n;let Te=ot,ue=ot.$vnode;for(;ue&&ue.parent;)Te=ue.context,ue=ue.parent;const v=!Te._isMounted||!e.isRootInsert;if(v&&!z&&z!=="")return;const _=v&&m?m:a,D=v&&S?S:f,E=v&&g?g:d,B=v&&I||b,Y=v&&C(z)?z:L,V=v&&H||$,U=v&&W||R,ie=fe(O(K)?K.enter:K),G=i!==!1&&!Ve,q=an(Y),le=s._enterCb=be((()=>{G&&(Be(s,E),Be(s,D)),le.cancelled?(G&&Be(s,_),U&&U(s)):V&&V(s),s._enterCb=null}));e.data.show||Ze(e,"insert",(()=>{const X=s.parentNode,N=X&&X._pending&&X._pending[e.key];N&&N.tag===e.tag&&N.elm._leaveCb&&N.elm._leaveCb(),Y&&Y(s,le)})),B&&B(s),G&&(ct(s,_),ct(s,D),Bi((()=>{Be(s,_),le.cancelled||(ct(s,E),q||(Ki(ie)?setTimeout(le,ie):qi(s,r,le)))}))),e.data.show&&(t&&t(),Y&&Y(s,le)),G||q||le()}function Xi(e,t){const s=e.elm;c(s._enterCb)&&(s._enterCb.cancelled=!0,s._enterCb());const n=zi(e.data.transition);if(h(n)||s.nodeType!==1)return t();if(c(s._leaveCb))return;const{css:i,type:r,leaveClass:a,leaveToClass:d,leaveActiveClass:f,beforeLeave:m,leave:g,afterLeave:S,leaveCancelled:b,delayLeave:L,duration:$}=n,R=i!==!1&&!Ve,I=an(g),z=fe(O($)?$.leave:$),H=s._leaveCb=be((()=>{s.parentNode&&s.parentNode._pending&&(s.parentNode._pending[e.key]=null),R&&(Be(s,d),Be(s,f)),H.cancelled?(R&&Be(s,a),b&&b(s)):(t(),S&&S(s)),s._leaveCb=null}));function W(){H.cancelled||(!e.data.show&&s.parentNode&&((s.parentNode._pending||(s.parentNode._pending={}))[e.key]=e),m&&m(s),R&&(ct(s,a),ct(s,f),Bi((()=>{Be(s,a),H.cancelled||(ct(s,d),I||(Ki(z)?setTimeout(H,z):qi(s,r,H)))}))),g&&g(s,H),R||I||H())}L?L(W):W()}function Ki(e){return typeof e=="number"&&!isNaN(e)}function an(e){if(h(e))return!1;const t=e.fns;return c(t)?an(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Yi(e,t){t.data.show!==!0&&on(t)}const qo=(function(e){let t,s;const n={},{modules:i,nodeOps:r}=e;for(t=0;t<jt.length;++t)for(n[jt[t]]=[],s=0;s<i.length;++s)c(i[s][jt[t]])&&n[jt[t]].push(i[s][jt[t]]);function a(v){const _=r.parentNode(v);c(_)&&r.removeChild(_,v)}function d(v,_,D,E,B,Y,V){if(c(v.elm)&&c(Y)&&(v=Y[V]=_s(v)),v.isRootInsert=!B,(function(q,le,X,N){let re=q.data;if(c(re)){const dn=c(q.componentInstance)&&re.keepAlive;if(c(re=re.hook)&&c(re=re.init)&&re(q,!1),c(q.componentInstance))return f(q,le),m(X,q.elm,N),T(dn)&&(function(St,Ct,xt,ps){let me,de=St;for(;de.componentInstance;)if(de=de.componentInstance._vnode,c(me=de.data)&&c(me=me.transition)){for(me=0;me<n.activate.length;++me)n.activate[me](Qe,de);Ct.push(de);break}m(xt,St.elm,ps)})(q,le,X,N),!0}})(v,_,D,E))return;const U=v.data,ie=v.children,G=v.tag;c(G)?(v.elm=v.ns?r.createElementNS(v.ns,G):r.createElement(G,v),L(v),g(v,ie,_),c(U)&&b(v,_),m(D,v.elm,E)):T(v.isComment)?(v.elm=r.createComment(v.text),m(D,v.elm,E)):(v.elm=r.createTextNode(v.text),m(D,v.elm,E))}function f(v,_){c(v.data.pendingInsert)&&(_.push.apply(_,v.data.pendingInsert),v.data.pendingInsert=null),v.elm=v.componentInstance.$el,S(v)?(b(v,_),L(v)):(bt(v),_.push(v))}function m(v,_,D){c(v)&&(c(D)?r.parentNode(D)===v&&r.insertBefore(v,_,D):r.appendChild(v,_))}function g(v,_,D){if(u(_))for(let E=0;E<_.length;++E)d(_[E],D,v.elm,null,!0,_,E);else x(v.text)&&r.appendChild(v.elm,r.createTextNode(String(v.text)))}function S(v){for(;v.componentInstance;)v=v.componentInstance._vnode;return c(v.tag)}function b(v,_){for(let D=0;D<n.create.length;++D)n.create[D](Qe,v);t=v.data.hook,c(t)&&(c(t.create)&&t.create(Qe,v),c(t.insert)&&_.push(v))}function L(v){let _;if(c(_=v.fnScopeId))r.setStyleScope(v.elm,_);else{let D=v;for(;D;)c(_=D.context)&&c(_=_.$options._scopeId)&&r.setStyleScope(v.elm,_),D=D.parent}c(_=ot)&&_!==v.context&&_!==v.fnContext&&c(_=_.$options._scopeId)&&r.setStyleScope(v.elm,_)}function $(v,_,D,E,B,Y){for(;E<=B;++E)d(D[E],Y,v,_,!1,D,E)}function R(v){let _,D;const E=v.data;if(c(E))for(c(_=E.hook)&&c(_=_.destroy)&&_(v),_=0;_<n.destroy.length;++_)n.destroy[_](v);if(c(_=v.children))for(D=0;D<v.children.length;++D)R(v.children[D])}function I(v,_,D){for(;_<=D;++_){const E=v[_];c(E)&&(c(E.tag)?(z(E),R(E)):a(E.elm))}}function z(v,_){if(c(_)||c(v.data)){let D;const E=n.remove.length+1;for(c(_)?_.listeners+=E:_=(function(B,Y){function V(){--V.listeners==0&&a(B)}return V.listeners=Y,V})(v.elm,E),c(D=v.componentInstance)&&c(D=D._vnode)&&c(D.data)&&z(D,_),D=0;D<n.remove.length;++D)n.remove[D](v,_);c(D=v.data.hook)&&c(D=D.remove)?D(v,_):_()}else a(v.elm)}function H(v,_,D,E){for(let B=D;B<E;B++){const Y=_[B];if(c(Y)&&lt(v,Y))return B}}function W(v,_,D,E,B,Y){if(v===_)return;c(_.elm)&&c(E)&&(_=E[B]=_s(_));const V=_.elm=v.elm;if(T(v.isAsyncPlaceholder))return void(c(_.asyncFactory.resolved)?ue(v.elm,_,D):_.isAsyncPlaceholder=!0);if(T(_.isStatic)&&T(v.isStatic)&&_.key===v.key&&(T(_.isCloned)||T(_.isOnce)))return void(_.componentInstance=v.componentInstance);let U;const ie=_.data;c(ie)&&c(U=ie.hook)&&c(U=U.prepatch)&&U(v,_);const G=v.children,q=_.children;if(c(ie)&&S(_)){for(U=0;U<n.update.length;++U)n.update[U](v,_);c(U=ie.hook)&&c(U=U.update)&&U(v,_)}h(_.text)?c(G)&&c(q)?G!==q&&(function(le,X,N,re,dn){let St,Ct,xt,ps,me=0,de=0,qe=X.length-1,Se=X[0],Re=X[qe],Ee=N.length-1,ve=N[0],wt=N[Ee];const fn=!dn;for(;me<=qe&&de<=Ee;)h(Se)?Se=X[++me]:h(Re)?Re=X[--qe]:lt(Se,ve)?(W(Se,ve,re,N,de),Se=X[++me],ve=N[++de]):lt(Re,wt)?(W(Re,wt,re,N,Ee),Re=X[--qe],wt=N[--Ee]):lt(Se,wt)?(W(Se,wt,re,N,Ee),fn&&r.insertBefore(le,Se.elm,r.nextSibling(Re.elm)),Se=X[++me],wt=N[--Ee]):lt(Re,ve)?(W(Re,ve,re,N,de),fn&&r.insertBefore(le,Re.elm,Se.elm),Re=X[--qe],ve=N[++de]):(h(St)&&(St=wo(X,me,qe)),Ct=c(ve.key)?St[ve.key]:H(ve,X,me,qe),h(Ct)?d(ve,re,le,Se.elm,!1,N,de):(xt=X[Ct],lt(xt,ve)?(W(xt,ve,re,N,de),X[Ct]=void 0,fn&&r.insertBefore(le,xt.elm,Se.elm)):d(ve,re,le,Se.elm,!1,N,de)),ve=N[++de]);me>qe?(ps=h(N[Ee+1])?null:N[Ee+1].elm,$(le,ps,N,de,Ee,re)):de>Ee&&I(X,me,qe)})(V,G,q,D,Y):c(q)?(c(v.text)&&r.setTextContent(V,""),$(V,null,q,0,q.length-1,D)):c(G)?I(G,0,G.length-1):c(v.text)&&r.setTextContent(V,""):v.text!==_.text&&r.setTextContent(V,_.text),c(ie)&&c(U=ie.hook)&&c(U=U.postpatch)&&U(v,_)}function K(v,_,D){if(T(D)&&c(v.parent))v.parent.data.pendingInsert=_;else for(let E=0;E<_.length;++E)_[E].data.hook.insert(_[E])}const Te=se("attrs,class,staticClass,staticStyle,key");function ue(v,_,D,E){let B;const{tag:Y,data:V,children:U}=_;if(E=E||V&&V.pre,_.elm=v,T(_.isComment)&&c(_.asyncFactory))return _.isAsyncPlaceholder=!0,!0;if(c(V)&&(c(B=V.hook)&&c(B=B.init)&&B(_,!0),c(B=_.componentInstance)))return f(_,D),!0;if(c(Y)){if(c(U))if(v.hasChildNodes())if(c(B=V)&&c(B=B.domProps)&&c(B=B.innerHTML)){if(B!==v.innerHTML)return!1}else{let ie=!0,G=v.firstChild;for(let q=0;q<U.length;q++){if(!G||!ue(G,U[q],D,E)){ie=!1;break}G=G.nextSibling}if(!ie||G)return!1}else g(_,U,D);if(c(V)){let ie=!1;for(const G in V)if(!Te(G)){ie=!0,b(_,D);break}!ie&&V.class&&yt(V.class)}}else v.data!==_.text&&(v.data=_.text);return!0}return function(v,_,D,E){if(h(_))return void(c(v)&&R(v));let B=!1;const Y=[];if(h(v))B=!0,d(_,Y);else{const U=c(v.nodeType);if(!U&&lt(v,_))W(v,_,Y,null,null,E);else{if(U){if(v.nodeType===1&&v.hasAttribute(Ue)&&(v.removeAttribute(Ue),D=!0),T(D)&&ue(v,_,Y))return K(_,Y,!0),v;V=v,v=new xe(r.tagName(V).toLowerCase(),{},[],void 0,V)}const ie=v.elm,G=r.parentNode(ie);if(d(_,Y,ie._leaveCb?null:G,r.nextSibling(ie)),c(_.parent)){let q=_.parent;const le=S(_);for(;q;){for(let X=0;X<n.destroy.length;++X)n.destroy[X](q);if(q.elm=_.elm,le){for(let N=0;N<n.create.length;++N)n.create[N](Qe,q);const X=q.data.hook.insert;if(X.merged){const N=X.fns.slice(1);for(let re=0;re<N.length;re++)N[re]()}}else bt(q);q=q.parent}}c(G)?I([v],0,0):c(v.tag)&&R(v)}}var V;return K(_,Y,B),_.elm}})({nodeOps:Co,modules:[Do,Po,Mo,zo,Ho,ae?{create:Yi,activate:Yi,remove(e,t){e.data.show!==!0?Xi(e,t):t()}}:{}].concat($o)});Ve&&document.addEventListener("selectionchange",(()=>{const e=document.activeElement;e&&e.vmodel&&ln(e,"input")}));const Gi={inserted(e,t,s,n){s.tag==="select"?(n.elm&&!n.elm._vOptions?Ze(s,"postpatch",(()=>{Gi.componentUpdated(e,t,s)})):Zi(e,t,s.context),e._vOptions=[].map.call(e.options,hs)):(s.tag==="textarea"||Zs(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Uo),e.addEventListener("compositionend",er),e.addEventListener("change",er),Ve&&(e.vmodel=!0)))},componentUpdated(e,t,s){if(s.tag==="select"){Zi(e,t,s.context);const n=e._vOptions,i=e._vOptions=[].map.call(e.options,hs);i.some(((r,a)=>!Q(r,n[a])))&&(e.multiple?t.value.some((r=>Qi(r,i))):t.value!==t.oldValue&&Qi(t.value,i))&&ln(e,"change")}}};function Zi(e,t,s){Ji(e,t),(je||mn)&&setTimeout((()=>{Ji(e,t)}),0)}function Ji(e,t,s){const n=t.value,i=e.multiple;if(i&&!Array.isArray(n))return;let r,a;for(let d=0,f=e.options.length;d<f;d++)if(a=e.options[d],i)r=_e(n,hs(a))>-1,a.selected!==r&&(a.selected=r);else if(Q(hs(a),n))return void(e.selectedIndex!==d&&(e.selectedIndex=d));i||(e.selectedIndex=-1)}function Qi(e,t){return t.every((s=>!Q(s,e)))}function hs(e){return"_value"in e?e._value:e.value}function Uo(e){e.target.composing=!0}function er(e){e.target.composing&&(e.target.composing=!1,ln(e.target,"input"))}function ln(e,t){const s=document.createEvent("HTMLEvents");s.initEvent(t,!0,!0),e.dispatchEvent(s)}function cn(e){return!e.componentInstance||e.data&&e.data.transition?e:cn(e.componentInstance._vnode)}var Wo={bind(e,{value:t},s){const n=(s=cn(s)).data&&s.data.transition,i=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;t&&n?(s.data.show=!0,on(s,(()=>{e.style.display=i}))):e.style.display=t?i:"none"},update(e,{value:t,oldValue:s},n){!t!=!s&&((n=cn(n)).data&&n.data.transition?(n.data.show=!0,t?on(n,(()=>{e.style.display=e.__vOriginalDisplay})):Xi(n,(()=>{e.style.display="none"}))):e.style.display=t?e.__vOriginalDisplay:"none")},unbind(e,t,s,n,i){i||(e.style.display=e.__vOriginalDisplay)}},Vo={model:Gi,show:Wo};const tr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function un(e){const t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?un(Wn(t.children)):e}function sr(e){const t={},s=e.$options;for(const i in s.propsData)t[i]=e[i];const n=s._parentListeners;for(const i in n)t[ye(i)]=n[i];return t}function nr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}const Xo=e=>e.tag||It(e),Ko=e=>e.name==="show";var Yo={name:"transition",props:tr,abstract:!0,render(e){let t=this.$slots.default;if(!t||(t=t.filter(Xo),!t.length))return;const s=this.mode,n=t[0];if((function(m){for(;m=m.parent;)if(m.data.transition)return!0})(this.$vnode))return n;const i=un(n);if(!i)return n;if(this._leaving)return nr(e,n);const r=`__transition-${this._uid}-`;i.key=i.key==null?i.isComment?r+"comment":r+i.tag:x(i.key)?String(i.key).indexOf(r)===0?i.key:r+i.key:i.key;const a=(i.data||(i.data={})).transition=sr(this),d=this._vnode,f=un(d);if(i.data.directives&&i.data.directives.some(Ko)&&(i.data.show=!0),f&&f.data&&!(function(m,g){return g.key===m.key&&g.tag===m.tag})(i,f)&&!It(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){const m=f.data.transition=p({},a);if(s==="out-in")return this._leaving=!0,Ze(m,"afterLeave",(()=>{this._leaving=!1,this.$forceUpdate()})),nr(e,n);if(s==="in-out"){if(It(i))return d;let g;const S=()=>{g()};Ze(a,"afterEnter",S),Ze(a,"enterCancelled",S),Ze(m,"delayLeave",(b=>{g=b}))}}return n}};const ir=p({tag:String,moveClass:String},tr);delete ir.mode;var Go={props:ir,beforeMount(){const e=this._update;this._update=(t,s)=>{const n=Jn(this);this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept,n(),e.call(this,t,s)}},render(e){const t=this.tag||this.$vnode.data.tag||"span",s=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=sr(this);for(let d=0;d<i.length;d++){const f=i[d];f.tag&&f.key!=null&&String(f.key).indexOf("__vlist")!==0&&(r.push(f),s[f.key]=f,(f.data||(f.data={})).transition=a)}if(n){const d=[],f=[];for(let m=0;m<n.length;m++){const g=n[m];g.data.transition=a,g.data.pos=g.elm.getBoundingClientRect(),s[g.key]?d.push(g):f.push(g)}this.kept=e(t,null,d),this.removed=f}return e(t,null,r)},updated(){const e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Zo),e.forEach(Jo),e.forEach(Qo),this._reflow=document.body.offsetHeight,e.forEach((s=>{if(s.data.moved){const n=s.elm,i=n.style;ct(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(fs,n._moveCb=function r(a){a&&a.target!==n||a&&!/transform$/.test(a.propertyName)||(n.removeEventListener(fs,r),n._moveCb=null,Be(n,t))})}})))},methods:{hasMove(e,t){if(!Fi)return!1;if(this._hasMove)return this._hasMove;const s=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((i=>{Ai(s,i)})),Mi(s,t),s.style.display="none",this.$el.appendChild(s);const n=Ui(s);return this.$el.removeChild(s),this._hasMove=n.hasTransform}}};function Zo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Jo(e){e.data.newPos=e.elm.getBoundingClientRect()}function Qo(e){const t=e.data.pos,s=e.data.newPos,n=t.left-s.left,i=t.top-s.top;if(n||i){e.data.moved=!0;const r=e.elm.style;r.transform=r.WebkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s"}}var ea={Transition:Yo,TransitionGroup:Go};return ne.config.mustUseProp=(e,t,s)=>s==="value"&&go(e)&&t!=="button"||s==="selected"&&e==="option"||s==="checked"&&e==="input"||s==="muted"&&e==="video",ne.config.isReservedTag=bi,ne.config.isReservedAttr=mo,ne.config.getTagNamespace=function(e){return Gs(e)?"svg":e==="math"?"math":void 0},ne.config.isUnknownElement=function(e){if(!ae)return!0;if(bi(e))return!1;if(e=e.toLowerCase(),ls[e]!=null)return ls[e];const t=document.createElement(e);return e.indexOf("-")>-1?ls[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ls[e]=/HTMLUnknownElement/.test(t.toString())},p(ne.options.directives,Vo),p(ne.options.components,ea),ne.prototype.__patch__=ae?qo:k,ne.prototype.$mount=function(e,t){return(function(s,n,i){let r;s.$el=n,s.$options.render||(s.$options.render=st),$e(s,"beforeMount"),r=()=>{s._update(s._render(),i)},new At(s,r,k,{before(){s._isMounted&&!s._isDestroyed&&$e(s,"beforeUpdate")}},!0),i=!1;const a=s._preWatchers;if(a)for(let d=0;d<a.length;d++)a[d].run();return s.$vnode==null&&(s._isMounted=!0,$e(s,"mounted")),s})(this,e=e&&ae?(function(s){return typeof s=="string"?document.querySelector(s)||document.createElement("div"):s})(e):void 0,t)},ae&&setTimeout((()=>{}),0),p(ne,Zr),pn.exports=ne,pn.exports}var dr;function Ua(){return dr||(dr=1,hn.exports=qa()),hn.exports}/*!
 * vue-virtual-scroll-list v2.3.4
 * open source under the MIT license
 * https://github.com/tangbc/vue-virtual-scroll-list#readme
 */var Wa=ms.exports,fr;function Va(){return fr||(fr=1,(function(l,o){(function(u,h){l.exports=h(Ua())})(Wa,(function(u){u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;function h(w,p){var y=Object.keys(w);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(w);p&&(k=k.filter(function(M){return Object.getOwnPropertyDescriptor(w,M).enumerable})),y.push.apply(y,k)}return y}function c(w){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?h(Object(y),!0).forEach(function(k){O(w,k,y[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(y)):h(Object(y)).forEach(function(k){Object.defineProperty(w,k,Object.getOwnPropertyDescriptor(y,k))})}return w}function T(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}function x(w,p){for(var y=0;y<p.length;y++){var k=p[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}function C(w,p,y){return p&&x(w.prototype,p),Object.defineProperty(w,"prototype",{writable:!1}),w}function O(w,p,y){return p in w?Object.defineProperty(w,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[p]=y,w}function j(w){return P(w)||A(w)||te(w)||Me()}function P(w){if(Array.isArray(w))return oe(w)}function A(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function te(w,p){if(w){if(typeof w=="string")return oe(w,p);var y=Object.prototype.toString.call(w).slice(8,-1);if(y==="Object"&&w.constructor&&(y=w.constructor.name),y==="Map"||y==="Set")return Array.from(w);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return oe(w,p)}}function oe(w,p){(p==null||p>w.length)&&(p=w.length);for(var y=0,k=new Array(p);y<p;y++)k[y]=w[y];return k}function Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe={FRONT:"FRONT",BEHIND:"BEHIND"},se={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},et=0,Ce=(function(){function w(p,y){T(this,w),this.init(p,y)}return C(w,[{key:"init",value:function(y,k){this.param=y,this.callUpdate=k,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.fixedSizeValue=0,this.calcType=se.INIT,this.offset=0,this.direction="",this.range=Object.create(null),y&&this.checkRange(0,y.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var y=Object.create(null);return y.start=this.range.start,y.end=this.range.end,y.padFront=this.range.padFront,y.padBehind=this.range.padBehind,y}},{key:"isBehind",value:function(){return this.direction===fe.BEHIND}},{key:"isFront",value:function(){return this.direction===fe.FRONT}},{key:"getOffset",value:function(y){return(y<1?0:this.getIndexOffset(y))+this.param.slotHeaderSize}},{key:"updateParam",value:function(y,k){var M=this;this.param&&y in this.param&&(y==="uniqueIds"&&this.sizes.forEach(function(J,Q){k.includes(Q)||M.sizes.delete(Q)}),this.param[y]=k)}},{key:"saveSize",value:function(y,k){this.sizes.set(y,k),this.calcType===se.INIT?(this.fixedSizeValue=k,this.calcType=se.FIXED):this.calcType===se.FIXED&&this.fixedSizeValue!==k&&(this.calcType=se.DYNAMIC,delete this.fixedSizeValue),this.calcType!==se.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=j(this.sizes.values()).reduce(function(M,J){return M+J},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var y=this.range.start;this.isFront()?y=y-et:this.isBehind()&&(y=y+et),y=Math.max(y,0),this.updateRange(this.range.start,this.getEndByStart(y))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(y){this.direction=y<this.offset||y===0?fe.FRONT:fe.BEHIND,this.offset=y,this.param&&(this.direction===fe.FRONT?this.handleFront():this.direction===fe.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var y=this.getScrollOvers();if(!(y>this.range.start)){var k=Math.max(y-this.param.buffer,0);this.checkRange(k,this.getEndByStart(k))}}},{key:"handleBehind",value:function(){var y=this.getScrollOvers();y<this.range.start+this.param.buffer||this.checkRange(y,this.getEndByStart(y))}},{key:"getScrollOvers",value:function(){var y=this.offset-this.param.slotHeaderSize;if(y<=0)return 0;if(this.isFixedType())return Math.floor(y/this.fixedSizeValue);for(var k=0,M=0,J=0,Q=this.param.uniqueIds.length;k<=Q;){if(M=k+Math.floor((Q-k)/2),J=this.getIndexOffset(M),J===y)return M;J<y?k=M+1:J>y&&(Q=M-1)}return k>0?--k:0}},{key:"getIndexOffset",value:function(y){if(!y)return 0;for(var k=0,M=0,J=0;J<y;J++)M=this.sizes.get(this.param.uniqueIds[J]),k=k+(typeof M=="number"?M:this.getEstimateSize());return k}},{key:"isFixedType",value:function(){return this.calcType===se.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(y,k){var M=this.param.keeps,J=this.param.uniqueIds.length;J<=M?(y=0,k=this.getLastIndex()):k-y<M-1&&(y=k-M+1),this.range.start!==y&&this.updateRange(y,k)}},{key:"updateRange",value:function(y,k){this.range.start=y,this.range.end=k,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(y){var k=y+this.param.keeps-1,M=Math.min(k,this.getLastIndex());return M}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var y=this.range.end,k=this.getLastIndex();return this.isFixedType()?(k-y)*this.fixedSizeValue:(k-y)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),w})(),Lt={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:""},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},F={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},slotComponent:{type:Function},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},ce={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},dt={created:function(){this.shapeKey=this.horizontal?"offsetWidth":"offsetHeight"},mounted:function(){var p=this;typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(){p.dispatchSizeChange()}),this.resizeObserver.observe(this.$el))},updated:function(){this.resizeObserver.observe(this.$el)},beforeDestroy:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},methods:{getCurrentSize:function(){return this.$el?this.$el[this.shapeKey]:0},dispatchSizeChange:function(){this.$parent.$emit(this.event,this.uniqueKey,this.getCurrentSize(),this.hasInitial)}}},ye=u.component("virtual-list-item",{mixins:[dt],props:F,render:function(p){var y=this.tag,k=this.component,M=this.extraProps,J=M===void 0?{}:M,Q=this.index,_e=this.source,be=this.scopedSlots,Ae=be===void 0?{}:be,Ue=this.uniqueKey,Oe=this.slotComponent,ze=c(c({},J),{},{source:_e,index:Q});return p(y,{key:Ue,attrs:{role:"listitem"}},[Oe?Oe({item:_e,index:Q,scope:ze}):p(k,{props:ze,scopedSlots:Ae})])}}),ft=u.component("virtual-list-slot",{mixins:[dt],props:ce,render:function(p){var y=this.tag,k=this.uniqueKey;return p(y,{key:k,attrs:{role:k}},this.$slots.default)}}),tt={ITEM:"item_resize",SLOT:"slot_resize"},De={HEADER:"thead",FOOTER:"tfoot"},Ht=u.component("virtual-list",{props:Lt,data:function(){return{range:null}},watch:{"dataSources.length":function(){this.virtual.updateParam("uniqueIds",this.getUniqueIdFromDataSources()),this.virtual.handleDataSourcesChange()},keeps:function(p){this.virtual.updateParam("keeps",p),this.virtual.handleSlotSizeChange()},start:function(p){this.scrollToIndex(p)},offset:function(p){this.scrollToOffset(p)}},created:function(){this.isHorizontal=this.direction==="horizontal",this.directionKey=this.isHorizontal?"scrollLeft":"scrollTop",this.installVirtual(),this.$on(tt.ITEM,this.onItemResized),(this.$slots.header||this.$slots.footer)&&this.$on(tt.SLOT,this.onSlotResized)},activated:function(){this.scrollToOffset(this.virtual.offset),this.pageMode&&document.addEventListener("scroll",this.onScroll,{passive:!1})},deactivated:function(){this.pageMode&&document.removeEventListener("scroll",this.onScroll)},mounted:function(){this.start?this.scrollToIndex(this.start):this.offset&&this.scrollToOffset(this.offset),this.pageMode&&(this.updatePageModeFront(),document.addEventListener("scroll",this.onScroll,{passive:!1}))},beforeDestroy:function(){this.virtual.destroy(),this.pageMode&&document.removeEventListener("scroll",this.onScroll)},methods:{getSize:function(p){return this.virtual.sizes.get(p)},getSizes:function(){return this.virtual.sizes.size},getOffset:function(){if(this.pageMode)return document.documentElement[this.directionKey]||document.body[this.directionKey];var p=this.$refs.root;return p?Math.ceil(p[this.directionKey]):0},getClientSize:function(){var p=this.isHorizontal?"clientWidth":"clientHeight";if(this.pageMode)return document.documentElement[p]||document.body[p];var y=this.$refs.root;return y?Math.ceil(y[p]):0},getScrollSize:function(){var p=this.isHorizontal?"scrollWidth":"scrollHeight";if(this.pageMode)return document.documentElement[p]||document.body[p];var y=this.$refs.root;return y?Math.ceil(y[p]):0},scrollToOffset:function(p){if(this.pageMode)document.body[this.directionKey]=p,document.documentElement[this.directionKey]=p;else{var y=this.$refs.root;y&&(y[this.directionKey]=p)}},scrollToIndex:function(p){if(p>=this.dataSources.length-1)this.scrollToBottom();else{var y=this.virtual.getOffset(p);this.scrollToOffset(y)}},scrollToBottom:function(){var p=this,y=this.$refs.shepherd;if(y){var k=y[this.isHorizontal?"offsetLeft":"offsetTop"];this.scrollToOffset(k),setTimeout(function(){p.getOffset()+p.getClientSize()+1<p.getScrollSize()&&p.scrollToBottom()},3)}},updatePageModeFront:function(){var p=this.$refs.root;if(p){var y=p.getBoundingClientRect(),k=p.ownerDocument.defaultView,M=this.isHorizontal?y.left+k.pageXOffset:y.top+k.pageYOffset;this.virtual.updateParam("slotHeaderSize",M)}},reset:function(){this.virtual.destroy(),this.scrollToOffset(0),this.installVirtual()},installVirtual:function(){this.virtual=new Ce({slotHeaderSize:0,slotFooterSize:0,keeps:this.keeps,estimateSize:this.estimateSize,buffer:Math.round(this.keeps/3),uniqueIds:this.getUniqueIdFromDataSources()},this.onRangeChanged),this.range=this.virtual.getRange()},getUniqueIdFromDataSources:function(){var p=this.dataKey;return this.dataSources.map(function(y){return typeof p=="function"?p(y):y[p]})},onItemResized:function(p,y){this.virtual.saveSize(p,y),this.$emit("resized",p,y)},onSlotResized:function(p,y,k){p===De.HEADER?this.virtual.updateParam("slotHeaderSize",y):p===De.FOOTER&&this.virtual.updateParam("slotFooterSize",y),k&&this.virtual.handleSlotSizeChange()},onRangeChanged:function(p){this.range=p},onScroll:function(p){var y=this.getOffset(),k=this.getClientSize(),M=this.getScrollSize();y<0||y+k>M+1||!M||(this.virtual.handleScroll(y),this.emitEvent(y,k,M,p))},emitEvent:function(p,y,k,M){this.$emit("scroll",M,this.virtual.getRange()),this.virtual.isFront()&&this.dataSources.length&&p-this.topThreshold<=0?this.$emit("totop"):this.virtual.isBehind()&&p+y+this.bottomThreshold>=k&&this.$emit("tobottom")},getRenderSlots:function(p){for(var y=[],k=this.range,M=k.start,J=k.end,Q=this.dataSources,_e=this.dataKey,be=this.itemClass,Ae=this.itemTag,Ue=this.itemStyle,Oe=this.isHorizontal,ze=this.extraProps,Le=this.dataComponent,ht=this.itemScopedSlots,Z=this.$scopedSlots&&this.$scopedSlots.item,Pe=M;Pe<=J;Pe++){var We=Q[Pe];if(We){var ae=typeof _e=="function"?_e(We):We[_e];typeof ae=="string"||typeof ae=="number"?y.push(p(ye,{props:{index:Pe,tag:Ae,event:tt.ITEM,horizontal:Oe,uniqueKey:ae,source:We,extraProps:ze,component:Le,slotComponent:Z,scopedSlots:ht},style:Ue,class:"".concat(be).concat(this.itemClassAdd?" "+this.itemClassAdd(Pe):"")})):console.warn("Cannot get the data-key '".concat(_e,"' from data-sources."))}else console.warn("Cannot get the index '".concat(Pe,"' from data-sources."))}return y}},render:function(p){var y=this.$slots,k=y.header,M=y.footer,J=this.range,Q=J.padFront,_e=J.padBehind,be=this.isHorizontal,Ae=this.pageMode,Ue=this.rootTag,Oe=this.wrapTag,ze=this.wrapClass,Le=this.wrapStyle,ht=this.headerTag,Z=this.headerClass,Pe=this.headerStyle,We=this.footerTag,ae=this.footerClass,ge=this.footerStyle,je={padding:be?"0px ".concat(_e,"px 0px ").concat(Q,"px"):"".concat(Q,"px 0px ").concat(_e,"px")},Ve=Le?Object.assign({},Le,je):je;return p(Ue,{ref:"root",on:{"&scroll":!Ae&&this.onScroll}},[k?p(ft,{class:Z,style:Pe,props:{tag:ht,event:tt.SLOT,uniqueKey:De.HEADER}},k):null,p(Oe,{class:ze,attrs:{role:"group"},style:Ve},this.getRenderSlots(p)),M?p(ft,{class:ae,style:ge,props:{tag:We,event:tt.SLOT,uniqueKey:De.FOOTER}},M):null,p("div",{ref:"shepherd",style:{width:be?"0px":"100%",height:be?"100%":"0px"}})])}});return Ht}))})(ms)),ms.exports}var Xa=Va();const Ka=sa(Xa),Ya=Tt({name:"RouteDropdown",components:{RouteDropDown:gs,VirtualList:Ka},props:{highlightedTransitLines:{type:Array,required:!0},listProps:{type:Object,required:!0}},data(){return{listComponent:gs}},watch:{"listProps.activeTransitLines"(){}},computed:{visibleLines(){return this.highlightedTransitLines.map((l,o)=>(l.offset=o,l)).filter(l=>l.show)}}});var Ga=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("virtual-list",{staticClass:"my-list",attrs:{"data-sources":o.visibleLines,"data-key":"id","data-component":o.listComponent,keeps:48,"estimate-size":48,"extra-props":o.listProps}})},Za=[],Ja=Ot(Ya,Ga,Za,!1,null,"b40e4d1c");const Qa=Ja.exports,el="/assets/icon-pie-chart-BS7BHQ_l.png",tl="/assets/icon-blue-ramp-D1d4h-6x.png",sl={messages:{en:{metrics:"Metrics",viewer:"Transit Network"},de:{metrics:"Metrics",viewer:"ÖV Netzwerk"}}},nl="EPSG:31468",hr=[{match:{gtfsRouteType:[3,700,701,702,703,704]},color:"#95276E",label:"Bus (GTFS)"},{match:{gtfsRouteType:[109]},color:"#408335",label:"S-Bahn (GTFS)"},{match:{gtfsRouteType:[401,402]},color:"#115D91",label:"U-Bahn (GTFS)"},{match:{gtfsRouteType:[0,3,900,901,902,903,904,905,906]},color:"#BE1414",label:"Tram (GTFS)"},{match:{gtfsRouteType:[4,1e3,1200]},color:"#0480c1",label:"Ferry (GTFS)"},{match:{transportMode:["rail","subway"],id:"U*"},color:"#115D91",label:"U-Bahn"},{match:{transportMode:"rail",id:"S*"},color:"#408335",label:"S-Bahn"},{match:{transportMode:"ferry"},color:"#0480c1",label:"Ferry"},{match:{transportMode:"tram"},color:"#9E1444",label:"Tram"},{match:{transportMode:"pt"},color:"#05c",label:"Public Transport"},{match:{transportMode:"rail"},color:"#EC0016 ",label:"Train"},{match:{transportMode:"train"},color:"#0a0",label:"Rail"},{match:{transportMode:"bus"},color:"#95276E",label:"Bus"},{match:{id:"**"},color:"#aae",label:"Other"}],il=Tt({name:"TransitViewer",i18n:sl,components:{CollapsiblePanel:pa,DrawingTool:ga,LeftDataPanel:Oa,LegendBox:ja,RouteDropDown:gs,TransitLayers:Ra,ZoomButtons:va,LazyList:Qa},props:{root:{type:String,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,config:{type:Object},thumbnail:Boolean,datamanager:{type:Object}},data(){const l=[{field:"departures",name_en:"Departures",name_de:"Abfahrten"}];return{viewId:Math.floor(1e12*Math.random()),icons:{piechart:el,blueramp:tl},loadProgress:0,loadSteps:0,totalLoadSteps:7,searchText:"",isAtlantis:!1,isDraggingDivider:0,dragStartWidth:250,legendSectionWidth:275,stopHTML:{html:"",x:0,y:0},buttonColors:["#5E8AAE","#BF7230","#269367","#9C439C"],metrics:l,activeMetric:l[0].field,activeRoutes:[],checkedTransitLines:[],vizDetails:{transitSchedule:"",network:"",demand:"",ptStop2stopFile:"",projection:"",title:"",description:"",colors:[]},myDataManager:this.datamanager||new aa(this.root,this.subfolder),debounceHandleSearchText:{},myState:{subfolder:"",yamlConfig:"",thumbnail:!0},avroNetwork:null,isDarkMode:ut.state.isDarkMode,isMapMoving:!1,isHighlightingLink:!1,loadingText:"MATSim Transit Inspector",networkOptions:[],projection:nl,routesOnLink:[],selectedLinkId:"",selectedRouteIds:[],selectedTransitLine:"",selectedFeatures:[],summaryStats:{departures:0,pax:0,loadfac:0},stopMarkers:[],_departures:{},_mapExtentXYXY:null,_maximum:-1/0,_network:{},transitLinks:{type:"FeatureCollection",features:[]},transitLinkOffset:{},routeData:{},_stopFacilities:{},transitLines:[],highlightedTransitLineIds:new Set,_transitFetcher:{},_transitHelper:{},pieSlider:20,widthSlider:20,resolvers:{},resolverId:0,crossFilters:[],stopLevelDemand:{},routeColors:[],usedLabels:[],listComponent:gs}},computed:{fileApi(){return new ha(this.fileSystem,ut)},fileSystem(){const l=this.$store.state.svnProjects.filter(o=>o.slug===this.root);if(l.length===0)throw console.log("no such project"),Error;return l[0]},routeListProps(){return{activeTransitLines:this.activeTransitLines,selectedRoutes:this.selectedRouteIds,searchTerm:this.searchTermClean,color:"#06f",cbToggleLineChecked:this.toggleLineChecked,cbToggleLineOpen:this.toggleLineOpen,cbToggleRouteChecked:this.toggleRouteChecked}},searchTermClean(){return this.searchText.trim().toLocaleLowerCase()},highlightedTransitLines(){const l=!this.highlightedTransitLineIds.size;return this.transitLines.forEach(o=>{o.show=l||this.highlightedTransitLineIds.has(o.id)}),[...this.transitLines]},activeTransitLines(){const l={};this.routesOnLink.forEach(u=>{u.lineId in l||(l[u.lineId]={id:u.lineId,routes:[],isOpen:!1,stats:{departures:0,pax:0,cap:0}}),l[u.lineId].routes.push(u)});const o={};return this.crossFilters.forEach(u=>{u.cfDemandStop.filterAll(),u.cfDemandLink.filter(c=>c.indexOf(this.selectedLinkId)>-1);let h=u.cfDemand.allFiltered();h&&h.forEach(c=>{c.transitRoute in o||(o[c.transitRoute]=[]),o[c.transitRoute].push(c)})}),Object.values(l).forEach(u=>{u.routes.sort((h,c)=>ar(h.id,c.id)),u.routes.forEach(h=>{h.pax=0,h.cap=0,u.stats.departures+=h.departures;const c=o[h.id];if(c){const T=c.reduce((C,O)=>C+O.passengersAtArrival,0);u.stats.pax+=T,h.pax+=T;const x=c.reduce((C,O)=>C+O.totalVehicleCapacity,0);u.stats.cap+=x,h.cap+=x}h.loadfac=h.pax/h.cap})}),l},legendRows(){return this.routeColors.filter(l=>this.usedLabels.includes(l.label)).map(l=>[l.color,l.label])}},watch:{"$store.state.colorScheme"(){this.isDarkMode=this.$store.state.colorScheme===na.DarkMode,this.highlightAllAttachedRoutes()},selectedRouteIds(){this.showTransitRoutes(),this.showTransitStops(),this.updateSummaryStats()},searchText(){this.debounceHandleSearchText()}},methods:{async selectNetwork(l){console.log(l),this.vizDetails.network=l,this.networkOptions=[],await this.findInputFiles(),await this.loadEverything()},clickedLegend(l){console.log("boop!",l)},toggleRouteChecked(l){l.isChecked?this.routesOnLink.push(this.routeData[l.route]):this.routesOnLink=this.routesOnLink.filter(o=>o.id!==l.route),this.routesOnLink.length?this.highlightAllAttachedRoutes():(this.selectedLinkId="",this.resetLinkColors(),this.highlightedTransitLineIds=new Set,this.transitLinks={...this.transitLinks}),this.selectedRouteIds=this.routesOnLink.map(o=>o.id)},toggleLineOpen(l){const o=this.transitLines[l.offset];o.isOpen=l.isOpen},toggleLineChecked(l){const o=this.transitLines[l.offset],u=o.id.toLocaleLowerCase();o.check=l.isChecked;const h=Object.values(this.routeData).filter(c=>c.lineId.toLocaleLowerCase()==u);if(o.check)h.forEach(c=>{this.selectedRouteIds.includes(c.id)||this.routesOnLink.push(c)}),this.selectedTransitLine=o.id;else{const c=h.map(T=>T.id);this.routesOnLink=this.routesOnLink.filter(T=>!c.includes(T.id))}this.selectedRouteIds=this.routesOnLink.map(c=>c.id),this.routesOnLink.length?this.highlightAllAttachedRoutes():(this.selectedLinkId="",this.resetLinkColors(),this.highlightedTransitLineIds=new Set,this.transitLinks={...this.transitLinks})},updateSummaryStats(){this.summaryStats={departures:0,pax:0,loadfac:0};for(const l of this.selectedRouteIds){const o=this.routeData[l];o.departures&&(this.summaryStats.departures+=o.departures),o.pax&&(this.summaryStats.pax+=o.pax)}},handleMapClick(l){if(l.index>-1&&l.layer?.id==="linkLayer")this.clickedOnTransitLink(l.index);else{if(l.index>-1)return;this.handleEmptyClick(!0,!1)}},incrementLoadProgress(){this.loadSteps+=1,this.loadProgress=100*this.loadSteps/this.totalLoadSteps},handleSearchText(){this.handleEmptyClick(null,!0),this.selectedLinkId="";const l=this.searchText.trim().toLocaleLowerCase();if(!l){this.resetLinkColors();return}let o=[],u=[],h;if(l.startsWith("/")&&l.endsWith("/")){const c=this.searchText.slice(1,this.searchText.length-1);h=new RegExp(c,"gu")}h?(o=Object.keys(this.routeData).filter(c=>c.match(h)),u=this.transitLines.filter(c=>c.id.match(h)).map(c=>c.id)):(o=Object.keys(this.routeData).filter(c=>c.toLocaleLowerCase().indexOf(l)>-1),u=this.transitLines.filter(c=>c.id.toLocaleLowerCase().indexOf(l)>-1).map(c=>c.id)),this.routesOnLink=o.map(c=>this.routeData[c]),this.highlightAllAttachedRoutes(),this.highlightedTransitLineIds=new Set(u),this.selectedRouteIds=this.routesOnLink.map(c=>c.id)},hoverOverStop(l,o){this.stopHTML.html="";const u=[];l.name&&u.push(`<b>${l.name}</b>`);for(const h of["id","linkRefId"])l[h]&&u.push(`${h}: ${l[h]}`);this.stopHTML.html="<p>"+u.join("<br/>")+"</p>",this.stopHTML.x=l.xy.x+8,this.stopHTML.y=l.xy.y-36},dividerDragStart(l){console.log("dragstart"),this.isDraggingDivider=l.clientX,this.dragStartWidth=this.legendSectionWidth},dividerDragEnd(l){this.isDraggingDivider=0},dividerDragging(l){if(!this.isDraggingDivider)return;const o=this.isDraggingDivider-l.clientX;this.legendSectionWidth=Math.max(0,this.dragStartWidth+o)},async getVizDetails(){if(this.config)return this.vizDetails=Object.assign({},this.config),!0;if(this.myState.yamlConfig?.endsWith("yaml")||this.myState.yamlConfig?.endsWith("yml"))return this.loadYamlConfig();const l=this.myState.yamlConfig;return this.vizDetails={transitSchedule:this.myState.yamlConfig,network:"",title:l,description:"",demand:"",ptStop2stopFile:"",projection:"",colors:[]},this.$emit("title",l),!0},async findInputFiles(){const{files:l}=await this.fileApi.getDirectory(this.myState.subfolder);let o=this.vizDetails.network;if(!o){const h=l.filter(c=>c.toLocaleLowerCase().endsWith(".avro")).filter(c=>c.toLocaleLowerCase().indexOf("network")>-1);h.length&&(console.log("avro network found"),o=h[0]),h.length>1&&console.warn("MULTIPLE Avro files found - using first of ",h)}if(!o&&this.myState.yamlConfig.indexOf("transitSchedule")>-1&&(o=this.myState.yamlConfig.replaceAll("transitSchedule","network")),l.indexOf(o)==-1){const h=l.filter(T=>T.toLocaleLowerCase().match(/(\.xml|\.gz)$/)),c=[];if(await Promise.all(h.map(async T=>{const x=`${this.myState.subfolder}/${T}`;await this.fileApi.probeXmlFileType(x)==="network"&&c.push(T)})),console.log("all networks",c),c.length==1)o=c[0];else{this.loadingText="Choose network file:",o="",this.networkOptions=c;return}}let u=[];if(this.myState.yamlConfig.indexOf("output_transitSchedule")>-1)try{u=(await this.fileApi.getDirectory(`${this.myState.subfolder}/analysis/pt/`)).files.filter(c=>c.includes("pt_pax_volumes."))}catch{console.log("no transit demand file: pt_pax_volumes")}this.vizDetails.network=o,u.length&&(this.vizDetails.demand=`analysis/pt/${u[0]}`)},async guessProjection(l){if(this.vizDetails.projection)return this.vizDetails.projection;if(this.config?.projection)return this.config.projection;if(l?.roadXML?.crs)return l?.roadXML?.crs;if(l?.roadXML?.network?.attributes?.attribute?.name==="coordinateReferenceSystem")return l?.roadXML?.network?.attributes?.attribute["#text"];const o=/EPSG:.\d/,{files:u}=await this.fileApi.getDirectory(this.myState.subfolder),h=u.filter(x=>x.indexOf(".output_config.xml")>-1||x.indexOf(".output_config_reduced.xml")>-1);if(h.length&&this.fileSystem)for(const x of h)try{return(await this.fetchXML({worker:null,slug:this.fileSystem.slug,filePath:this.myState.subfolder+"/"+x})).config.module.filter(A=>A.$name==="global")[0].param.filter(A=>A.$name==="coordinateSystem")[0].$value}catch{console.warn("Failed parsing",x)}let c=prompt("Need coordinate EPSG number:","")||"";return c?Number.isNaN(parseInt(c,10))&&!o.test(c)?this.guessProjection(l):(c.startsWith("EPSG:")||(c="EPSG:"+c),c):""},async loadYamlConfig(){const l=this.myState.yamlConfig.indexOf("/")>-1?this.myState.yamlConfig:this.myState.subfolder+"/"+this.myState.yamlConfig;try{const u=await this.fileApi.getFileText(l);this.vizDetails=da.parse(u)}catch(u){const h=u;if(this.fileSystem&&this.fileSystem.needPassword&&h.status===401)this.$store.commit("requestLogin",this.fileSystem.slug);else{const c="Could not load "+l;this.$emit("error",c),this.loadingText=c}return!1}const o=this.vizDetails.title?this.vizDetails.title:"Transit Ridership";return this.$emit("title",o),this.projection=this.vizDetails.projection,!0},isMobile(){const l=window,o=document,u=o.documentElement,h=o.getElementsByTagName("body")[0],c=l.innerWidth||u.clientWidth||h.clientWidth;return l.innerHeight||u.clientHeight||h.clientHeight,c<640},drawMetric(){this.transitLinks.features.forEach(l=>{let o=1;switch(this.activeMetric){case"departures":o=l.properties.departures;break;case"pax":o=l.properties.pax;break;case"loadfac":o=l.properties.loadfac*1e4;break}l.properties.width=o}),this.transitLinks={...this.transitLinks}},handleClickedMetric(l){console.log("metric:",l.field),this.activeMetric=l.field,this.drawMetric()},handleEmptyClick(l,o){if(!l&&this.isHighlightingLink){this.isHighlightingLink=!1;return}this.isHighlightingLink=!1,this.highlightedTransitLineIds=new Set,o||(this.searchText=""),!(this.searchText&&!o)&&(this.removeStopMarkers(),this.removeSelectedRoute(),this.resetLinkColors(),this.routesOnLink=[],this.stopHTML.html="",this.summaryStats={departures:0,pax:0,loadfac:0},this.transitLinks={...this.transitLinks})},async loadEverything(){const l=await this.loadNetworks();if(!l)return;const o=await this.guessProjection(l);this.projection=o,this.processInputs(l)},setupKeyListeners(){window.addEventListener("keyup",l=>{l.keyCode===27&&this.pressedEscape()}),window.addEventListener("keydown",l=>{l.keyCode===38&&this.pressedArrowKey(-1),l.keyCode===40&&this.pressedArrowKey(1)})},fetchXML(l){let o=l.worker;o.onmessage=c=>{const{resolve:T,reject:x}=this.resolvers[c.data.id];o.terminate(),c.data.error&&x(c.data.error),T(c.data.xml)};const u=this.resolverId++;return o.postMessage({id:u,fileSystem:this.fileSystem,filePath:l.filePath,options:l.options}),new Promise((c,T)=>{this.resolvers[u]={resolve:c,reject:T}})},async updateStatus(l){this.loadingText=l},async loadAvroRoadNetwork(){console.log("LOADING AVRO:",this.vizDetails.network);const l=`${this.subfolder}/${this.vizDetails.network}`,o=await this.fileApi.getFileBlob(l),u=await new Promise((h,c)=>{const T=[];oa.createBlobDecoder(o).on("metadata",x=>{}).on("data",x=>{T.push(x)}).on("end",()=>{h(T)})});return this.avroNetwork=u[0],u[0]},async loadNetworks(){try{if(!this.fileSystem||!this.vizDetails.network||!this.vizDetails.transitSchedule)return;this.loadingText="Loading networks...",this.incrementLoadProgress();const l=this.vizDetails.network,o=await this.myDataManager.getRoadNetwork(l,this.subfolder,this.vizDetails,this.updateStatus);this.isAtlantis=!!o.isAtlantis,this.avroNetwork=o;const u=this.fetchXML({worker:this._transitFetcher,slug:this.fileSystem.slug,filePath:this.myState.subfolder+"/"+this.vizDetails.transitSchedule,options:{attributeNamePrefix:"",alwaysArray:["transitSchedule.transitLine.transitRoute","transitSchedule.transitLine.transitRoute.departures.departure"]}}),h=await Promise.all([o,u]);return{roadXML:h[0],transitXML:h[1],ridership:[]}}catch(l){return console.error("TRANSIT:",l),this.loadingText="",this.$emit("error",""+l),null}},loadDemandData(l){return this.totalLoadSteps+=3,this.loadingText="Loading demand...",new Promise((u,h)=>{l||u([]),this.incrementLoadProgress();const c=new Sa;c.onmessage=T=>{if(this.loadingText="Processing demand...",this.incrementLoadProgress(),c.terminate(),T.data.error){this.$emit("error",T.data.error),this.loadingText="";return}const x=1e8;let C=0,O=new Uint8Array(T.data);const j=new TextDecoder("utf-8"),P=j.decode(O.subarray(0,1024)).split(`
`)[0];for(;C<T.data.byteLength;){let A=C+x,te=new Uint8Array(T.data).subarray(C,A),oe=te.length;for(;te[oe]!==10&&oe>0;)oe--;if(!oe)break;te=new Uint8Array(T.data).subarray(C,C+oe);let Me=j.decode(te);C>0&&(Me=P+Me);const fe=ua.parse(Me,{header:!0,skipEmptyLines:!0,dynamicTyping:!1});this.processDemand(fe),C+=oe}this.metrics=this.metrics.concat([{field:"pax",name_en:"Passengers",name_de:"Passagiere"},{field:"loadfac",name_en:"Load Factor",name_de:"Auslastung"}]),this.loadProgress=100,this.transitLinks.features.forEach(A=>{try{A.properties.loadfac=Math.round(1e3*A.properties.pax/A.properties.cap)/1e3}catch{A.properties.loadfac=0}}),u([])},c.postMessage({filePath:this.myState.subfolder+"/"+l,fileSystem:this.fileSystem})})},processDemand(l){this.loadingText="Summarizing demand data...",this.incrementLoadProgress();const o=["passengersAlighting","passengersAtArrival","passengersBoarding","stopSequence","totalVehicleCapacity"];l.data.forEach(x=>{for(const C of o)x[C]=parseFloat(x[C])});const u=la(l.data);this.crossFilters.push({cfDemand:u,cfDemandLink:u.dimension(x=>x.linkIdsSincePreviousStop),cfDemandStop:u.dimension(x=>x.stop)});for(const x of l.data){const C=x.stop;this.stopLevelDemand[C]||(this.stopLevelDemand[C]={b:0,a:0,ptLines:{}}),this.stopLevelDemand[C].b+=x.passengersBoarding,this.stopLevelDemand[C].a+=x.passengersAlighting;const O=x.transitLine;this.stopLevelDemand[C].ptLines[O]||(this.stopLevelDemand[C].ptLines[O]={name:O,b:0,a:0}),this.stopLevelDemand[C].ptLines[O].a+=x.passengersAlighting,this.stopLevelDemand[C].ptLines[O].b+=x.passengersBoarding}console.log("---Calculating link-by-link pax/cap");const h={},c={};let T=",";l.data.length&&(T=l.data[0].linkIdsSincePreviousStop.indexOf(",")>-1?",":";");for(const x of l.data)if(x.linkIdsSincePreviousStop){const C=x.linkIdsSincePreviousStop.split(T);for(const O of C)h[O]||(h[O]=0),h[O]+=x.passengersAtArrival,c[O]||(c[O]=0),c[O]+=x.totalVehicleCapacity}for(const x of this.transitLinks.features)x.properties||(x.properties={pax:0,cap:0,loadfac:0}),x.properties.pax=(x.properties.pax||0)+(h[x.properties.id]||0),x.properties.cap=(x.properties.cap||0)+(c[x.properties.id]||0);return[]},async processInputs(l){this.loadingText="Examining networks...",this.incrementLoadProgress(),this._transitHelper.onmessage=u=>{this.receivedProcessedTransit(u)};let o=this.vizDetails.projection;if(!o)try{let u=l?.transitXML?.transitSchedule?.attributes?.attribute;u.length||(u=[u]),u=u.filter(h=>h.name==="coordinateReferenceSystem"),u.length?o=u[0]["#text"]:o=this.projection}catch{o=this.projection}console.log("Transit schedule using",o),this._transitHelper.postMessage({xml:l,projection:o})},async receivedProcessedTransit(l){if(l.data.status){this.loadingText=l.data.status,this.incrementLoadProgress();return}if(l.data.error){console.error(l.data.error),this.$emit("error",""+l.data.error),this.loadingText="";return}const{network:o,routeData:u,stopFacilities:h,transitLines:c,mapExtent:T}=l.data;this._network=o,this.routeData=u,this._stopFacilities=h,this.transitLines=Array.isArray(c)?c:[c],this._mapExtentXYXY=T,this._transitHelper.terminate(),this.loadingText="Summarizing departures...",this.incrementLoadProgress();const x=this.vizDetails.customRouteTypes||this.vizDetails.colors||null;x&&Array.isArray(x)&&x.length>0?this.routeColors=x:x&&!Array.isArray(x)?(this.$emit("error","YAML colors must be a list of rules, see docs"),this.routeColors=hr):this.routeColors=hr,await this.processDepartures();try{this.transitLinks=await this.constructDepartureFrequencyGeoJson()}catch(te){const oe=""+te||"Failed processing departure links";this.$emit("error",oe)}this._network={links:{},nodes:{}},this.transitLinkOffset={},this.transitLinks.features.forEach((te,oe)=>{this.transitLinkOffset[te.properties.id]=oe}),this.drawMetric(),this.handleClickedMetric({field:"departures"});const C=.5*(this._mapExtentXYXY[0]+this._mapExtentXYXY[2]),O=.5*(this._mapExtentXYXY[1]+this._mapExtentXYXY[3]),j=Math.abs(this._mapExtentXYXY[0]-this._mapExtentXYXY[2]);let P=j?Math.floor(Math.log2(360/j)):9;this.$store.commit("setMapCamera",{center:[C,O],zoom:P,bearing:0,pitch:0});const A=this.vizDetails.demand||this.vizDetails.ptStop2stopFile;A&&await this.loadDemandData(A),this.loadingText=""},async processDepartures(){this.loadingText="Processing departures...",this.incrementLoadProgress();for(const l of this.transitLines){l.transitRoutes.sort((o,u)=>ar(o.id,u.id));for(const o of l.transitRoutes)for(const u of o.route)u in this._departures||(this._departures[u]={total:0,routes:new Set}),this._departures[u].total+=o.departures,this._departures[u].routes.add(o.id)}Object.values(this._departures).forEach(l=>this._maximum=Math.max(this._maximum,l.total))},async constructDepartureFrequencyGeoJson(){const l=[];this.usedLabels=[];const o=this.avroNetwork?.nodeCoordinates;for(const u in this._departures)if(this._departures.hasOwnProperty(u)){const h=this._network.links[u];if(h==null)continue;let c;try{if(this.avroNetwork){const P=2*this.avroNetwork.from[h],A=2*this.avroNetwork.to[h];c=[[o[P],o[1+P]],[o[A],o[1+A]]]}else c=[[this._network.nodes[h.from].x,this._network.nodes[h.from].y],[this._network.nodes[h.to].x,this._network.nodes[h.to].y]]}catch(P){console.warn(""+P);continue}const T=this._departures[u].total,C=[...this._departures[u].routes][0],{color:O,hideThisLine:j}=this.determineRouteColor(C);if(!j){let P={type:"Feature",geometry:{type:"LineString",coordinates:c},properties:{...this.$props,color:O,departures:T,id:u,from:h.from,to:h.to,currentColor:O}};P=this.offsetLineByMeters(P,5),l.push(P)}}if(!l.length)throw Error("No links found. Does the network contain PT links?");return{type:"FeatureCollection",features:l}},determineRouteColor(l){let o="#888",u=!1;const h=this.routeData[l];for(const T of this.routeColors){u=!1,T.hide&&(u=!0);let x=!0,C=T.match;try{if(Array.isArray(C)){const O={};for(const j of C){const[P,A]=Object.entries(j)[0];O[P]=A}C=O}}catch{console.warn("Match rules malformed",C)}for(const[O,j]of Object.entries(C)){const P=h[O];if(!P){x=!1;break}if(O==="gtfsRouteType"){if(Array.isArray(j)){if(!j.includes(P)){x=!1;break}}else if(P!==j){x=!1;break}}else if(!fa.isMatch(P,j)){x=!1;break}}if(x){o=T.color,!this.usedLabels.includes(T.label)&&!u&&this.usedLabels.push(T.label);break}}o=="#888"&&console.log("OHE NOES",l);const c=Array.isArray(o)?o:this.colorToRGB(o);return h.color=c,{color:c,hideThisLine:u}},colorToRGB(l){try{const o=pr(l);return o?[o.r,o.g,o.b]:[0,0,0]}catch{return[0,0,0]}},offsetLineByMeters(l,o){try{return ra(l,o,{units:"meters"})}catch{}return l},removeStopMarkers(){this.stopMarkers=[],this.stopHTML.html=""},XXtoggleTransitLine(l){l.isOpen=!l.isOpen,l.isOpen?(this.selectedTransitLine=l.id,this.selectAllRoutesInLine(l)):(this.selectedTransitLine="",this.removeStopMarkers(),this.removeSelectedRoute()),this.$forceUpdate()},selectAllRoutesInLine(l){const o=l.routes.map(u=>u.id);this.selectedRouteIds=o,this.showTransitRoutes(),this.showTransitStops()},showRouteDetails(l,o){if(o>1&&this.selectedRouteIds.length==o)this.selectedRouteIds=[l];else{const u=new Set(this.selectedRouteIds);u.has(l)?u.delete(l):u.add(l),this.selectedRouteIds=[...u]}this.showTransitRoutes(),this.showTransitStops()},showTransitStops(){const l={};this.selectedRouteIds.forEach(o=>{const u=this.routeData[o],h=u.routeProfile,c=h.length;let T;for(const[x,C]of h.entries()){const O=this._stopFacilities[C.refId],j=or([O.x,O.y]);if(x<c-1){const A=this._stopFacilities[u.routeProfile[x+1].refId],te=or([A.x,A.y]);T=ia(j,te)}const P={i:x,bearing:T,xy:[O.x,O.y],name:O.name||"",id:C.refId||"",linkRefId:O.linkRefId||""};if(this.stopLevelDemand){const A=this.stopLevelDemand[C.refId];A&&(P.boardings=A.b,P.alightings=A.a,P.ptLines=A.ptLines)}P.id in l?(l[P.id].boardings=P.boardings,l[P.id].alightings=P.alightings):l[P.id]=P}}),this.stopMarkers=Object.values(l)},showTransitRoutes(){this.stopHTML.html="";const l=[];this.selectedRouteIds.forEach(o=>{const u=this.routeData[o];l.push(u.geojson)}),this.selectedFeatures=l},removeSelectedRoute(){this.selectedFeatures=[],this.selectedRouteIds=[]},clickedOnTransitLink(l){this.isHighlightingLink=!0,this.removeStopMarkers(),this.removeSelectedRoute();const o=this.transitLinks.features[l].properties;this.selectedLinkId=o.id;const u=this._departures[o.id].routes;let h={departures:0,pax:0,loadfac:0};const c=this.transitLinks[this.transitLinkOffset[o.id]];this.summaryStats=c?c.properties:h;const T=[],x=new Set;for(const C of u){const O=this.routeData[C];O.color=o.color,O.currentColor=o.color,T.push(O),x.add(O.lineId)}this.routesOnLink=T,this.highlightAllAttachedRoutes(),this.selectedRouteIds=this.routesOnLink.map(C=>C.id),this.highlightedTransitLineIds=x},resetLinkColors(l){if(l)for(const o of this.transitLinks.features)o.properties.currentColor=l,o.properties.sort=0;else for(const o of this.transitLinks.features)o.properties.currentColor=o.properties.color,o.properties.sort=1},highlightAllAttachedRoutes(){if(this.transitLinks){if(this.routesOnLink.length){const l=this.colorToRGB(this.isDarkMode?"#333344":"#ccccdd");this.resetLinkColors(l)}else this.resetLinkColors();for(const l of this.routesOnLink)for(const o of l.route){const u=this.transitLinkOffset[o],h=this.transitLinks.features[u];h.properties.currentColor=l.color||h.properties.color,h.properties.sort=5}if(this.selectedLinkId){const l=this.transitLinks.features[this.transitLinkOffset[this.selectedLinkId]];l.properties.currentColor=this.colorToRGB("#f4f"),l.properties.sort=5}this.transitLinks={...this.transitLinks}}},pressedEscape(){console.log("ESC"),this.removeSelectedRoute(),this.removeStopMarkers(),this.resetLinkColors(),this.routesOnLink=[]},pressedArrowKey(l){},clearData(){this._departures={},this._mapExtentXYXY=[180,90,-180,-90],this._maximum=0,this._network={nodes:{},links:{}},this.routeData={},this._stopFacilities={},this.transitLinks={type:"FeatureCollection",features:[]},this.transitLines=[],this.selectedRouteIds=[],this.resolvers={},this.routesOnLink=[],this.stopMarkers=[],this.searchText="",this.crossFilters.forEach(l=>{l.cfDemandLink.dispose(),l.cfDemandStop.dispose(),l.cfDemand=null})}},async mounted(){this.$store.commit("setFullScreen",!this.thumbnail),this.debounceHandleSearchText=ca.debounce(this.handleSearchText,350),this.clearData(),this._transitFetcher=new ma,this._transitHelper=new La,this.myState.subfolder=this.subfolder,this.myState.yamlConfig=this.yamlConfig??"",this.myState.thumbnail=this.thumbnail,await this.getVizDetails()&&(this.thumbnail||(this.vizDetails.network||await this.findInputFiles(),this.loadEverything()))},beforeDestroy(){console.log("DESTROYING"),this.clearData(),this._transitFetcher?.terminate(),this._transitHelper?.terminate()}});var rl=function(){var o=this,u=o._self._c;return o._self._setupProxy,u("div",{staticClass:"transit-viz",class:{"hide-thumbnail":!o.thumbnail},attrs:{id:"transit-viz"}},[o.thumbnail?o._e():u("div",{staticClass:"main-layout",on:{mousemove:o.dividerDragging,mouseup:o.dividerDragEnd}},[u("div",{staticClass:"dragger",on:{mousedown:o.dividerDragStart,mouseup:o.dividerDragEnd,mousemove:function(h){return h.stopPropagation(),o.dividerDragging.apply(null,arguments)}}}),u("div",{staticClass:"map-container",class:{"hide-thumbnail":!o.thumbnail},attrs:{oncontextmenu:"return false"}},[o.transitLinks?.features.length?u("transit-layers",{staticClass:"map-styles",attrs:{viewId:o.viewId,links:o.transitLinks,selectedFeatures:o.selectedFeatures,stopMarkers:o.stopMarkers,handleClickEvent:o.handleMapClick,pieSlider:o.pieSlider||0,widthSlider:o.widthSlider,transitLines:o.activeTransitLines,vizDetails:o.vizDetails,isAtlantis:o.isAtlantis}}):o._e(),o.transitLines.length?u("div",{staticClass:"width-sliders flex-row",style:{backgroundColor:o.isDarkMode?"#00000099":"#ffffffaa"}},[u("img",{staticClass:"icon-blue-ramp",attrs:{src:o.icons.blueramp}}),u("b-slider",{staticClass:"pie-slider",attrs:{type:"is-success",tooltip:!1,size:"is-small"},model:{value:o.widthSlider,callback:function(h){o.widthSlider=h},expression:"widthSlider"}}),o.crossFilters.length?u("img",{staticClass:"icon-pie-slider",attrs:{src:o.icons.piechart}}):o._e(),o.crossFilters.length?u("b-slider",{staticClass:"pie-slider",attrs:{type:"is-success",tooltip:!1,size:"is-small"},model:{value:o.pieSlider,callback:function(h){o.pieSlider=h},expression:"pieSlider"}}):o._e()],1):o._e(),u("zoom-buttons",{attrs:{corner:"top-left"}}),o.loadingText?u("div",{staticClass:"status-corner flex-col",style:{height:o.networkOptions.length?"15rem":"5rem"}},[u("p",[o._v(o._s(o.loadingText))]),o.loadProgress>0?u("b-progress",{staticClass:"load-progress",attrs:{value:o.loadProgress,rounded:!1,type:"is-success"}}):o._e(),o.networkOptions.length?u("div",{staticClass:"network-options flex-col"},o._l(o.networkOptions,function(h){return u("b-button",{key:h,staticClass:"xbutton is-small center",attrs:{expanded:""},on:{click:function(c){return o.selectNetwork(h)}}},[o._v(" "+o._s(h))])}),1):o._e()],1):o._e()],1),u("div",{staticClass:"right-panel-holder",style:{width:`${o.legendSectionWidth}px`}},[u("div",{staticClass:"right-side-column"},[o._m(0),o.metrics.length>1?u("div",{staticClass:"panel-item"},[u("div",{staticClass:"metric-buttons"},o._l(o.metrics,function(h,c){return u("button",{key:h.field,staticClass:"button is-small metric-button",style:{color:o.activeMetric===h.field?"white":o.buttonColors[c],border:`1px solid ${o.buttonColors[c]}`,"background-color":o.activeMetric===h.field?o.buttonColors[c]:o.isDarkMode?"#333":"white"},on:{click:function(T){return o.handleClickedMetric(h)}}},[o._v(o._s(o.$i18n.locale==="de"?h.name_de:h.name_en))])}),0)]):o._e(),o.transitLines.length?u("b-input",{staticClass:"searchbox",staticStyle:{padding:"0rem 0.5rem 0.75rem 0"},attrs:{size:"is-small",placeholder:"Search line ID or /regex/"},model:{value:o.searchText,callback:function(h){o.searchText=h},expression:"searchText"}}):o._e(),u("div",{staticClass:"transit-lines flex-col flex1"},[u("lazy-list",{staticClass:"flex1",attrs:{highlightedTransitLines:o.highlightedTransitLines,listProps:o.routeListProps}})],1),u("div",{staticClass:"summary-stats flex-col"},[o._m(1),u("p",{style:{visibility:o.selectedRouteIds.length?"visible":"hidden"}},[u("b",[o._v(o._s(o.selectedRouteIds.length))]),o._v("  selected route"+o._s(o.selectedRouteIds.length!=1?"s":""))]),u("div",{staticClass:"flex-row",style:{visibility:o.selectedRouteIds.length?"visible":"hidden",gap:"0.5rem"}},[u("div",{staticClass:"aa"},[u("b",[o._v(o._s(o.summaryStats.departures))]),o._v(" Departures")]),o.crossFilters.length?u("div",{staticClass:"aa"},[u("b",[o._v(o._s(o.summaryStats.pax))]),o._v(" Passengers")]):o._e()])]),o.thumbnail?o._e():u("legend-box",{staticClass:"legend",attrs:{rows:o.legendRows},on:{click:o.clickedLegend}})],1)])])])},ol=[function(){var l=this,o=l._self._c;return l._self._setupProxy,o("p",{staticStyle:{"margin-top":"0.25rem"}},[o("b",[l._v("TRANSIT INSPECTOR")])])},function(){var l=this,o=l._self._c;return l._self._setupProxy,o("div",{staticClass:"sum-stat-title"},[o("b",[l._v("SUMMARY STATISTICS")])])}],al=Ot(il,rl,ol,!1,null,"4bd8d54e");const Il=al.exports;export{Il as default};
